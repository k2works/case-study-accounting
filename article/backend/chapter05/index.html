
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="財務会計システムの設計・開発ドキュメント">
      
      
        <meta name="author" content="Project Team">
      
      
      
        <link rel="prev" href="../chapter04/">
      
      
        <link rel="next" href="../chapter06/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>chapter05 - 財務会計システム ケーススタディ</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#5" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="財務会計システム ケーススタディ" class="md-header__button md-logo" aria-label="財務会計システム ケーススタディ" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            財務会計システム ケーススタディ
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              chapter05
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/case-study-accounting" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    case-study-accounting
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../requirements/requirements_definition/" class="md-tabs__link">
          
  
  
  要件定義

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../design/architecture_backend/" class="md-tabs__link">
          
  
  
  設計

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../development/release_plan/" class="md-tabs__link">
          
  
  
  開発

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../operation/dev_env/" class="md-tabs__link">
          
  
  
  運用

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89/" class="md-tabs__link">
          
  
  
  リファレンス

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../template/ADR/" class="md-tabs__link">
          
  
  
  テンプレート

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践ガイド

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../functional-java/" class="md-tabs__link">
          
  
  
  関数型プログラミング実践ガイド

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="財務会計システム ケーススタディ" class="md-nav__button md-logo" aria-label="財務会計システム ケーススタディ" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    財務会計システム ケーススタディ
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/case-study-accounting" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    case-study-accounting
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    要件定義
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    要件定義
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/requirements_definition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/business_usecase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ビジネスユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/system_usecase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    システムユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/user_story/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ユーザーストーリー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    アーキテクチャ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    アーキテクチャ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インフラストラクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    モデル設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    モデル設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/data-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    データモデル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/domain-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ドメインモデル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/ui-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI 設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/test_strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    テスト戦略
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/non_functional/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    非機能要件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/operation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用要件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/tech_stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック選定
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    開発
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    開発
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/release_plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    リリース計画
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    イテレーション計画
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    イテレーション計画
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ふりかえり
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    ふりかえり
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    運用
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    運用
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/dev_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    開発環境解説
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/dev_container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    開発コンテナ構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/backend_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンド構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/backend_demo_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンドデモ環境
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド開発手順
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_common_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド共通 UI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_demo_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンドデモ環境
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/deploy_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    デモ環境デプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/third_party_service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    外部サービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/sonarqube_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SonarQube セットアップガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/e2e_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    E2E テスト実行手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/github_project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GitHub Project 運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    リファレンス
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    リファレンス
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    開発ガイドライン
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    開発ガイドライン
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    開発ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%88%E3%81%84%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%A8%E3%81%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    よいソフトウェアとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%A8%E3%83%86%E3%82%B9%E3%83%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    コーディングとテストガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    エクストリームプログラミング
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    分析・設計ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    分析・設計ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9%E4%BD%9C%E6%88%90%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ユースケース作成ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アーキテクチャ設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%87%E3%83%BC%E3%82%BF%E3%83%A2%E3%83%87%E3%83%AB%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    データモデル設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%83%A2%E3%83%87%E3%83%AB%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ドメインモデル設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/UI%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インフラ設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    非機能・運用ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    非機能・運用ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%86%E3%82%B9%E3%83%88%E6%88%A6%E7%95%A5%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    テスト戦略ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%9D%9E%E6%A9%9F%E8%83%BD%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    非機能要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%81%8B%E7%94%A8%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E3%83%BB%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%88%E7%94%BB%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    リリース・イテレーション計画ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    環境構築ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    環境構築ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Java%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Javaアプリケーション環境構築ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/TypeScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TypeScriptアプリケーション環境構築ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/CodexCLIMCP%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%AD%E5%AE%9A%E6%89%8B%E9%A0%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Codex CLI MCP サーバー設定手順
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/CodexCLIMCP%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA%E3%83%95%E3%83%AD%E3%83%BC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Codex CLI MCP アプリケーション開発フロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    テンプレート
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    テンプレート
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/ADR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%8C%E4%BA%86%E5%A0%B1%E5%91%8A%E6%9B%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション完了報告書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%82%A4%E3%83%B3%E3%82%BB%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%87%E3%83%83%E3%82%AD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インセプションデッキ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%81%BE%E3%81%9A%E3%81%93%E3%82%8C%E3%82%92%E8%AA%AD%E3%82%82%E3%81%86%E3%83%AA%E3%82%B9%E3%83%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    まずこれを読もうリスト
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E5%AE%8C%E5%85%A8%E5%BD%A2%E5%BC%8F%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    完全形式のユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E8%A8%AD%E8%A8%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" checked>
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    バックエンド編（Java版）
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    バックエンド編（Java版）
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter00/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第5章
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 勘定科目マスタのテーブル設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 勘定科目マスタのテーブル設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        最初の要求「勘定科目を管理したい」
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="最初の要求「勘定科目を管理したい」">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tdd-red-green-refactor" class="md-nav__link">
    <span class="md-ellipsis">
      
        TDD サイクル：Red → Green → Refactor
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#red" class="md-nav__link">
    <span class="md-ellipsis">
      
        Red：失敗するテストを書く
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#greenflyway" class="md-nav__link">
    <span class="md-ellipsis">
      
        Green：Flyway マイグレーションでテーブルを作成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er" class="md-nav__link">
    <span class="md-ellipsis">
      
        勘定科目マスタの ER 図
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 勘定科目マスタの項目定義
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2 勘定科目マスタの項目定義">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        実務で必要な項目
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bspl" class="md-nav__link">
    <span class="md-ellipsis">
      
        BSPL区分と貸借区分
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        取引要素区分と集計区分
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdd" class="md-nav__link">
    <span class="md-ellipsis">
      
        TDD でリファクタリング：項目の追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        拡張後の ER 図
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 勘定科目構成マスタの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 勘定科目構成マスタの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        チルダ連結方式による階層管理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        科目ツリー構造の表現
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        チルダ連結方式の利点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        科目残高集計の実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#54" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 勘定科目構成マスタのテーブル設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 勘定科目構成マスタのテーブル設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#er_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        ER 図
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flyway" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flyway マイグレーション
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis マッパー
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#55" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5 課税取引マスタの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.5 課税取引マスタの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        消費税計算のための課税取引マスタ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        課税取引の種類
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flyway_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flyway マイグレーション
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        ER 図
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-sql" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis マッパー（動的 SQL）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        勘定科目マスタとの関連
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#56" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6 階層構造のテスト
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6 階層構造のテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        子孫科目の取得テスト
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        残高集計テスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#57" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7 主要テーブル一覧
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.7 主要テーブル一覧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        マスタ系テーブル（第5章で作成）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        テーブル間のリレーション
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        まとめ
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド編（React版）
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    フロントエンド編（React版）
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter00/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    関数型プログラミング実践ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    関数型プログラミング実践ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    関数型プログラミング（Java版）
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    関数型プログラミング（Java版）
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part I 基礎
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part II 関数型スタイル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part III エラーハンドリング
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part IV IO と副作用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part V 並行処理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part VI 実践
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="5">第5章: マスタデータモデル<a class="headerlink" href="#5" title="Permanent link">&para;</a></h1>
<h2 id="51">5.1 勘定科目マスタのテーブル設計<a class="headerlink" href="#51" title="Permanent link">&para;</a></h2>
<h3 id="_1">最初の要求「勘定科目を管理したい」<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>財務会計システムの基礎となる「勘定科目」を管理するためのテーブルを設計します。TDD のアプローチで、最小限の機能から始めて段階的に機能を拡張していきます。</p>
<h4 id="tdd-red-green-refactor">TDD サイクル：Red → Green → Refactor<a class="headerlink" href="#tdd-red-green-refactor" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjQ2NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTI4cHg7aGVpZ2h0OjQ2NXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDUyOCA0NjUiIHdpZHRoPSI1MjhweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPlRERCAmIzEyNDY5OyYjMTI0NTI7JiMxMjQ2MzsmIzEyNTIzOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkzLjY2NTgiIHg9IjIxMC41OTIyIiB5PSIyMi45OTUxIj5UREQgJiMxMjQ2OTsmIzEyNDUyOyYjMTI0NjM7JiMxMjUyMzs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAzLjIyNzMiIHg9IjE5MC43NCIgeT0iMTQwLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxOTAuNzQiIHgyPSIyOTMuOTY3MyIgeTE9IjE2Ni41OTM4IiB5Mj0iMTY2LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My4yMjczIiB4PSIyMDAuNzQiIHk9IjE1OC4yOTIiPlJlZCYjNjUyODg7JiMyMjgzMzsmIzI1OTQzOyYjNjUyODk7PC90ZXh0PjwvZz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExOC43MDM5IiB4PSI3IiB5PSIyODIuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjciIHgyPSIxMjUuNzAzOSIgeTE9IjMwOC41OTM4IiB5Mj0iMzA4LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OC43MDM5IiB4PSIxNyIgeT0iMzAwLjI5MiI+R3JlZW4mIzY1Mjg4OyYjMjUxMDQ7JiMyMTE1MTsmIzY1Mjg5OzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMzUuMzU2MiIgeD0iMTc0LjY3IiB5PSI0MDkuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE3NC42NyIgeDI9IjMxMC4wMjYyIiB5MT0iNDM1LjU5MzgiIHkyPSI0MzUuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS4zNTYyIiB4PSIxODQuNjciIHk9IjQyNy4yOTIiPlJlZmFjdG9yJiM2NTI4ODsmIzI1OTEzOyYjMjE4OTI7JiM2NTI4OTs8L3RleHQ+PC9nPjxlbGxpcHNlIGN4PSIyNDIuMzUiIGN5PSI1My4yOTY5IiBmaWxsPSIjMjIyMjIyIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjIiIGRhdGEtc291cmNlLWxpbmU9IjEzIiBpZD0iZW50MDAwMyI+PHBhdGggZD0iTTMyOC44NSwxNDUuMTY2OSBMMzI4Ljg1LDE2MS4yOTY5IEwyOTQuMzEsMTY1LjI5NjkgTDMyOC44NSwxNjkuMjk2OSBMMzI4Ljg1LDE4NS40MzI1IEEwLDAgMCAwIDAgMzI4Ljg1LDE4NS40MzI1IEw1MDUuODUwMiwxODUuNDMyNSBBMCwwIDAgMCAwIDUwNS44NTAyLDE4NS40MzI1IEw1MDUuODUwMiwxNTUuMTY2OSBMNDk1Ljg1MDIsMTQ1LjE2NjkgTDMyOC44NSwxNDUuMTY2OSBBMCwwIDAgMCAwIDMyOC44NSwxNDUuMTY2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ5NS44NTAyLDE0NS4xNjY5IEw0OTUuODUwMiwxNTUuMTY2OSBMNTA1Ljg1MDIsMTU1LjE2NjkgTDQ5NS44NTAyLDE0NS4xNjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTYuMDAwMiIgeD0iMzM0Ljg1IiB5PSIxNjIuMjMzOCI+JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzsmIzEyMzY0OyYjMjMzODQ7JiMyMjMxMjsmIzEyMzc1OyYjMTIzOTQ7JiMxMjM1NjsmIzEyMzgzOyYjMTI0MTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4wMDAxIiB4PSIzMzQuODUiIHk9IjE3Ny4zNjY2Ij4mIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODsmIzEyMzk5OyYjMjI4MzM7JiMyNTk0MzsmIzEyMzc3OyYjMTI0Mjc7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU41IiBkYXRhLXNvdXJjZS1saW5lPSIxOCIgaWQ9ImVudDAwMDYiPjxwYXRoIGQ9Ik0xNjAuNzUsMjg3LjE2NjkgTDE2MC43NSwzMDMuMjk2OSBMMTI2LjIsMzA3LjI5NjkgTDE2MC43NSwzMTEuMjk2OSBMMTYwLjc1LDMyNy40MzI1IEEwLDAgMCAwIDAgMTYwLjc1LDMyNy40MzI1IEwzNDcuOTU3MiwzMjcuNDMyNSBBMCwwIDAgMCAwIDM0Ny45NTcyLDMyNy40MzI1IEwzNDcuOTU3MiwyOTcuMTY2OSBMMzM3Ljk1NzIsMjg3LjE2NjkgTDE2MC43NSwyODcuMTY2OSBBMCwwIDAgMCAwIDE2MC43NSwyODcuMTY2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTMzNy45NTcyLDI4Ny4xNjY5IEwzMzcuOTU3MiwyOTcuMTY2OSBMMzQ3Ljk1NzIsMjk3LjE2NjkgTDMzNy45NTcyLDI4Ny4xNjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjYuMjA3MiIgeD0iMTY2Ljc1IiB5PSIzMDQuMjMzOCI+Rmx5d2F5ICYjMTI1MTA7JiMxMjQ1MjsmIzEyNDY0OyYjMTI1MjQ7JiMxMjU0MDsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTsmIzEyMzkxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIxNjYuNzUiIHk9IjMxOS4zNjY2Ij4mIzEyNDg2OyYjMTI1NDA7JiMxMjUwMjsmIzEyNTIzOyYjMTI0MzQ7JiMyMDMxNjsmIzI1MTA0OzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OOCIgZGF0YS1zb3VyY2UtbGluZT0iMjMiIGlkPSJlbnQwMDA5Ij48cGF0aCBkPSJNMzQ0Ljg1LDQxNC4xNjY5IEwzNDQuODUsNDMwLjI5NjkgTDMxMC4yNSw0MzQuMjk2OSBMMzQ0Ljg1LDQzOC4yOTY5IEwzNDQuODUsNDU0LjQzMjUgQTAsMCAwIDAgMCAzNDQuODUsNDU0LjQzMjUgTDUyMS44NTAyLDQ1NC40MzI1IEEwLDAgMCAwIDAgNTIxLjg1MDIsNDU0LjQzMjUgTDUyMS44NTAyLDQyNC4xNjY5IEw1MTEuODUwMiw0MTQuMTY2OSBMMzQ0Ljg1LDQxNC4xNjY5IEEwLDAgMCAwIDAgMzQ0Ljg1LDQxNC4xNjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNTExLjg1MDIsNDE0LjE2NjkgTDUxMS44NTAyLDQyNC4xNjY5IEw1MjEuODUwMiw0MjQuMTY2OSBMNTExLjg1MDIsNDE0LjE2NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ni4wMDAyIiB4PSIzNTAuODUiIHk9IjQzMS4yMzM4Ij4mIzI2MDgyOyYjMjMzODQ7JiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7JiMxMjQzNDsmIzMyMTczOyYjMjUzNDU7JiMxMjM3NTsmIzEyMzk0OyYjMTIzNjQ7JiMxMjQyNTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iMzUwLjg1IiB5PSI0NDYuMzY2NiI+JiMzNTM3MzsmIzM1MzM2OyYjMTI0MzQ7JiMyNTkxMzsmIzIxODkyOzwvdGV4dD48L2c+PCEtLWxpbmsgKnN0YXJ0KiB0byByZWQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwMiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjciIGlkPSJsbmszIj48cGF0aCBkPSJNMjQyLjM1LDYzLjY3NjkgQzI0Mi4zNSw4MC40MDY5IDI0Mi4zNSwxMDkuODg2OSAyNDIuMzUsMTMzLjkyNjkiIGZpbGw9Im5vbmUiIGlkPSIqc3RhcnQqLXRvLXJlZCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQyLjM1LDEzOS45MjY5LDI0Ni4zNSwxMzAuOTI2OSwyNDIuMzUsMTM0LjkyNjksMjM4LjM1LDEzMC45MjY5LDI0Mi4zNSwxMzkuOTI2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjI0My4zNSIgeT0iMTA2LjM2MzgiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTI0MzQ7JiMyNjM2MDsmIzEyMzY3OzwvdGV4dD48L2c+PCEtLWxpbmsgcmVkIHRvIGdyZWVuLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI4IiBpZD0ibG5rNCI+PHBhdGggZD0iTTIxMS43LDE5MC42ODY5IEMxNzkuNDksMjE2LjI5NjkgMTMzLjgzNiwyNTIuNjIyMiAxMDEuNjQ2LDI3OC4yMjIyIiBmaWxsPSJub25lIiBpZD0icmVkLXRvLWdyZWVuIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI5Ni45NSwyODEuOTU2OSwxMDYuNDgzOCwyNzkuNDg1NiwxMDAuODYzMywyNzguODQ0NywxMDEuNTA0MywyNzMuMjI0Myw5Ni45NSwyODEuOTU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjE3MS4xMiIgeT0iMjMzLjM2MzgiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTI0MzQ7JiMzNjg5MDsmIzEyMzc3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIxNzEuMTIiIHk9IjI0OC40OTY2Ij4mIzI2MzY4OyYjMjM1Njc7JiMzODQ4MDsmIzEyMzk4OyYjMjM0NTU7JiMzNTAxMzs8L3RleHQ+PC9nPjwhLS1saW5rIGdyZWVuIHRvIHJlZmFjdG9yLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI5IiBpZD0ibG5rNSI+PHBhdGggZD0iTTEwMC43LDMzMi42OTY5IEMxMzEuNzIsMzU0LjcxNjkgMTcyLjIwNzUsMzgzLjQ4MzYgMjAzLjE5NzUsNDA1LjQ4MzYiIGZpbGw9Im5vbmUiIGlkPSJncmVlbi10by1yZWZhY3RvciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjA4LjA5LDQwOC45NTY5LDIwMy4wNjY3LDQwMC40ODU0LDIwNC4wMTI5LDQwNi4wNjI1LDE5OC40MzU3LDQwNy4wMDg3LDIwOC4wOSw0MDguOTU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjE2NS44OSIgeT0iMzc1LjM2MzgiPiYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyYjMTI0MzQ7JiMyNTkxMzsmIzIxODkyOzwvdGV4dD48L2c+PCEtLWxpbmsgcmVmYWN0b3IgdG8gcmVkLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDIiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxMCIgaWQ9ImxuazYiPjxwYXRoIGQ9Ik0yODkuMDYsNDA4Ljk1NjkgQzMxNi44MSwzOTEuNjc2OSAzNDkuNTksMzY1LjY0NjkgMzY1LjM1LDMzMi4yOTY5IEMzNzQuODUsMzEyLjIwNjkgMzc0LjE2LDMwMi42OTY5IDM2NS4zNSwyODIuMjk2OSBDMzQ4LjQ5LDI0My4yMTY5IDMxNi4xODEyLDIxNC42NDM2IDI4Ny4wNzEyLDE5NC4yMTM2IiBmaWxsPSJub25lIiBpZD0icmVmYWN0b3ItdG8tcmVkIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyODIuMTYsMTkwLjc2NjksMjg3LjIyODksMTk5LjIxMTIsMjg2LjI1MjcsMTkzLjYzOTIsMjkxLjgyNDYsMTkyLjY2MjksMjgyLjE2LDE5MC43NjY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMzczLjIyIiB5PSIzMTEuODYzOCI+JiMyNzQyNTsmIzEyMzk4OyYjMzUyMDE7JiMyNzcxNDs8L3RleHQ+PC9nPjw/cGxhbnR1bWwtc3JjIFRQNUZJbTkxNkNSbHlvYTZadTVWZTRDZGdOanFnbXZCWllSODJrajJVN0RjQkRPSTUyZERhZ0lJTkNnX0k3eTQtcEhsQ3dxZGxxOHBrd25SR2pUdmRsY3pwX2t5VGlSRTRob05JNjFXaHkyd200UjBObjNBc3VQRFM2b045OVRwSHRHZHlnZ3ZkOVRac0NYWllvSDNVU1NZbjVHNndUSjRVSVNxZkZMaEg0V1BIdFJFcWd4QmNNWUs4YW1XOEJJX1NPWlp5SXFEbmZpTy0xY202TjA3TTV0VVZXMmo4WXJlV216VWlvb0FEcTFSMXdQaTV5TXVrY1pMVzB4NWlFQ3pkZ0IwN2YyM01WZWxjbUFWMG96aGwxeThoVEdlWEVwVkF1eHRIRU00OE1KY3IyUE05ZHJpdXJwQXRyeWRxOUk2QVdqZUhHb2tIVGk1c1dKdzNCRzRqMEVDZVlXYzdHS0xnZ0owQlgwbmFyV3ByeWIxU1RsUG1lYkhLNGxVLVZTTzAtX2hNVW1UVTBfdTU2Wmx4dFhNX19maWdtbHlZcnFyQlBpRkFrZGx6aHhWMWg5Mm0tMExPNk5ha0dGRlRROXNHa2VGPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="red">Red：失敗するテストを書く<a class="headerlink" href="#red" title="Permanent link">&para;</a></h3>
<p>TDD の最初のステップは「失敗するテストを書く」ことです。データベース設計において、これは「どのようなデータを、どのように扱いたいか」を具体的なコードで示すことに相当します。</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * 勘定科目マスタのテスト</span>
<span class="cm"> */</span>
<span class="nd">@Testcontainers</span>
<span class="nd">@TestMethodOrder</span><span class="p">(</span><span class="n">MethodOrderer</span><span class="p">.</span><span class="na">OrderAnnotation</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">AccountTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Container</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">postgres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;postgres:16-alpine&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withDatabaseName</span><span class="p">(</span><span class="s">&quot;testdb&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withUsername</span><span class="p">(</span><span class="s">&quot;testuser&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withPassword</span><span class="p">(</span><span class="s">&quot;testpass&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@Order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;勘定科目を登録できる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">testCreateAccount</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            INSERT INTO &quot;勘定科目マスタ&quot; (&quot;勘定科目コード&quot;, &quot;勘定科目名&quot;, &quot;勘定科目種別&quot;, &quot;残高&quot;)</span>
<span class="s">            VALUES (?, ?, ?::account_type, ?)</span>
<span class="s">            RETURNING &quot;勘定科目ID&quot;, &quot;勘定科目コード&quot;, &quot;勘定科目名&quot;, &quot;勘定科目種別&quot;, &quot;残高&quot;</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">pstmt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="na">prepareStatement</span><span class="p">(</span><span class="n">sql</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">pstmt</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1000&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">pstmt</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;現金&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">pstmt</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;資産&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">pstmt</span><span class="p">.</span><span class="na">setBigDecimal</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;50000.00&quot;</span><span class="p">));</span>

<span class="w">            </span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pstmt</span><span class="p">.</span><span class="na">executeQuery</span><span class="p">();</span>

<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">rs</span><span class="p">.</span><span class="na">next</span><span class="p">()).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="s">&quot;勘定科目コード&quot;</span><span class="p">)).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;1000&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="s">&quot;勘定科目名&quot;</span><span class="p">)).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;現金&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="s">&quot;勘定科目種別&quot;</span><span class="p">)).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;資産&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@Order</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;勘定科目種別でフィルタリングできる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">testFilterAccountsByType</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 複数の勘定科目を登録</span>
<span class="w">        </span><span class="n">insertAccount</span><span class="p">(</span><span class="s">&quot;1000&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;現金&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;資産&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;50000.00&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">insertAccount</span><span class="p">(</span><span class="s">&quot;2000&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;買掛金&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;負債&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;30000.00&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">insertAccount</span><span class="p">(</span><span class="s">&quot;3000&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;資本金&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;純資産&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;100000.00&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 資産勘定のみを取得</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            SELECT &quot;勘定科目名&quot;</span>
<span class="s">            FROM &quot;勘定科目マスタ&quot;</span>
<span class="s">            WHERE &quot;勘定科目種別&quot; = ?::account_type</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">assetNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">pstmt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="na">prepareStatement</span><span class="p">(</span><span class="n">sql</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">pstmt</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;資産&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pstmt</span><span class="p">.</span><span class="na">executeQuery</span><span class="p">();</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">rs</span><span class="p">.</span><span class="na">next</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">assetNames</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="s">&quot;勘定科目名&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">assetNames</span><span class="p">).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">assetNames</span><span class="p">).</span><span class="na">containsExactly</span><span class="p">(</span><span class="s">&quot;現金&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>実行結果（Red - 失敗）</strong>：</p>
<div class="highlight"><pre><span></span><code>AccountTest<span class="w"> </span>&gt;<span class="w"> </span>testCreateAccount<span class="o">()</span><span class="w"> </span>FAILED
<span class="w">    </span>java.sql.SQLException:<span class="w"> </span>ERROR:<span class="w"> </span>relation<span class="w"> </span><span class="s2">&quot;勘定科目マスタ&quot;</span><span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>exist
</code></pre></div>
<p>テーブルが存在しないためテストは失敗します。これが正しい TDD の最初のステップです。</p>
<h3 id="greenflyway">Green：Flyway マイグレーションでテーブルを作成<a class="headerlink" href="#greenflyway" title="Permanent link">&para;</a></h3>
<p>テストを通す最小限の実装として、Flyway マイグレーションファイルでテーブルを作成します。</p>
<p><strong>V001__create_account_master.sql</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- 勘定科目種別のenum型を作成</span>
<span class="k">DO</span><span class="w"> </span><span class="err">$$</span><span class="w"> </span><span class="k">BEGIN</span>
<span class="w">    </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="n">account_type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;資産&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;負債&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;純資産&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;収益&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;費用&#39;</span><span class="p">);</span>
<span class="k">EXCEPTION</span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">duplicate_object</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="k">END</span><span class="w"> </span><span class="err">$$</span><span class="p">;</span>

<span class="c1">-- 勘定科目マスタテーブルを作成</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;勘定科目ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;勘定科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;勘定科目名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;勘定科目種別&quot;</span><span class="w"> </span><span class="n">account_type</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;残高&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">);</span>

<span class="c1">-- テーブルコメント</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;勘定科目マスタ（財務会計システムの基本となる勘定科目情報）&#39;</span><span class="p">;</span>

<span class="c1">-- カラムコメント</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;勘定科目ID&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;勘定科目ID（主キー）&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;勘定科目コード（例：1000, 2000）&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;勘定科目名&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;勘定科目名（例：現金、売掛金）&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;勘定科目種別&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;勘定科目種別（資産、負債、純資産、収益、費用）&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;残高&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;残高&#39;</span><span class="p">;</span>
</code></pre></div>
<p><strong>実行結果（Green - 成功）</strong>：</p>
<div class="highlight"><pre><span></span><code>AccountTest<span class="w"> </span>&gt;<span class="w"> </span>testCreateAccount<span class="o">()</span><span class="w"> </span>PASSED
AccountTest<span class="w"> </span>&gt;<span class="w"> </span>testFilterAccountsByType<span class="o">()</span><span class="w"> </span>PASSED

BUILD<span class="w"> </span>SUCCESSFUL
<span class="m">6</span><span class="w"> </span>tests<span class="w"> </span>passed
</code></pre></div>
<h3 id="er">勘定科目マスタの ER 図<a class="headerlink" href="#er" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjE3NnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDIzcHg7aGVpZ2h0OjE3NnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQyMyAxNzYiIHdpZHRoPSI0MjNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbGFzcyBBY2NvdW50LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWNjb3VudCIgZGF0YS1zb3VyY2UtbGluZT0iMSIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTYyLjA3ODEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI3MS40MDI5IiB4PSI3IiB5PSI3Ii8+PGVsbGlwc2UgY3g9Ijg5LjQ1MTciIGN5PSIyMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNOTMuNTYxLDI5IEw4NS44NDIzLDI5IEw4NS44NDIzLDE2LjYwOTQgTDkzLjU2MSwxNi42MDk0IEw5My41NjEsMTguNzY1NiBMODguMjk1NCwxOC43NjU2IEw4OC4yOTU0LDIxLjQzNzUgTDkzLjA2MSwyMS40Mzc1IEw5My4wNjEsMjMuNTkzOCBMODguMjk1NCwyMy41OTM4IEw4OC4yOTU0LDI2Ljg0MzggTDkzLjU2MSwyNi44NDM4IEw5My41NjEsMjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIxMDkuOTUxNyIgeT0iMjcuODQ2NyI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjI3Ny40MDI5IiB5MT0iMzkiIHkyPSIzOSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI1Mi42NDg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjgyOTgiIHg9IjI3IiB5PSI1NS45OTUxIj4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2O0lEPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS43OTIiIHg9Ijk5LjgyOTgiIHk9IjU1Ljk5NTEiPjogSU5URUdFUiAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjI3Ny40MDI5IiB5MT0iNjMuMjk2OSIgeTI9IjYzLjI5NjkiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNzYuOTQ1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIyNyIgeT0iODAuMjkyIj4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDcuNDAzMyIgeD0iMTI0Ljk5OTYiIHk9IjgwLjI5MiI+OiBWQVJDSEFSKDIwKSAmIzE3MTtVSyYjMTg3OzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iOTMuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iOTYuNTg4OSI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTUuMzAxOCIgeD0iOTYuOTk5NyIgeT0iOTYuNTg4OSI+OiBWQVJDSEFSKDEwMCk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjEwOS41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjI3IiB5PSIxMTIuODg1NyI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzMxMjc4OyYjMjEwMjk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjgxMTUiIHg9IjExMC45OTk2IiB5PSIxMTIuODg1NyI+OiBFTlVNPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxMjUuODM1OSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIyNyIgeT0iMTI5LjE4MjYiPiYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0LjI0OSIgeD0iNTQuOTk5OSIgeT0iMTI5LjE4MjYiPjogREVDSU1BTCgxNSwyKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTQyLjEzMjgiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjE0NS40Nzk1Ij4mIzIwMzE2OyYjMjUxMDQ7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MC4zMDk2IiB4PSI4Mi45OTk4IiB5PSIxNDUuNDc5NSI+OiBUSU1FU1RBTVA8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE1OC40Mjk3IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjI3IiB5PSIxNjEuNzc2NCI+JiMyNjM1NjsmIzI2MDMyOyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTAuMzA5NiIgeD0iODIuOTk5OCIgeT0iMTYxLjc3NjQiPjogVElNRVNUQU1QPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4zIiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgaWQ9ImVudDAwMDQiPjxwYXRoIGQ9Ik0zMTMuMDEsMzcuNjQgTDMxMy4wMSw4NC4wNCBMMjc4Ljg1LDg4LjA0IEwzMTMuMDEsOTIuMDQgTDMxMy4wMSwxMzguNDM2OSBBMCwwIDAgMCAwIDMxMy4wMSwxMzguNDM2OSBMNDE2LjM5LDEzOC40MzY5IEEwLDAgMCAwIDAgNDE2LjM5LDEzOC40MzY5IEw0MTYuMzksNDcuNjQgTDQwNi4zOSwzNy42NCBMMzEzLjAxLDM3LjY0IEEwLDAgMCAwIDAgMzEzLjAxLDM3LjY0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDA2LjM5LDM3LjY0IEw0MDYuMzksNDcuNjQgTDQxNi4zOSw0Ny42NCBMNDA2LjM5LDM3LjY0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Mi4zOCIgeD0iMzE5LjAxIiB5PSI1NC43MDY5Ij4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMzEyNzg7JiMyMTAyOTs6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0LjgyMzMiIHg9IjMxOS4wMSIgeT0iNjkuODM5NyI+LSAmIzM2MDM5OyYjMjk5ODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0LjgyMzMiIHg9IjMxOS4wMSIgeT0iODQuOTcyNSI+LSAmIzM2MDAwOyYjMjA2NjE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3LjgyMzMiIHg9IjMxOS4wMSIgeT0iMTAwLjEwNTMiPi0gJiMzMjAyMDsmIzM2MDM5OyYjMjk5ODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0LjgyMzMiIHg9IjMxOS4wMSIgeT0iMTE1LjIzODEiPi0gJiMyMTQ1NDsmIzMwNDEwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNC44MjMzIiB4PSIzMTkuMDEiIHk9IjEzMC4zNzEiPi0gJiMzNjAyNzsmIzI5OTkyOzwvdGV4dD48L2c+PD9wbGFudHVtbC1zcmMgSXlxaG9Jb2ZMNTF3c1p0WndSZlBwdlRGVjN2eHRVRmNVTy1SVFp2a3NnLWFhNVlpdTlZU2Q1LVFMdzlHcFFNYmVBTTVoQ3hKSEtsQklpN0pCeUpMdEpMOG1TT2NtRGxFWmFqTjVxRlR1d1JEWnZsdEY2eGsxMmFGU21ub3pkMENxWjBvcTBIZzJHTGZHTFZfVDQ4bGlhZjMwbUREMzNORkx3bnhzaDRLZkNwTEJ6R05CRnJpTlZWQnJKRDBHWXdrcGZ3LVpadVFYZ093SFgyakpfUkVVVE9udVRkcWZTemNEZTVLWDdad2tXUTdFRmU2RzdKRXRsOWlzV1BpaWhMU043ZHY5UWFBSFBkZjZJS0EtTWNtcUUzMlQ4aUxid3gyWXl0anB3U2kxWjRzQk5aUWoxTjhVQnZiMmJwbVFOX1Z5emJUT0RkVHB3VWl1NGhESXI0MGNHdTA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h2 id="52">5.2 勘定科目マスタの項目定義<a class="headerlink" href="#52" title="Permanent link">&para;</a></h2>
<h3 id="_2">実務で必要な項目<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>財務会計システムで必要となる勘定科目マスタの項目を以下に示します。</p>
<table>
<thead>
<tr>
<th>項目名</th>
<th>説明</th>
<th>データ型</th>
</tr>
</thead>
<tbody>
<tr>
<td>勘定科目コード</td>
<td>勘定科目を一意に識別するコード</td>
<td>VARCHAR(20)</td>
</tr>
<tr>
<td>勘定科目名</td>
<td>勘定科目の正式名称</td>
<td>VARCHAR(100)</td>
</tr>
<tr>
<td>勘定科目略名</td>
<td>画面表示用の短縮名称</td>
<td>VARCHAR(40)</td>
</tr>
<tr>
<td>勘定科目カナ</td>
<td>検索用のカナ表記</td>
<td>VARCHAR(40)</td>
</tr>
<tr>
<td>BSPL区分</td>
<td>貸借対照表か損益計算書かの区分</td>
<td>CHAR(1)</td>
</tr>
<tr>
<td>貸借区分</td>
<td>借方か貸方かの区分</td>
<td>CHAR(1)</td>
</tr>
<tr>
<td>取引要素区分</td>
<td>資産、負債、純資産、収益、費用の分類</td>
<td>CHAR(1)</td>
</tr>
<tr>
<td>合計科目</td>
<td>集計科目かどうかのフラグ</td>
<td>BOOLEAN</td>
</tr>
<tr>
<td>表示順序</td>
<td>財務諸表での表示順</td>
<td>INTEGER</td>
</tr>
<tr>
<td>集計対象</td>
<td>集計対象かどうかのフラグ</td>
<td>BOOLEAN</td>
</tr>
</tbody>
</table>
<h3 id="bspl">BSPL区分と貸借区分<a class="headerlink" href="#bspl" title="Permanent link">&para;</a></h3>
<p><strong>BSPL区分</strong>は、勘定科目が財務諸表のどこに表示されるかを示します。</p>
<table>
<thead>
<tr>
<th>区分</th>
<th>説明</th>
<th>対象勘定科目種別</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>貸借対照表（Balance Sheet）</td>
<td>資産、負債、純資産</td>
</tr>
<tr>
<td>P</td>
<td>損益計算書（Profit and Loss）</td>
<td>収益、費用</td>
</tr>
</tbody>
</table>
<p><strong>貸借区分</strong>は、勘定科目の増加がどちら側に記帳されるかを示します。</p>
<table>
<thead>
<tr>
<th>区分</th>
<th>説明</th>
<th>対象勘定科目種別</th>
</tr>
</thead>
<tbody>
<tr>
<td>借方（Debit）</td>
<td>資産の増加、費用の発生</td>
<td>資産、費用</td>
</tr>
<tr>
<td>貸方（Credit）</td>
<td>負債・純資産の増加、収益の発生</td>
<td>負債、純資産、収益</td>
</tr>
</tbody>
</table>
<h3 id="_3">取引要素区分と集計区分<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p><strong>取引要素区分</strong>は、会計の5要素を明示的に管理します。</p>
<table>
<thead>
<tr>
<th>区分</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>資産</td>
</tr>
<tr>
<td>2</td>
<td>負債</td>
</tr>
<tr>
<td>3</td>
<td>純資産</td>
</tr>
<tr>
<td>4</td>
<td>収益</td>
</tr>
<tr>
<td>5</td>
<td>費用</td>
</tr>
</tbody>
</table>
<p><strong>集計区分</strong>は、勘定科目の階層構造における役割を示します。</p>
<table>
<thead>
<tr>
<th>区分</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>見出科目</td>
<td>勘定科目の大分類</td>
<td>「資産の部」「流動資産」</td>
</tr>
<tr>
<td>集計科目</td>
<td>複数の明細科目を集計する科目</td>
<td>「現金及び預金」</td>
</tr>
<tr>
<td>明細科目</td>
<td>実際に仕訳入力される科目</td>
<td>「現金」「普通預金」</td>
</tr>
</tbody>
</table>
<h3 id="tdd">TDD でリファクタリング：項目の追加<a class="headerlink" href="#tdd" title="Permanent link">&para;</a></h3>
<p><strong>V002__add_account_fields.sql</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- 勘定科目マスタに実務項目を追加</span>

<span class="c1">-- BSPL区分を追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;BSPL区分&quot;</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">-- 取引要素区分を追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;取引要素区分&quot;</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">-- 費用区分を追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;費用区分&quot;</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">-- 合計科目フラグを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;合計科目&quot;</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- 表示順序を追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;表示順序&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">;</span>

<span class="c1">-- 集計対象フラグを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;集計対象&quot;</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- 勘定科目カナを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目カナ&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>

<span class="c1">-- コメント追加</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;BSPL区分&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;BSPL区分（B:貸借対照表, P:損益計算書）&#39;</span><span class="p">;</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;取引要素区分&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;取引要素区分（1:資産, 2:負債, 3:純資産, 4:収益, 5:費用）&#39;</span><span class="p">;</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;費用区分&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;費用区分（1:売上原価, 2:販売費及び一般管理費, 3:営業外費用）&#39;</span><span class="p">;</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;合計科目&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;合計科目（true: 集計科目, false: 明細科目）&#39;</span><span class="p">;</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;表示順序&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;表示順序（財務諸表での表示順）&#39;</span><span class="p">;</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;集計対象&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;集計対象（true: 集計対象, false: 集計対象外）&#39;</span><span class="p">;</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;勘定科目カナ&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;勘定科目カナ（検索用）&#39;</span><span class="p">;</span>
</code></pre></div>
<h3 id="er_1">拡張後の ER 図<a class="headerlink" href="#er_1" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjI5MHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDMycHg7aGVpZ2h0OjI5MHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQzMiAyOTAiIHdpZHRoPSI0MzJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbGFzcyBBY2NvdW50LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWNjb3VudCIgZGF0YS1zb3VyY2UtbGluZT0iMSIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjc2LjE1NjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI3MS40MDI5IiB4PSI3IiB5PSI3Ii8+PGVsbGlwc2UgY3g9Ijg5LjQ1MTciIGN5PSIyMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNOTMuNTYxLDI5IEw4NS44NDIzLDI5IEw4NS44NDIzLDE2LjYwOTQgTDkzLjU2MSwxNi42MDk0IEw5My41NjEsMTguNzY1NiBMODguMjk1NCwxOC43NjU2IEw4OC4yOTU0LDIxLjQzNzUgTDkzLjA2MSwyMS40Mzc1IEw5My4wNjEsMjMuNTkzOCBMODguMjk1NCwyMy41OTM4IEw4OC4yOTU0LDI2Ljg0MzggTDkzLjU2MSwyNi44NDM4IEw5My41NjEsMjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIxMDkuOTUxNyIgeT0iMjcuODQ2NyI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjI3Ny40MDI5IiB5MT0iMzkiIHkyPSIzOSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI1Mi42NDg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjgyOTgiIHg9IjI3IiB5PSI1NS45OTUxIj4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2O0lEPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS43OTIiIHg9Ijk5LjgyOTgiIHk9IjU1Ljk5NTEiPjogSU5URUdFUiAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjI3Ny40MDI5IiB5MT0iNjMuMjk2OSIgeTI9IjYzLjI5NjkiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNzYuOTQ1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIyNyIgeT0iODAuMjkyIj4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDcuNDAzMyIgeD0iMTI0Ljk5OTYiIHk9IjgwLjI5MiI+OiBWQVJDSEFSKDIwKSAmIzE3MTtVSyYjMTg3OzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iOTMuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iOTYuNTg4OSI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTUuMzAxOCIgeD0iOTYuOTk5NyIgeT0iOTYuNTg4OSI+OiBWQVJDSEFSKDEwMCk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjEwOS41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjI3IiB5PSIxMTIuODg1NyI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzMxMjc4OyYjMjEwMjk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjgxMTUiIHg9IjExMC45OTk2IiB5PSIxMTIuODg1NyI+OiBFTlVNPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjguNTY1NCIgeD0iMjciIHk9IjEyOS4xODI2Ij5vPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSI0MC4wMTU2IiB5PSIxMjkuMTgyNiI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDU5OyYjMTI0OTA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi4zOTQ1IiB4PSIxMjQuMDE1MyIgeT0iMTI5LjE4MjYiPjogVkFSQ0hBUig0MCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOC41NjU0IiB4PSIyNyIgeT0iMTQ1LjQ3OTUiPm88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY3LjkzNTQiIHg9IjQwLjAxNTYiIHk9IjE0NS40Nzk1Ij5CU1BMJiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OC42MDU1IiB4PSIxMDcuOTUxIiB5PSIxNDUuNDc5NSI+OiBDSEFSKDEpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjguNTY1NCIgeD0iMjciIHk9IjE2MS43NzY0Ij5vPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSI0MC4wMTU2IiB5PSIxNjEuNzc2NCI+JiMyMTQ2MjsmIzI0MzQxOyYjMzUyMDE7JiMzMjAzMjsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY4LjYwNTUiIHg9IjEyNC4wMTUzIiB5PSIxNjEuNzc2NCI+OiBDSEFSKDEpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjguNTY1NCIgeD0iMjciIHk9IjE3OC4wNzMyIj5vPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0MC4wMTU2IiB5PSIxNzguMDczMiI+JiMzNjAyNzsmIzI5OTkyOyYjMjEzMDY7JiMyMDk5ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjguNjA1NSIgeD0iOTYuMDE1NCIgeT0iMTc4LjA3MzIiPjogQ0hBUigxKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTkxLjAyMzQiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjE5NC4zNzAxIj4mIzIxNTEyOyYjMzUzMzY7JiMzMTE4NTsmIzMwNDQ2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ny41MDU5IiB4PSI4Mi45OTk4IiB5PSIxOTQuMzcwMSI+OiBCT09MRUFOPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjguNTY1NCIgeD0iMjciIHk9IjIxMC42NjciPm88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjQwLjAxNTYiIHk9IjIxMC42NjciPiYjMzQ5MjA7JiMzMTAzNDsmIzM4OTE4OyYjMjQyMDc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjU4NzkiIHg9Ijk2LjAxNTQiIHk9IjIxMC42NjciPjogSU5URUdFUjwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMjIzLjYxNzIiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjIyNi45NjM5Ij4mIzM4NTk4OyYjMzUzMzY7JiMyMzU1MDsmIzM1OTM3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ny41MDU5IiB4PSI4Mi45OTk4IiB5PSIyMjYuOTYzOSI+OiBCT09MRUFOPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIyMzkuOTE0MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIyNyIgeT0iMjQzLjI2MDciPiYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0LjI0OSIgeD0iNTQuOTk5OSIgeT0iMjQzLjI2MDciPjogREVDSU1BTCgxNSwyKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMjU2LjIxMDkiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjI1OS41NTc2Ij4mIzIwMzE2OyYjMjUxMDQ7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MC4zMDk2IiB4PSI4Mi45OTk4IiB5PSIyNTkuNTU3NiI+OiBUSU1FU1RBTVA8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjI3Mi41MDc4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjI3IiB5PSIyNzUuODU0NSI+JiMyNjM1NjsmIzI2MDMyOyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTAuMzA5NiIgeD0iODIuOTk5OCIgeT0iMjc1Ljg1NDUiPjogVElNRVNUQU1QPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4zIiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgaWQ9ImVudDAwMDQiPjxwYXRoIGQ9Ik0zMTMuNTcsNjQuNDIgTDMxMy41NywxNDEuMDggTDI3OC44MSwxNDUuMDggTDMxMy41NywxNDkuMDggTDMxMy41NywyMjUuNzQ4MSBBMCwwIDAgMCAwIDMxMy41NywyMjUuNzQ4MSBMNDI1LjgyNCwyMjUuNzQ4MSBBMCwwIDAgMCAwIDQyNS44MjQsMjI1Ljc0ODEgTDQyNS44MjQsNzQuNDIgTDQxNS44MjQsNjQuNDIgTDMxMy41Nyw2NC40MiBBMCwwIDAgMCAwIDMxMy41Nyw2NC40MiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQxNS44MjQsNjQuNDIgTDQxNS44MjQsNzQuNDIgTDQyNS44MjQsNzQuNDIgTDQxNS44MjQsNjQuNDIiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYyLjYzMjQiIHg9IjMxOS41NyIgeT0iODEuNDg2OSI+QlNQTCYjMjEzMDY7JiMyMDk5ODs6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjI1NCIgeD0iMzE5LjU3IiB5PSI5Ni42MTk3Ij4tIEI6ICYjMzYwMjQ7JiMyMDUxMTsmIzIzNTUwOyYjMjkwMzE7JiMzNDkyMDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTAuMTc0OSIgeD0iMzE5LjU3IiB5PSIxMTEuNzUyNSI+LSBQOiAmIzI1NjEzOyYjMzA0MTA7JiMzNTMzNjsmIzMxNjM5OyYjMjYzNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuMTMyMyIgeD0iMzE5LjU3IiB5PSIxMjYuODg1MyI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyLjM4IiB4PSIzMTkuNTciIHk9IjE0Mi4wMTgxIj4mIzIxNDYyOyYjMjQzNDE7JiMzNTIwMTsmIzMyMDMyOyYjMjEzMDY7JiMyMDk5ODs6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxLjYwNjUiIHg9IjMxOS41NyIgeT0iMTU3LjE1MSI+LSAxOiAmIzM2MDM5OyYjMjk5ODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxLjYwNjUiIHg9IjMxOS41NyIgeT0iMTcyLjI4MzgiPi0gMjogJiMzNjAwMDsmIzIwNjYxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NC42MDY1IiB4PSIzMTkuNTciIHk9IjE4Ny40MTY2Ij4tIDM6ICYjMzIwMjA7JiMzNjAzOTsmIzI5OTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MS42MDY1IiB4PSIzMTkuNTciIHk9IjIwMi41NDk0Ij4tIDQ6ICYjMjE0NTQ7JiMzMDQxMDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTEuNjA2NSIgeD0iMzE5LjU3IiB5PSIyMTcuNjgyMiI+LSA1OiAmIzM2MDI3OyYjMjk5OTI7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBSUDVUSXk5RzdDUmxwd1N1VTVLWkdJcmxIV1lwSGFiZ0d3dHhBMmpsOWpJd1kwWGdhZ3RDRDMycjVjTnF1WTFPUm1QY0xYemNkUHR2QkpnZEtPdE10UF9wXzl4X290RkllZklITGc0NzVVZjhGeVJEMHdwZ0hreEthOXlELVRxM1B2T1hEcGtSTkg0YmswT09vMzFFQlpCQUMyb0NuNUZ5NjktMG15RjJIMlc0bDV1TlB5WUZIZ3ZodjdPZUZpcWJIaVF2SDVfMHJxeWlLekpvYnFWYmVmRnEtdHB6QldQaEViQWtBQ1I3ZnM4V3duZnZPLUhzZExzNkkxREFYUEQyNUVycmE5QWRnWnQwTGIyZlloZzdybEtjUlpOLTl3bzc1cnBIdERoTlNjTjVxWEh4RWpOMmF2REhkZWxSbGRDRE50UHdaSnBnYjFvSFZWYndRZnh1cUVzUlROX2t6NTdEcjBremNwZno3VUw3OFo0a3NrU0YzV0ppVUgtbDl3UElEY2pOdmY1Q1lMR2FuWVRKTjRvbWRNaEJoRHh6Znd1Mzg2UWJENXBBQjJuQUMzbF9fUl9XRG5XTVU2Nk9YVFAzNnNzU2FTdG1MZkRTRzF1NTVmaGI4YlB0d1FMd3BMSlIwQlhKZXRPX2lKemt1eWU1Z0dFcUxHRjlKd0dVUDI1a0xOd2E4SFFZcVp2ZklFZVduTVktODJ0RUdSaFo5bTAwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h2 id="53">5.3 勘定科目構成マスタの設計<a class="headerlink" href="#53" title="Permanent link">&para;</a></h2>
<h3 id="_4">チルダ連結方式による階層管理<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>勘定科目は階層構造を持ちます。この階層構造を効率的に管理するため、<strong>チルダ連結方式</strong>を採用します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IldCUyIgaGVpZ2h0PSI3MDRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU3N3B4O2hlaWdodDo3MDRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NzcgNzA0IiB3aWR0aD0iNTc3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjx0aXRsZT4mIzM2MDI0OyYjMjA1MTE7JiMyMzU1MDsmIzI5MDMxOyYjMzQ5MjA7JiMxMjM5ODsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ4NDsmIzEyNTIyOyYjMTI1NDA7JiMyNzA4MzsmIzM2ODk2OyYjNjUyODg7JiMzNzA5NjsmIzIwOTk4OyYjNjUyODk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjM3Ljk5OSIgeD0iMTQ4LjUwMTgiIHk9IjMyLjk5NTEiPiYjMzYwMjQ7JiMyMDUxMTsmIzIzNTUwOyYjMjkwMzE7JiMzNDkyMDsmIzEyMzk4OyYjMzExODU7JiMzMDQ0NjsmIzEyNDg0OyYjMTI1MjI7JiMxMjU0MDsmIzI3MDgzOyYjMzY4OTY7JiM2NTI4ODsmIzM3MDk2OyYjMjA5OTg7JiM2NTI4OTs8L3RleHQ+PC9nPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQ0LjAwMDIiIHgyPSI0NC4wMDAyIiB5MT0iMTAxLjI2NTYiIHkyPSIxMjEuMjY1NiIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iMTAiIHk9IjEyMS4yNjU2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iMjAiIHk9IjE0Mi40MDQzIj4mIzM2MDM5OyYjMjk5ODc7JiMxMjM5ODsmIzM3MDk2OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0NC4wMDAyIiB4Mj0iNTQuMDAwMiIgeTE9IjE4Ny4yMTg4IiB5Mj0iMTg3LjIxODgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjY4LjAwMDQiIHg9IjU0LjAwMDIiIHk9IjE3MC4yMzQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iNjQuMDAwMiIgeT0iMTkxLjM3MyI+JiMyNzk2OTsmIzIxMjA1OyYjMzYwMzk7JiMyOTk4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iODguMDAwNCIgeDI9Ijk4LjAwMDQiIHkxPSIyMzYuMTg3NSIgeTI9IjIzNi4xODc1Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI5Mi4wMDA1IiB4PSI5OC4wMDA0IiB5PSIyMTkuMjAzMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9IjEwOC4wMDA0IiB5PSIyNDAuMzQxOCI+JiMyOTY5NDsmIzM3MzI5OyYjMjE0NTA7JiMxMjQwMzsmIzM4OTI4OyYjMzczMjk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE0NC4wMDA2IiB4Mj0iMTU0LjAwMDYiIHkxPSIyODUuMTU2MyIgeTI9IjI4NS4xNTYzIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0NC4wMDAyIiB4PSIxNTQuMDAwNiIgeT0iMjY4LjE3MTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNC4wMDAyIiB4PSIxNjQuMDAwNiIgeT0iMjg5LjMxMDUiPiYjMjk2OTQ7JiMzNzMyOTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTQ0LjAwMDYiIHgyPSIxNTQuMDAwNiIgeTE9IjMzNC4xMjUiIHkyPSIzMzQuMTI1Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIxNTQuMDAwNiIgeT0iMzE3LjE0MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIxNjQuMDAwNiIgeT0iMzM4LjI3OTMiPiYjMjQ0MDM7JiMyNDIzMTsmIzM4OTI4OyYjMzczMjk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE0NC4wMDA2IiB4Mj0iMTU0LjAwMDYiIHkxPSIzODMuMDkzOCIgeTI9IjM4My4wOTM4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIxNTQuMDAwNiIgeT0iMzY2LjEwOTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIxNjQuMDAwNiIgeT0iMzg3LjI0OCI+JiMyNjIyMjsmIzM2ODkwOyYjMzg5Mjg7JiMzNzMyOTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTQ0LjAwMDYiIHgyPSIxNDQuMDAwNiIgeTE9IjI1My4xNzE5IiB5Mj0iMzgzLjA5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4OC4wMDA0IiB4Mj0iODguMDAwNCIgeTE9IjIwNC4yMDMxIiB5Mj0iMjM2LjE4NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0NC4wMDAyIiB4Mj0iNTQuMDAwMiIgeTE9IjQzMi4wNjI1IiB5Mj0iNDMyLjA2MjUiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjY4LjAwMDQiIHg9IjU0LjAwMDIiIHk9IjQxNS4wNzgxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iNjQuMDAwMiIgeT0iNDM2LjIxNjgiPiYjMjIyNjY7JiMyMzQ1MDsmIzM2MDM5OyYjMjk5ODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijg4LjAwMDQiIHgyPSI5OC4wMDA0IiB5MT0iNDgxLjAzMTMiIHkyPSI0ODEuMDMxMyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iOTIuMDAwNSIgeD0iOTguMDAwNCIgeT0iNDY0LjA0NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSIxMDguMDAwNCIgeT0iNDg1LjE4NTUiPiYjMjYzNzc7JiMyNDQxODsmIzIyMjY2OyYjMjM0NTA7JiMzNjAzOTsmIzI5OTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxNDQuMDAwNiIgeDI9IjE1NC4wMDA2IiB5MT0iNTMwIiB5Mj0iNTMwIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0NC4wMDAyIiB4PSIxNTQuMDAwNiIgeT0iNTEzLjAxNTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNC4wMDAyIiB4PSIxNjQuMDAwNiIgeT0iNTM0LjE1NDMiPiYjMjQzMTQ7JiMyOTI4OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTQ0LjAwMDYiIHgyPSIxNTQuMDAwNiIgeTE9IjU3OC45Njg4IiB5Mj0iNTc4Ljk2ODgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjE1NC4wMDA2IiB5PSI1NjEuOTg0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9IjE2NC4wMDA2IiB5PSI1ODMuMTIzIj4mIzI3MjMxOyYjMjY4MDA7JiMyMTQ1MDsmIzEyNDAzOyYjMzUwMTM7JiMzMjYyMjs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTQ0LjAwMDYiIHgyPSIxNDQuMDAwNiIgeTE9IjQ5OC4wMTU2IiB5Mj0iNTc4Ljk2ODgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4OC4wMDA0IiB4Mj0iOTguMDAwNCIgeTE9IjYyNy45Mzc1IiB5Mj0iNjI3LjkzNzUiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjkyLjAwMDUiIHg9Ijk4LjAwMDQiIHk9IjYxMC45NTMxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iMTA4LjAwMDQiIHk9IjYzMi4wOTE4Ij4mIzI4OTYxOyYjMjQ0MTg7JiMyMjI2NjsmIzIzNDUwOyYjMzYwMzk7JiMyOTk4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iODguMDAwNCIgeDI9Ijk4LjAwMDQiIHkxPSI2NzYuOTA2MyIgeTI9IjY3Ni45MDYzIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1Ni4wMDAzIiB4PSI5OC4wMDA0IiB5PSI2NTkuOTIxOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM2LjAwMDMiIHg9IjEwOC4wMDA0IiB5PSI2ODEuMDYwNSI+JiMyNTIzNzsmIzM2MDM5OyYjMzE1NjE7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijg4LjAwMDQiIHgyPSI4OC4wMDA0IiB5MT0iNDQ5LjA0NjkiIHkyPSI2NzYuOTA2MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQ0LjAwMDIiIHgyPSI0NC4wMDAyIiB5MT0iMTU1LjIzNDQiIHkyPSI0MzIuMDYyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMwMC4wMDE0IiB4Mj0iMzAwLjAwMTQiIHkxPSIxMDEuMjY1NiIgeTI9IjEyMS4yNjU2Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIyNjYuMDAxMiIgeT0iMTIxLjI2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIyNzYuMDAxMiIgeT0iMTQyLjQwNDMiPiYjMzYwMDA7JiMyMDY2MTsmIzEyMzk4OyYjMzcwOTY7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMwMC4wMDE0IiB4Mj0iMzEwLjAwMTQiIHkxPSIxODcuMjE4OCIgeTI9IjE4Ny4yMTg4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIzMTAuMDAxNCIgeT0iMTcwLjIzNDQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIzMjAuMDAxNCIgeT0iMTkxLjM3MyI+JiMyNzk2OTsmIzIxMjA1OyYjMzYwMDA7JiMyMDY2MTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzQ0LjAwMTYiIHgyPSIzNTQuMDAxNiIgeTE9IjIzNi4xODc1IiB5Mj0iMjM2LjE4NzUiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjY4LjAwMDQiIHg9IjM1NC4wMDE2IiB5PSIyMTkuMjAzMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjM2NC4wMDE2IiB5PSIyNDAuMzQxOCI+JiMyNTkwMzsmIzI1MTczOyYjMjUxNjM7JiMyNDQxODs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzQ0LjAwMTYiIHgyPSIzNTQuMDAxNiIgeTE9IjI4NS4xNTYzIiB5Mj0iMjg1LjE1NjMiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjU2LjAwMDMiIHg9IjM1NC4wMDE2IiB5PSIyNjguMTcxOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM2LjAwMDMiIHg9IjM2NC4wMDE2IiB5PSIyODkuMzEwNSI+JiMzNjAyMzsmIzI1NDk5OyYjMzczMjk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjM0NC4wMDE2IiB4Mj0iMzQ0LjAwMTYiIHkxPSIyMDQuMjAzMSIgeTI9IjI4NS4xNTYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzAwLjAwMTQiIHgyPSIzMTAuMDAxNCIgeTE9IjMzNC4xMjUiIHkyPSIzMzQuMTI1Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIzMTAuMDAxNCIgeT0iMzE3LjE0MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIzMjAuMDAxNCIgeT0iMzM4LjI3OTMiPiYjMjIyNjY7JiMyMzQ1MDsmIzM2MDAwOyYjMjA2NjE7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMwMC4wMDE0IiB4Mj0iMzAwLjAwMTQiIHkxPSIxNTUuMjM0NCIgeTI9IjMzNC4xMjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0NzYuMDAyMSIgeDI9IjQ3Ni4wMDIxIiB5MT0iMTAxLjI2NTYiIHkyPSIxMjEuMjY1NiIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iNDQyLjAwMTkiIHk9IjEyMS4yNjU2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iNDUyLjAwMTkiIHk9IjE0Mi40MDQzIj4mIzM2MDM5OyYjMjY0MTI7JiMxMjM5ODsmIzM3MDk2OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0NzYuMDAyMSIgeDI9IjQ4Ni4wMDIxIiB5MT0iMTg3LjIxODgiIHkyPSIxODcuMjE4OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTYuMDAwMyIgeD0iNDg2LjAwMjEiIHk9IjE3MC4yMzQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzYuMDAwMyIgeD0iNDk2LjAwMjEiIHk9IjE5MS4zNzMiPiYjMzYwMzk7JiMyNjQxMjsmIzM3MzI5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0NzYuMDAyMSIgeDI9IjQ4Ni4wMDIxIiB5MT0iMjM2LjE4NzUiIHkyPSIyMzYuMTg3NSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODAuMDAwNSIgeD0iNDg2LjAwMjEiIHk9IjIxOS4yMDMxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuMDAwNSIgeD0iNDk2LjAwMjEiIHk9IjI0MC4zNDE4Ij4mIzIxMDMzOyYjMzA0MTA7JiMyMTEwNDsmIzIwMzEzOyYjMzczMjk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQ3Ni4wMDIxIiB4Mj0iNDc2LjAwMjEiIHkxPSIxNTUuMjM0NCIgeTI9IjIzNi4xODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDQuMDAwMiIgeDI9IjQ3Ni4wMDIxIiB5MT0iMTAxLjI2NTYiIHkyPSIxMDEuMjY1NiIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODAuMDAwNSIgeD0iMjIwLjAwMDkiIHk9IjQ3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIyMzAuMDAwOSIgeT0iNjguNDM1NSI+JiMzNjAyNDsmIzIwNTExOyYjMjM1NTA7JiMyOTAzMTsmIzM0OTIwOzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyNjAuMDAxMSIgeDI9IjI2MC4wMDExIiB5MT0iODEuMjY1NiIgeTI9IjEwMS4yNjU2Ii8+PD9wbGFudHVtbC1zcmMgUlA3RkppOTA0Q1JsLW5HenpxMjRXc1RVSElDNzQtRDFjZFhqQktZdEpLR1k3QTBhNTNZSzZZc2FYNlhBb3lraWl6aXp5R2ZrX29jMmp2dFZWRkZiY3pid0t4Y3VLLXVsY3FZdkxjdVFLWDl5V1pnMXZPd3J0TUl3ODloRnQxd3BWUUF0WUZ2QXo4WXc1YlVUVk1IbVZHNzZ1cHgyMkNkN09xV01RRHJYX1JhbTQ0OUhvbkJUUTYwRFNmbTJNTUJUN1VfcWU2aUlSU3NUUF83RVVEYWUyZVhWODdKX3pFZEd2LWhlNXFiV1gtMkYzaHRmNjRDeUUtNTJrV3FQemFlWlJxOWRncG4xQ2MtcHMyLUlqUVJfSktsS3AxUHVuemM2V0dDRmN6Q0RDcnBlLXFrQTFuSFJtWXFkSVYxMWQtb1p0RUw0VVpHd1Zaa21wQzZGdEYyT1JHOVVWU04zYkRLUmpyVmZ0dzVnZk5QTUV3ektsbTQwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_5">科目ツリー構造の表現<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>チルダ連結方式では、勘定科目のパスを <code>~</code>（チルダ）で連結した文字列として保存します。</p>
<p><strong>勘定科目マスタのデータ例：</strong></p>
<table>
<thead>
<tr>
<th>勘定科目コード</th>
<th>勘定科目名</th>
<th>BSPL区分</th>
<th>勘定科目種別</th>
<th>合計科目</th>
</tr>
</thead>
<tbody>
<tr>
<td>11</td>
<td>資産の部</td>
<td>B</td>
<td>資産</td>
<td>true</td>
</tr>
<tr>
<td>11000</td>
<td>流動資産</td>
<td>B</td>
<td>資産</td>
<td>true</td>
</tr>
<tr>
<td>11190</td>
<td>現金及び預金</td>
<td>B</td>
<td>資産</td>
<td>true</td>
</tr>
<tr>
<td>11110</td>
<td>現金</td>
<td>B</td>
<td>資産</td>
<td>false</td>
</tr>
<tr>
<td>11120</td>
<td>当座預金</td>
<td>B</td>
<td>資産</td>
<td>false</td>
</tr>
<tr>
<td>11130</td>
<td>普通預金</td>
<td>B</td>
<td>資産</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><strong>勘定科目構成マスタのデータ例：</strong></p>
<table>
<thead>
<tr>
<th>勘定科目コード</th>
<th>勘定科目パス</th>
<th>階層レベル</th>
<th>親科目コード</th>
</tr>
</thead>
<tbody>
<tr>
<td>11</td>
<td>11</td>
<td>1</td>
<td>NULL</td>
</tr>
<tr>
<td>11000</td>
<td>11~11000</td>
<td>2</td>
<td>11</td>
</tr>
<tr>
<td>11190</td>
<td>11~11000~11190</td>
<td>3</td>
<td>11000</td>
</tr>
<tr>
<td>11110</td>
<td>11~11000~11190~11110</td>
<td>4</td>
<td>11190</td>
</tr>
<tr>
<td>11120</td>
<td>11~11000~11190~11120</td>
<td>4</td>
<td>11190</td>
</tr>
<tr>
<td>11130</td>
<td>11~11000~11190~11130</td>
<td>4</td>
<td>11190</td>
</tr>
</tbody>
</table>
<h3 id="_6">チルダ連結方式の利点<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>利点</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>シンプルなデータ構造</td>
<td>親子関係を1つのカラムで表現、追加のテーブル結合不要</td>
</tr>
<tr>
<td>効率的な階層検索</td>
<td>LIKE 演算子で子孫科目を一括取得</td>
</tr>
<tr>
<td>集計処理の高速化</td>
<td>特定科目配下の残高集計が容易</td>
</tr>
<tr>
<td>柔軟な階層構造</td>
<td>任意の深さの階層に対応、構造変更が容易</td>
</tr>
</tbody>
</table>
<h3 id="_7">科目残高集計の実装<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>チルダ連結を使った場合の科目残高集計 SQL：</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- 「現金及び預金」（コード11190）配下のすべての勘定科目の残高を集計</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="ss">&quot;残高&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">合計残高</span>
<span class="k">FROM</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="w"> </span><span class="n">a</span>
<span class="k">JOIN</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="ss">&quot;勘定科目コード&quot;</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="ss">&quot;勘定科目パス&quot;</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;%~11190~%&#39;</span>
<span class="w">   </span><span class="k">OR</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;11190&#39;</span><span class="p">;</span>
</code></pre></div>
<p>このクエリにより、「現金及び預金」配下のすべての勘定科目（現金、当座預金、普通預金）の残高を効率的に集計できます。</p>
<hr />
<h2 id="54">5.4 勘定科目構成マスタのテーブル設計<a class="headerlink" href="#54" title="Permanent link">&para;</a></h2>
<h3 id="er_2">ER 図<a class="headerlink" href="#er_2" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjMzM3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjMzcHg7aGVpZ2h0OjMzM3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDYzMyAzMzMiIHdpZHRoPSI2MzNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbGFzcyBBY2NvdW50U3RydWN0dXJlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWNjb3VudFN0cnVjdHVyZSIgZGF0YS1zb3VyY2UtbGluZT0iMSIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTYyLjA3ODEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI5MS4yODE4IiB4PSI3IiB5PSI3Ii8+PGVsbGlwc2UgY3g9Ijg1LjM5MTIiIGN5PSIyMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNODkuNTAwNSwyOSBMODEuNzgxOCwyOSBMODEuNzgxOCwxNi42MDk0IEw4OS41MDA1LDE2LjYwOTQgTDg5LjUwMDUsMTguNzY1NiBMODQuMjM0OSwxOC43NjU2IEw4NC4yMzQ5LDIxLjQzNzUgTDg5LjAwMDUsMjEuNDM3NSBMODkuMDAwNSwyMy41OTM4IEw4NC4yMzQ5LDIzLjU5MzggTDg0LjIzNDksMjYuODQzOCBMODkuNTAwNSwyNi44NDM4IEw4OS41MDA1LDI5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjEwNS44OTEyIiB5PSIyNy44NDY3Ij4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMjcwODM7JiMyNTEwNDsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjI5Ny4yODE4IiB5MT0iMzkiIHkyPSIzOSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI1Mi42NDg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI3IiB5PSI1NS45OTUxIj4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjcuMjgyMiIgeD0iMTI0Ljk5OTYiIHk9IjU1Ljk5NTEiPjogVkFSQ0hBUigyMCkgJiMxNzE7UEssRksmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgiIHgyPSIyOTcuMjgxOCIgeTE9IjYzLjI5NjkiIHkyPSI2My4yOTY5Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9Ijc2Ljk0NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjciIHk9IjgwLjI5MiI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDk3OyYjMTI0NzM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS4zMDE4IiB4PSIxMTAuOTk5NiIgeT0iODAuMjkyIj46IFZBUkNIQVIoMjAwKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iOTMuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iOTYuNTg4OSI+JiMzODU0MjsmIzIzNjUyOyYjMTI1MjQ7JiMxMjUwNTsmIzEyNTIzOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC41ODc5IiB4PSI5Ni45OTk3IiB5PSI5Ni41ODg5Ij46IElOVEVHRVI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOC41NjU0IiB4PSIyNyIgeT0iMTEyLjg4NTciPm88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjQwLjAxNTYiIHk9IjExMi44ODU3Ij4mIzM1MjQyOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjM5NDUiIHg9IjEyNC4wMTUzIiB5PSIxMTIuODg1NyI+OiBWQVJDSEFSKDIwKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTI1LjgzNTkiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjEyOS4xODI2Ij4mIzM0OTIwOyYjMzEwMzQ7JiMzODkxODsmIzI0MjA3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC41ODc5IiB4PSI4Mi45OTk4IiB5PSIxMjkuMTgyNiI+OiBJTlRFR0VSPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxNDIuMTMyOCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iMTQ1LjQ3OTUiPiYjMjAzMTY7JiMyNTEwNDsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkwLjMwOTYiIHg9IjgyLjk5OTgiIHk9IjE0NS40Nzk1Ij46IFRJTUVTVEFNUDwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTU4LjQyOTciIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjE2MS43NzY0Ij4mIzI2MzU2OyYjMjYwMzI7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MC4zMDk2IiB4PSI4Mi45OTk4IiB5PSIxNjEuNzc2NCI+OiBUSU1FU1RBTVA8L3RleHQ+PC9nPjwhLS1jbGFzcyBBY2NvdW50LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWNjb3VudCIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjgwLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI2OS41OTgyIiB4PSIxNy44NCIgeT0iMjQ2LjA4Ii8+PGVsbGlwc2UgY3g9Ijk5LjM4OTMiIGN5PSIyNjIuMDgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTEwMy40OTg3LDI2OC4wOCBMOTUuNzc5OSwyNjguMDggTDk1Ljc3OTksMjU1LjY4OTQgTDEwMy40OTg3LDI1NS42ODk0IEwxMDMuNDk4NywyNTcuODQ1NiBMOTguMjMzMSwyNTcuODQ1NiBMOTguMjMzMSwyNjAuNTE3NSBMMTAyLjk5ODcsMjYwLjUxNzUgTDEwMi45OTg3LDI2Mi42NzM4IEw5OC4yMzMxLDI2Mi42NzM4IEw5OC4yMzMxLDI2NS45MjM4IEwxMDMuNDk4NywyNjUuOTIzOCBMMTAzLjQ5ODcsMjY4LjA4IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTE5Ljg4OTMiIHk9IjI2Ni45MjY3Ij4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxOC44NCIgeDI9IjI4Ni40MzgyIiB5MT0iMjc4LjA4IiB5Mj0iMjc4LjA4Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIyOC44NCIgY3k9IjI5MS43Mjg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjM3Ljg0IiB5PSIyOTUuMDc1MSI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ1LjU5ODYiIHg9IjEzNS44Mzk2IiB5PSIyOTUuMDc1MSI+OiBWQVJDSEFSKDIwKSAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTguODQiIHgyPSIyODYuNDM4MiIgeTE9IjMwMi4zNzY5IiB5Mj0iMzAyLjM3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy4zNTA2IiB4PSIyMy44NCIgeT0iMzE5LjM3MiI+Li4uPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU41IiBkYXRhLXNvdXJjZS1saW5lPSIyMSIgaWQ9ImVudDAwMDYiPjxwYXRoIGQ9Ik0zMzMuMjYsNy4zNyBMMzMzLjI2LDg0LjA0IEwyOTguNTgsODguMDQgTDMzMy4yNiw5Mi4wNCBMMzMzLjI2LDE2OC42OTgxIEEwLDAgMCAwIDAgMzMzLjI2LDE2OC42OTgxIEw2MjYuMDE2LDE2OC42OTgxIEEwLDAgMCAwIDAgNjI2LjAxNiwxNjguNjk4MSBMNjI2LjAxNiwxNy4zNyBMNjE2LjAxNiw3LjM3IEwzMzMuMjYsNy4zNyBBMCwwIDAgMCAwIDMzMy4yNiw3LjM3IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNjE2LjAxNiw3LjM3IEw2MTYuMDE2LDE3LjM3IEw2MjYuMDE2LDE3LjM3IEw2MTYuMDE2LDcuMzciIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIzMzkuMjYiIHk9IjI0LjQzNjkiPiYjMTI0ODE7JiMxMjUyMzsmIzEyNDgwOyYjMzY4OTk7JiMzMjA4MDsmIzI2MDQxOyYjMjQzMzU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuMTMyMyIgeD0iMzM5LjI2IiB5PSIzOS41Njk3Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcxLjc1NiIgeD0iMzM5LjI2IiB5PSI1NC43MDI1Ij4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0OTc7JiMxMjQ3Mzs6ICIxMX4xMTAwMH4xMTE5MH4xMTExMCI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTYuODM5OSIgeD0iMzM5LjI2IiB5PSI2OS44MzUzIj4mIzk1MDA7JiM5NDcyOyAxMTogJiMzNjAzOTsmIzI5OTg3OyYjMTIzOTg7JiMzNzA5Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIxLjY1MjkiIHg9IjMzOS4yNiIgeT0iODQuOTY4MSI+JiM5NTAwOyYjOTQ3MjsgMTEwMDA6ICYjMjc5Njk7JiMyMTIwNTsmIzM2MDM5OyYjMjk5ODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0Ny42NTI5IiB4PSIzMzkuMjYiIHk9IjEwMC4xMDEiPiYjOTUwMDsmIzk0NzI7IDExMTkwOiAmIzI5Njk0OyYjMzczMjk7JiMyMTQ1MDsmIzEyNDAzOyYjMzg5Mjg7JiMzNzMyOTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTUuNjUyOSIgeD0iMzM5LjI2IiB5PSIxMTUuMjMzOCI+JiM5NDkyOyYjOTQ3MjsgMTExMTA6ICYjMjk2OTQ7JiMzNzMyOTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC4xMzIzIiB4PSIzMzkuMjYiIHk9IjEzMC4zNjY2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEuNzgzMyIgeD0iMzM5LjI2IiB5PSIxNDUuNDk5NCI+JiMzODU0MjsmIzIzNjUyOyYjMTI1MjQ7JiMxMjUwNTsmIzEyNTIzOzogNDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjcuODY3MyIgeD0iMzM5LjI2IiB5PSIxNjAuNjMyMiI+JiMzNTI0MjsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7OiAxMTE5MDwvdGV4dD48L2c+PCEtLWxpbmsgQWNjb3VudFN0cnVjdHVyZSB0byBBY2NvdW50LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDMiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iMTgiIGlkPSJsbms0Ij48cGF0aCBjb2RlTGluZT0iMTgiIGQ9Ik0xNTIuNjQsMTc3LjQ2IEMxNTIuNjQsMjAzLjcyIDE1Mi42NCwyMTUuNzQgMTUyLjY0LDIzNy42NSIgZmlsbD0ibm9uZSIgaWQ9IkFjY291bnRTdHJ1Y3R1cmUtQWNjb3VudCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNTIuNjQiIHgyPSIxNDYuNjQiIHkxPSIxNzcuNDYiIHkyPSIxNjkuNDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTUyLjY0IiB4Mj0iMTU4LjY0IiB5MT0iMTc3LjQ2IiB5Mj0iMTY5LjQ2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1Mi42NCIgeDI9IjE1Mi42NCIgeTE9IjE3Ny40NiIgeTI9IjE2OS40NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNDguNjQiIHgyPSIxNTYuNjQiIHkxPSIxNzkuNDYiIHkyPSIxNzkuNDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTU2LjY0IiB4Mj0iMTQ4LjY0IiB5MT0iMjQxLjY1IiB5Mj0iMjQxLjY1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1Ni42NCIgeDI9IjE0OC42NCIgeTE9IjIzOC42NSIgeTI9IjIzOC42NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNTIuNjQiIHgyPSIxNTIuNjQiIHkxPSIyMzcuNjUiIHkyPSIyNDUuNjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMTUzLjY0IiB5PSIyMTIuMTQ2OSI+JiMyMTQ0MjsmIzI5MDMxOzwvdGV4dD48L2c+PD9wbGFudHVtbC1zcmMgYkw1REltOTE2QnhGaG5XeXZQQkJKZEhmNEs3MklpR0dhLXZYTGJ1S1IzcjQ2aGYzTUdjaldiYi00OFFNS1k2NVVMMmlfZWxKeGhoX2ViYURqTFEyQmlDbXB5U3h4X0M0R2E5R0U4MGNFTnFqRHVqZ0ZRa01jYWV6aFBuYzJCdVhPZVU4N29RdWpHX2pWZHl1Nlg4c1g0WktCcUdaME5XODZDV21xcDhZaldaazROcDZDM3BTajdrTnItcFVrR05FM0FyTVpzai1uTU1wME9sNWdDOVBFa1FkWDNDRlFMaG5HZHdmNFZuNFM4N1dIdnRaTkZTdkxYclU0QVJtdUZ4WHh5NTNheTVqR3dycmpTZzl0OU1jN05KaXl3ckM1ck1reGZJMmc2Qy1memtudVJFeEZLREtBUnFnLVVUUFExbzBtOHBTUFlSc3R3MTZBUjRpZ3F5bmYxd0ZpTW1pRGxSY3dHU2FLSnNrY20wOFhPSzBaMEh0em1HT3RaN3ExSFk2dTJIRGFVMjRiZ1lneE9vSXh5V3o2V2EwblpnZUJxOTcyNzRTSHEtcUQzbUhQbUJ6TkJjVklxMjRVM1hlZlRIU2JJSVI2Y3ZDdGdjMlhxZXhBUVNsSHVHOUg2cnVnNGhsTVllaEktU2FzVDhnNk5nZFhEbXQwT3E5MEZtZ2R1VUJtNVd1RnhBYlJNbjNWVnlsPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="flyway">Flyway マイグレーション<a class="headerlink" href="#flyway" title="Permanent link">&para;</a></h3>
<p><strong>V006__create_account_structure.sql</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- 勘定科目構成マスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;勘定科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;勘定科目パス&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;階層レベル&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;親科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;表示順序&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_account_structure_account</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;勘定科目の階層構造を管理するマスタテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;勘定科目コード&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;勘定科目パス&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;チルダ連結形式のパス（例: 11~11000~11190~11110）&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;階層レベル&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;階層の深さ（ルート=1）&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;親科目コード&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;親科目のコード&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;表示順序&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;同じ階層内での表示順序&#39;</span><span class="p">;</span>

<span class="c1">-- パスでの検索を高速化するためのインデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">idx_account_structure_path</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;勘定科目パス&quot;</span><span class="p">);</span>

<span class="c1">-- 親科目での検索を高速化するためのインデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">idx_account_structure_parent</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;親科目コード&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="ss">&quot;親科目コード&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- 階層レベルでの検索を高速化するためのインデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">idx_account_structure_level</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;勘定科目構成マスタ&quot;</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;階層レベル&quot;</span><span class="p">);</span>
</code></pre></div>
<h3 id="mybatis">MyBatis マッパー<a class="headerlink" href="#mybatis" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">AccountStructureMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">AccountStructure</span><span class="w"> </span><span class="n">accountStructure</span><span class="p">);</span>
<span class="w">    </span><span class="n">AccountStructure</span><span class="w"> </span><span class="nf">findByCode</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;accountCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountStructure</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">();</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountStructure</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findChildren</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;accountCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountStructure</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findDescendants</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;accountCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountStructure</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByLevel</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;hierarchyLevel&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">hierarchyLevel</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">AccountStructure</span><span class="w"> </span><span class="n">accountStructure</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;accountCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>AccountStructureMapper.xml</strong>（抜粋）:</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- 特定科目配下のすべての子孫を取得（チルダ連結検索） --&gt;</span>
<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findDescendants&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;AccountStructureResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;勘定科目構成マスタ&quot;
<span class="w">    </span>WHERE<span class="w"> </span>&quot;勘定科目パス&quot;<span class="w"> </span>LIKE<span class="w"> </span>CONCAT(
<span class="w">        </span>(SELECT<span class="w"> </span>&quot;勘定科目パス&quot;<span class="w"> </span>FROM<span class="w"> </span>&quot;勘定科目構成マスタ&quot;
<span class="w">         </span>WHERE<span class="w"> </span>&quot;勘定科目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{accountCode}),
<span class="w">        </span>&#39;~%&#39;
<span class="w">    </span>)
<span class="w">    </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;表示順序&quot;
<span class="nt">&lt;/select&gt;</span>

<span class="cm">&lt;!-- 直接の子科目のみを取得 --&gt;</span>
<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findChildren&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;AccountStructureResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;勘定科目構成マスタ&quot;
<span class="w">    </span>WHERE<span class="w"> </span>&quot;親科目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{accountCode}
<span class="w">    </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;表示順序&quot;
<span class="nt">&lt;/select&gt;</span>
</code></pre></div>
<hr />
<h2 id="55">5.5 課税取引マスタの設計<a class="headerlink" href="#55" title="Permanent link">&para;</a></h2>
<h3 id="_8">消費税計算のための課税取引マスタ<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>消費税計算を正確に行うため、勘定科目マスタは課税取引マスタと関連付けられます。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjMxN3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MjgzcHg7aGVpZ2h0OjMxN3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI4MyAzMTciIHdpZHRoPSIyODNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbGFzcyBBY2NvdW50LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWNjb3VudCIgZGF0YS1zb3VyY2UtbGluZT0iMSIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iOTYuODkwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjY5LjU5ODIiIHg9IjciIHk9IjciLz48ZWxsaXBzZSBjeD0iODguNTQ5MyIgY3k9IjIzIiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik05Mi42NTg3LDI5IEw4NC45Mzk5LDI5IEw4NC45Mzk5LDE2LjYwOTQgTDkyLjY1ODcsMTYuNjA5NCBMOTIuNjU4NywxOC43NjU2IEw4Ny4zOTMxLDE4Ljc2NTYgTDg3LjM5MzEsMjEuNDM3NSBMOTIuMTU4NywyMS40Mzc1IEw5Mi4xNTg3LDIzLjU5MzggTDg3LjM5MzEsMjMuNTkzOCBMODcuMzkzMSwyNi44NDM4IEw5Mi42NTg3LDI2Ljg0MzggTDkyLjY1ODcsMjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIxMDkuMDQ5MyIgeT0iMjcuODQ2NyI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjI3NS41OTgyIiB5MT0iMzkiIHkyPSIzOSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI1Mi42NDg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI3IiB5PSI1NS45OTUxIj4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDUuNTk4NiIgeD0iMTI0Ljk5OTYiIHk9IjU1Ljk5NTEiPjogVkFSQ0hBUigyMCkgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgiIHgyPSIyNzUuNTk4MiIgeTE9IjYzLjI5NjkiIHkyPSI2My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuMzUwNiIgeD0iMTMiIHk9IjgwLjI5MiI+Li4uPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjguNTY1NCIgeD0iMTMiIHk9Ijk2LjU4ODkiPm88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI2LjAxNTYiIHk9Ijk2LjU4ODkiPiYjMzU1MDY7JiMzMTI0NjsmIzIxNDYyOyYjMjQzNDE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi4zMDE4IiB4PSIxMjQuMDE1MiIgeT0iOTYuNTg4OSI+OiBWQVJDSEFSKDIpICYjMTcxO0ZLJiMxODc7PC90ZXh0PjwvZz48IS0tY2xhc3MgVGF4LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iVGF4IiBkYXRhLXNvdXJjZS1saW5lPSI4IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMjkuNDg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjYwLjY5MSIgeD0iMTEuNDUiIHk9IjE4MC44OSIvPjxlbGxpcHNlIGN4PSI4OC41NDU3IiBjeT0iMTk2Ljg5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik05Mi42NTUxLDIwMi44OSBMODQuOTM2MywyMDIuODkgTDg0LjkzNjMsMTkwLjQ5OTQgTDkyLjY1NTEsMTkwLjQ5OTQgTDkyLjY1NTEsMTkyLjY1NTYgTDg3LjM4OTUsMTkyLjY1NTYgTDg3LjM4OTUsMTk1LjMyNzUgTDkyLjE1NTEsMTk1LjMyNzUgTDkyLjE1NTEsMTk3LjQ4MzggTDg3LjM4OTUsMTk3LjQ4MzggTDg3LjM4OTUsMjAwLjczMzggTDkyLjY1NTEsMjAwLjczMzggTDkyLjY1NTEsMjAyLjg5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTA5LjA0NTciIHk9IjIwMS43MzY3Ij4mIzM1NTA2OyYjMzEyNDY7JiMyMTQ2MjsmIzI0MzQxOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMi40NSIgeDI9IjI3MS4xNDEiIHkxPSIyMTIuODkiIHkyPSIyMTIuODkiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjIyLjQ1IiBjeT0iMjI2LjUzODQiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzEuNDUiIHk9IjIyOS44ODUxIj4mIzM1NTA2OyYjMzEyNDY7JiMyMTQ2MjsmIzI0MzQxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzYuNjkxNCIgeD0iMTI5LjQ0OTYiIHk9IjIyOS44ODUxIj46IFZBUkNIQVIoMikgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyLjQ1IiB4Mj0iMjcxLjE0MSIgeTE9IjIzNy4xODY5IiB5Mj0iMjM3LjE4NjkiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjIyLjQ1IiBjeT0iMjUwLjgzNTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMzEuNDUiIHk9IjI1NC4xODIiPiYjMzU1MDY7JiMzMTI0NjsmIzIxNDYyOyYjMjQzNDE7JiMyMTUxNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjM5NDUiIHg9IjEwMS40NDk3IiB5PSIyNTQuMTgyIj46IFZBUkNIQVIoMjApPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMjIuNDUiIGN5PSIyNjcuMTMyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIzMS40NSIgeT0iMjcwLjQ3ODkiPiYjMzEyNDY7JiMyOTU3NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA1LjM0MTgiIHg9IjU5LjQ0OTkiIHk9IjI3MC40Nzg5Ij46IERFQ0lNQUwoNSwzKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4LjU2NTQiIHg9IjMxLjQ1IiB5PSIyODYuNzc1NyI+bzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iNDQuNDY1NiIgeT0iMjg2Ljc3NTciPiYjMzU1MDA7JiMyNjEyNjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE1LjMwMTgiIHg9IjcyLjQ2NTUiIHk9IjI4Ni43NzU3Ij46IFZBUkNIQVIoMjAwKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjIyLjQ1IiBjeT0iMjk5LjcyNTkiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMzEuNDUiIHk9IjMwMy4wNzI2Ij4mIzI2Mzc3OyYjMjExNzc7JiMxMjUwMTsmIzEyNTIxOyYjMTI0NjQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc3LjUwNTkiIHg9IjEwMS40NDk3IiB5PSIzMDMuMDcyNiI+OiBCT09MRUFOPC90ZXh0PjwvZz48IS0tbGluayBBY2NvdW50IHRvIFRheC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAzIiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjE3IiBpZD0ibG5rNCI+PHBhdGggY29kZUxpbmU9IjE3IiBkPSJNMTQxLjgsMTIxLjkzIEMxNDEuOCwxNDUuMTIgMTQxLjgsMTQ3LjM3IDE0MS44LDE3Mi40NSIgZmlsbD0ibm9uZSIgaWQ9IkFjY291bnQtVGF4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE0MS44IiB4Mj0iMTM1LjgiIHkxPSIxMTEuOTMiIHkyPSIxMDMuOTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQxLjgiIHgyPSIxNDcuOCIgeTE9IjExMS45MyIgeTI9IjEwMy45MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNDEuOCIgeDI9IjE0MS44IiB5MT0iMTExLjkzIiB5Mj0iMTAzLjkzIi8+PGVsbGlwc2UgY3g9IjE0MS44IiBjeT0iMTE3LjkzIiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ1LjgiIHgyPSIxMzcuOCIgeTE9IjE3Ni40NSIgeTI9IjE3Ni40NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNDUuOCIgeDI9IjEzNy44IiB5MT0iMTczLjQ1IiB5Mj0iMTczLjQ1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE0MS44IiB4Mj0iMTQxLjgiIHkxPSIxNzIuNDUiIHkyPSIxODAuNDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMTQyLjgiIHk9IjE0Ni45NTY5Ij4mIzIxNDQyOyYjMjkwMzE7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBJeXFob0lvZkw1MXdzWnRad1JmUHB2VEZWM3Z4dFVGY1VPLVJUWnZrc2ctYWE1WWl1OVlTZDUtUUx3OUdwUU1iZUFNNWVndmZ5LUZjRk8tUkV4TXFoMUoyNzhFU0ZIbzNEOG1DRDFMaVIwQXl4VW91VDdNdnpGSnFrRkExc2J3aXNsSHlIVF9KX2NiRnpxcDVoV3Nhb21zYWd2UUJBbk5nQTFIVEE4dUFJUW8wRWVXdWFzN2tHVFZuVDQ4bGNrRjFJZTNvcF9sUUdKOGtoaXdVbGV1LTZnT3duZmZHZHdudkRnQ0ZMSERLcnhDdmRLLXhUWnZrMWhmcnZVRWMzSTBySmx4LUZnd0VWWTFGbVNBbkRiek5qd082eDBDaE9CWnREcHJsTlF1NDAwMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_9">課税取引の種類<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>課税取引コード</th>
<th>課税取引名</th>
<th>税率</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>課税</td>
<td>10%</td>
<td>消費税が課税される取引</td>
</tr>
<tr>
<td>02</td>
<td>非課税</td>
<td>0%</td>
<td>消費税が非課税の取引（土地の譲渡、住宅の貸付など）</td>
</tr>
<tr>
<td>03</td>
<td>免税</td>
<td>0%</td>
<td>消費税が免税の取引（輸出取引など）</td>
</tr>
<tr>
<td>04</td>
<td>不課税</td>
<td>0%</td>
<td>消費税の対象外の取引（給与、配当など）</td>
</tr>
</tbody>
</table>
<h3 id="flyway_1">Flyway マイグレーション<a class="headerlink" href="#flyway_1" title="Permanent link">&para;</a></h3>
<p><strong>V007__create_tax_transaction.sql</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- 課税取引マスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;課税取引コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;課税取引名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;税率&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;説明&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;有効フラグ&quot;</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">check_tax_rate</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;税率&quot;</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="ss">&quot;税率&quot;</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;消費税の課税取引区分を管理するマスタテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;課税取引コード&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;課税取引コード（01:課税、02:非課税、03:免税、04:不課税）&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;課税取引名&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;課税取引名&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;税率&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;適用される税率（0.10 = 10%）&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;説明&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;課税取引の説明&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;有効フラグ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;有効な課税取引区分かどうか&#39;</span><span class="p">;</span>

<span class="c1">-- 初期データ投入</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;課税取引コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;課税取引名&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;税率&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;説明&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;課税&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;消費税が課税される取引&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;02&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;非課税&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;消費税が非課税の取引（土地の譲渡、住宅の貸付など）&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;03&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;免税&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;消費税が免税の取引（輸出取引など）&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;04&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;不課税&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;消費税の対象外の取引（給与、配当など）&#39;</span><span class="p">);</span>

<span class="c1">-- 勘定科目マスタに外部キー制約を追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_account_tax_code</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;課税取引コード&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;課税取引マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;課税取引コード&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
</code></pre></div>
<h3 id="er_3">ER 図<a class="headerlink" href="#er_3" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjE3NnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDMzcHg7aGVpZ2h0OjE3NnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQzMyAxNzYiIHdpZHRoPSI0MzNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbGFzcyBUYXgtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJUYXgiIGRhdGEtc291cmNlLWxpbmU9IjEiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE2Mi4wNzgxIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyNjAuNjkxIiB4PSI3IiB5PSI3Ii8+PGVsbGlwc2UgY3g9Ijg0LjA5NTciIGN5PSIyMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNODguMjA1MSwyOSBMODAuNDg2MywyOSBMODAuNDg2MywxNi42MDk0IEw4OC4yMDUxLDE2LjYwOTQgTDg4LjIwNTEsMTguNzY1NiBMODIuOTM5NSwxOC43NjU2IEw4Mi45Mzk1LDIxLjQzNzUgTDg3LjcwNTEsMjEuNDM3NSBMODcuNzA1MSwyMy41OTM4IEw4Mi45Mzk1LDIzLjU5MzggTDgyLjkzOTUsMjYuODQzOCBMODguMjA1MSwyNi44NDM4IEw4OC4yMDUxLDI5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTA0LjU5NTciIHk9IjI3Ljg0NjciPiYjMzU1MDY7JiMzMTI0NjsmIzIxNDYyOyYjMjQzNDE7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIyNjYuNjkxIiB5MT0iMzkiIHkyPSIzOSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI1Mi42NDg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI3IiB5PSI1NS45OTUxIj4mIzM1NTA2OyYjMzEyNDY7JiMyMTQ2MjsmIzI0MzQxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzYuNjkxNCIgeD0iMTI0Ljk5OTYiIHk9IjU1Ljk5NTEiPjogVkFSQ0hBUigyKSAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjI2Ni42OTEiIHkxPSI2My4yOTY5IiB5Mj0iNjMuMjk2OSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI3Ni45NDUzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3IiB5PSI4MC4yOTIiPiYjMzU1MDY7JiMzMTI0NjsmIzIxNDYyOyYjMjQzNDE7JiMyMTUxNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjM5NDUiIHg9Ijk2Ljk5OTciIHk9IjgwLjI5MiI+OiBWQVJDSEFSKDIwKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iOTMuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIyNyIgeT0iOTYuNTg4OSI+JiMzMTI0NjsmIzI5NTc1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDUuMzQxOCIgeD0iNTQuOTk5OSIgeT0iOTYuNTg4OSI+OiBERUNJTUFMKDUsMyk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOC41NjU0IiB4PSIyNyIgeT0iMTEyLjg4NTciPm88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjQwLjAxNTYiIHk9IjExMi44ODU3Ij4mIzM1NTAwOyYjMjYxMjY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS4zMDE4IiB4PSI2OC4wMTU1IiB5PSIxMTIuODg1NyI+OiBWQVJDSEFSKDIwMCk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjEyNS44MzU5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3IiB5PSIxMjkuMTgyNiI+JiMyNjM3NzsmIzIxMTc3OyYjMTI1MDE7JiMxMjUyMTsmIzEyNDY0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ny41MDU5IiB4PSI5Ni45OTk3IiB5PSIxMjkuMTgyNiI+OiBCT09MRUFOPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxNDIuMTMyOCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iMTQ1LjQ3OTUiPiYjMjAzMTY7JiMyNTEwNDsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkwLjMwOTYiIHg9IjgyLjk5OTgiIHk9IjE0NS40Nzk1Ij46IFRJTUVTVEFNUDwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTU4LjQyOTciIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjE2MS43NzY0Ij4mIzI2MzU2OyYjMjYwMzI7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MC4zMDk2IiB4PSI4Mi45OTk4IiB5PSIxNjEuNzc2NCI+OiBUSU1FU1RBTVA8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjMiIGRhdGEtc291cmNlLWxpbmU9IjEzIiBpZD0iZW50MDAwNCI+PHBhdGggZD0iTTMwMi41MiwxNC45NCBMMzAyLjUyLDg0LjA0IEwyNjguMTQsODguMDQgTDMwMi41Miw5Mi4wNCBMMzAyLjUyLDE2MS4xMzUzIEEwLDAgMCAwIDAgMzAyLjUyLDE2MS4xMzUzIEw0MjYuMTYxNiwxNjEuMTM1MyBBMCwwIDAgMCAwIDQyNi4xNjE2LDE2MS4xMzUzIEw0MjYuMTYxNiwyNC45NCBMNDE2LjE2MTYsMTQuOTQgTDMwMi41MiwxNC45NCBBMCwwIDAgMCAwIDMwMi41MiwxNC45NCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQxNi4xNjE2LDE0Ljk0IEw0MTYuMTYxNiwyNC45NCBMNDI2LjE2MTYsMjQuOTQgTDQxNi4xNjE2LDE0Ljk0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS4zOCIgeD0iMzA4LjUyIiB5PSIzMi4wMDY5Ij4mIzMxMjQ2OyYjMjk1NzU7JiMxMjM5ODsmIzIxMDQ2OyYjMzIwMDQ7OjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDIuNjQxNiIgeD0iMzA4LjUyIiB5PSI0Ny4xMzk3Ij4wICZsdDs9ICYjMzEyNDY7JiMyOTU3NTsgJmx0Oz0gMTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Ny4xNDA2IiB4PSIzMDguNTIiIHk9IjYyLjI3MjUiPigwLjEwID0gMTAlKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0LjEzMjMiIHg9IjMwOC41MiIgeT0iNzcuNDA1MyI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk1LjM4IiB4PSIzMDguNTIiIHk9IjkyLjUzODEiPiYjMzU1MDY7JiMzMTI0NjsmIzIxNDYyOyYjMjQzNDE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7OjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1OS44Nzc1IiB4PSIzMDguNTIiIHk9IjEwNy42NzEiPi0gMDE6ICYjMzU1MDY7JiMzMTI0Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuODc3NSIgeD0iMzA4LjUyIiB5PSIxMjIuODAzOCI+LSAwMjogJiMzODc1MDsmIzM1NTA2OyYjMzEyNDY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU5Ljg3NzUiIHg9IjMwOC41MiIgeT0iMTM3LjkzNjYiPi0gMDM6ICYjMjA4MTM7JiMzMTI0Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuODc3NSIgeD0iMzA4LjUyIiB5PSIxNTMuMDY5NCI+LSAwNDogJiMxOTk4MTsmIzM1NTA2OyYjMzEyNDY7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBJeXFob0lvZkw1MXdpTWhKeW5Mekpfa2RGVHFwek43cGxDVERFbnl0eExUSUkybk0yNGNpS0FaY3FiQkdxYTlIcXhKdlNWRVVueXNUTWJmTTJjNkVHU3VVWmE0UUhmZUFEWk8xdGRQc05CZ3c2M2dVSmtYNUtNa1cyTE8yYjdfVXJtd0lTTjVyemxIcnpENG1ySjdNdkNlN3dyeHBSNE9WZ1lRZWhjVHBFZnpzeE5wUzM3SmhvaVRENnExZ2RGcHpWTG1UX1MzSUpfUkVVVE9udVRkcWZTemNEZTdhR1puek5PRDM3N3EzODlmZFJ0YXNSR0Nzc0xla2hocHlhYkk1ZWlwcVoxQTVfM0lHdnhhV0JkcFNrRXZmbnhSZE1yZ2lrMG1LUjZtTDhBOFdiWTZOWGU2VWVPNDJhNk1XZ2lkNVhKTU9oQlhxNUdtQ2hIR1dhWTJFYVBOMm94ZHA0N25aQXVNZGhSckdaZWNMbWZDVGxMMzlyQm1LMVAycDAwMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="mybatis-sql">MyBatis マッパー（動的 SQL）<a class="headerlink" href="#mybatis-sql" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">TaxTransactionMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">TaxTransaction</span><span class="w"> </span><span class="n">taxTransaction</span><span class="p">);</span>
<span class="w">    </span><span class="n">TaxTransaction</span><span class="w"> </span><span class="nf">findByCode</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;taxCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">taxCode</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">TaxTransaction</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">();</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">TaxTransaction</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;taxName&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">taxName</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;minTaxRate&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">minTaxRate</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;isActive&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">isActive</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">TaxTransaction</span><span class="w"> </span><span class="n">taxTransaction</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;taxCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">taxCode</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>TaxTransactionMapper.xml</strong>（動的 SQL による条件検索）:</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- 動的 SQL による条件検索 --&gt;</span>
<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;search&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;TaxTransactionResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;課税取引マスタ&quot;
<span class="w">    </span><span class="nt">&lt;where&gt;</span>
<span class="w">        </span><span class="nt">&lt;if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;taxName != null and taxName != &#39;&#39;&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span>AND<span class="w"> </span>&quot;課税取引名&quot;<span class="w"> </span>LIKE<span class="w"> </span>CONCAT(&#39;%&#39;,<span class="w"> </span>#{taxName},<span class="w"> </span>&#39;%&#39;)
<span class="w">        </span><span class="nt">&lt;/if&gt;</span>
<span class="w">        </span><span class="nt">&lt;if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;minTaxRate != null&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span>AND<span class="w"> </span>&quot;税率&quot;<span class="w"> </span>&gt;=<span class="w"> </span>#{minTaxRate}
<span class="w">        </span><span class="nt">&lt;/if&gt;</span>
<span class="w">        </span><span class="nt">&lt;if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;isActive != null&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span>AND<span class="w"> </span>&quot;有効フラグ&quot;<span class="w"> </span>=<span class="w"> </span>#{isActive}
<span class="w">        </span><span class="nt">&lt;/if&gt;</span>
<span class="w">    </span><span class="nt">&lt;/where&gt;</span>
<span class="w">    </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;課税取引コード&quot;
<span class="nt">&lt;/select&gt;</span>
</code></pre></div>
<h3 id="_10">勘定科目マスタとの関連<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>勘定科目マスタに課税取引コードを追加することで、各勘定科目の消費税処理を自動化できます。</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- 勘定科目マスタに課税取引コードを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;課税取引コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">.</span><span class="ss">&quot;課税取引コード&quot;</span><span class="w"> </span><span class="k">IS</span>
<span class="w">    </span><span class="s1">&#39;課税取引コード（課税取引マスタへの外部キー）&#39;</span><span class="p">;</span>

<span class="c1">-- インデックス作成</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">idx_account_tax_code</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;課税取引コード&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="ss">&quot;課税取引コード&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
</code></pre></div>
<hr />
<h2 id="56">5.6 階層構造のテスト<a class="headerlink" href="#56" title="Permanent link">&para;</a></h2>
<h3 id="_11">子孫科目の取得テスト<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Test</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;特定科目配下の子孫を取得できる（チルダ連結検索）&quot;</span><span class="p">)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">testFindDescendants</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 1. テストデータの作成</span>
<span class="w">    </span><span class="c1">// 資産の部 → 流動資産 → 現金及び預金 → 現金、当座預金、普通預金</span>
<span class="w">    </span><span class="n">insertAccountWithStructure</span><span class="p">(</span><span class="s">&quot;11&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;資産の部&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertAccountWithStructure</span><span class="p">(</span><span class="s">&quot;11000&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;流動資産&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertAccountWithStructure</span><span class="p">(</span><span class="s">&quot;11190&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;現金及び預金&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000~11190&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11000&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertAccountWithStructure</span><span class="p">(</span><span class="s">&quot;11110&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;現金&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000~11190~11110&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11190&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertAccountWithStructure</span><span class="p">(</span><span class="s">&quot;11120&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;当座預金&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000~11190~11120&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11190&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertAccountWithStructure</span><span class="p">(</span><span class="s">&quot;11130&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;普通預金&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000~11190~11130&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11190&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 2. 「現金及び預金」配下の子孫を取得</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountStructure</span><span class="o">&gt;</span><span class="w"> </span><span class="n">descendants</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountStructureMapper</span><span class="p">.</span><span class="na">findDescendants</span><span class="p">(</span><span class="s">&quot;11190&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 3. 検証</span>
<span class="w">    </span><span class="n">assertThat</span><span class="p">(</span><span class="n">descendants</span><span class="p">).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="w">    </span><span class="n">assertThat</span><span class="p">(</span><span class="n">descendants</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">extracting</span><span class="p">(</span><span class="n">AccountStructure</span><span class="p">::</span><span class="n">getAccountCode</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">containsExactlyInAnyOrder</span><span class="p">(</span><span class="s">&quot;11110&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11120&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11130&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_12">残高集計テスト<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Test</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;階層配下の残高を集計できる&quot;</span><span class="p">)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">testSumBalanceByHierarchy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 1. テストデータの作成（残高付き）</span>
<span class="w">    </span><span class="n">insertAccountWithBalance</span><span class="p">(</span><span class="s">&quot;11190&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;現金及び預金&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertAccountWithBalance</span><span class="p">(</span><span class="s">&quot;11110&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;現金&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100000&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">insertAccountWithBalance</span><span class="p">(</span><span class="s">&quot;11120&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;当座預金&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;500000&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">insertAccountWithBalance</span><span class="p">(</span><span class="s">&quot;11130&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;普通預金&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;300000&quot;</span><span class="p">));</span>

<span class="w">    </span><span class="c1">// 2. 階層構造の設定</span>
<span class="w">    </span><span class="n">insertStructure</span><span class="p">(</span><span class="s">&quot;11190&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000~11190&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11000&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertStructure</span><span class="p">(</span><span class="s">&quot;11110&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000~11190~11110&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11190&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertStructure</span><span class="p">(</span><span class="s">&quot;11120&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000~11190~11120&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11190&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">insertStructure</span><span class="p">(</span><span class="s">&quot;11130&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11~11000~11190~11130&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;11190&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 3. 「現金及び預金」配下の残高を集計</span>
<span class="w">    </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalBalance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountRepository</span><span class="p">.</span><span class="na">sumBalanceByHierarchy</span><span class="p">(</span><span class="s">&quot;11190&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 4. 検証</span>
<span class="w">    </span><span class="n">assertThat</span><span class="p">(</span><span class="n">totalBalance</span><span class="p">).</span><span class="na">isEqualByComparingTo</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;900000&quot;</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="57">5.7 主要テーブル一覧<a class="headerlink" href="#57" title="Permanent link">&para;</a></h2>
<h3 id="5_1">マスタ系テーブル（第5章で作成）<a class="headerlink" href="#5_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>テーブル名</th>
<th>説明</th>
<th>主キー</th>
</tr>
</thead>
<tbody>
<tr>
<td>勘定科目マスタ</td>
<td>勘定科目の基本情報</td>
<td>勘定科目ID</td>
</tr>
<tr>
<td>勘定科目構成マスタ</td>
<td>勘定科目の階層構造</td>
<td>勘定科目コード</td>
</tr>
<tr>
<td>課税取引マスタ</td>
<td>消費税の課税区分</td>
<td>課税取引コード</td>
</tr>
</tbody>
</table>
<h3 id="_13">テーブル間のリレーション<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjU5OXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzkxcHg7aGVpZ2h0OjU5OXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM5MSA1OTkiIHdpZHRoPSIzOTFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OyYjMTI0ODY7JiMxMjU0MDsmIzEyNTAyOyYjMTI1MjM7JiMxMjM5ODsmIzEyNTIyOyYjMTI1MjQ7JiMxMjU0MDsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTUuOTk5MSIgeD0iOTAuODE4NyIgeT0iMjIuOTk1MSI+JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzsmIzEyMzk4OyYjMTI1MjI7JiMxMjUyNDsmIzEyNTQwOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48L2c+PCEtLWNsYXNzIGFjY291bnQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJhY2NvdW50IiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxOTQuNjcxOSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY5LjYyMjYiIHg9IjExOS4zMyIgeT0iNDQuMjk2OSIvPjxlbGxpcHNlIGN4PSIxNTIuMTYwNCIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE1Ni4yNjk3LDY2LjI5NjkgTDE0OC41NTEsNjYuMjk2OSBMMTQ4LjU1MSw1My45MDYzIEwxNTYuMjY5Nyw1My45MDYzIEwxNTYuMjY5Nyw1Ni4wNjI1IEwxNTEuMDA0MSw1Ni4wNjI1IEwxNTEuMDA0MSw1OC43MzQ0IEwxNTUuNzY5Nyw1OC43MzQ0IEwxNTUuNzY5Nyw2MC44OTA2IEwxNTEuMDA0MSw2MC44OTA2IEwxNTEuMDA0MSw2NC4xNDA2IEwxNTYuMjY5Nyw2NC4xNDA2IEwxNTYuMjY5Nyw2Ni4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTcwLjEyMjciIHk9IjY1LjE0MzYiPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEyMC4zMyIgeDI9IjI4Ny45NTI2IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjEzMC4zMyIgY3k9Ijg5Ljk0NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDMuOTA2IiB4PSIxMzkuMzMiIHk9IjkzLjI5MiI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjtJRCBbUEtdPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjAuMzMiIHgyPSIyODcuOTUyNiIgeTE9IjEwMC41OTM4IiB5Mj0iMTAwLjU5MzgiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjEzMC4zMyIgY3k9IjExNC4yNDIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMyLjgwMTMiIHg9IjEzOS4zMyIgeT0iMTE3LjU4ODkiPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7IFtVS108L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMzAuMzMiIGN5PSIxMzAuNTM5MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzOS4zMyIgeT0iMTMzLjg4NTciPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMyMTUxNzs8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMzAuMzMiIGN5PSIxNDYuODM1OSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjEzOS4zMyIgeT0iMTUwLjE4MjYiPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMzMTI3ODsmIzIxMDI5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NS43NDg5IiB4PSIxMzkuMzMiIHk9IjE2Ni40Nzk1Ij5vIEJTUEwmIzIxMzA2OyYjMjA5OTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3LjAxNTMiIHg9IjEzOS4zMyIgeT0iMTgyLjc3NjQiPm8gJiMyMTQ2MjsmIzI0MzQxOyYjMzUyMDE7JiMzMjAzMjsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My42MjI2IiB4PSIxMzkuMzMiIHk9IjE5OS4wNzMyIj5vICYjMzU1MDY7JiMzMTI0NjsmIzIxNDYyOyYjMjQzNDE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7IFtGS108L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMzAuMzMiIGN5PSIyMTIuMDIzNCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzOS4zMyIgeT0iMjE1LjM3MDEiPiYjMjE1MTI7JiMzNTMzNjsmIzMxMTg1OyYjMzA0NDY7PC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTMwLjMzIiBjeT0iMjI4LjMyMDMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxMzkuMzMiIHk9IjIzMS42NjciPiYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBzdHJ1Y3R1cmUtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJzdHJ1Y3R1cmUiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMjkuNDg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc4LjY4MDIiIHg9IjEzLjgiIHk9IjMxNS45NjY5Ii8+PGVsbGlwc2UgY3g9IjM4LjEwNjQiIGN5PSIzMzEuOTY2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNDIuMjE1NywzMzcuOTY2OSBMMzQuNDk3LDMzNy45NjY5IEwzNC40OTcsMzI1LjU3NjMgTDQyLjIxNTcsMzI1LjU3NjMgTDQyLjIxNTcsMzI3LjczMjUgTDM2Ljk1MDEsMzI3LjczMjUgTDM2Ljk1MDEsMzMwLjQwNDQgTDQxLjcxNTcsMzMwLjQwNDQgTDQxLjcxNTcsMzMyLjU2MDYgTDM2Ljk1MDEsMzMyLjU2MDYgTDM2Ljk1MDEsMzM1LjgxMDYgTDQyLjIxNTcsMzM1LjgxMDYgTDQyLjIxNTcsMzM3Ljk2NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iNTQuMTc0NCIgeT0iMzM2LjgxMzYiPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMyNzA4MzsmIzI1MTA0OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNC44IiB4Mj0iMTkxLjQ4MDIiIHkxPSIzNDcuOTY2OSIgeTI9IjM0Ny45NjY5Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIyNC44IiBjeT0iMzYxLjYxNTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTIuNjgwMiIgeD0iMzMuOCIgeT0iMzY0Ljk2MiI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgW1BLLEZLXTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQuOCIgeDI9IjE5MS40ODAyIiB5MT0iMzcyLjI2MzgiIHkyPSIzNzIuMjYzOCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMjQuOCIgY3k9IjM4NS45MTIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMzMuOCIgeT0iMzg5LjI1ODkiPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ5NzsmIzEyNDczOzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjI0LjgiIGN5PSI0MDIuMjA5MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjMzLjgiIHk9IjQwNS41NTU3Ij4mIzM4NTQyOyYjMjM2NTI7JiMxMjUyNDsmIzEyNTA1OyYjMTI1MjM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3LjAxNTMiIHg9IjMzLjgiIHk9IjQyMS44NTI2Ij5vICYjMzUyNDI7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjI0LjgiIGN5PSI0MzQuODAyOCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjMzLjgiIHk9IjQzOC4xNDk1Ij4mIzM0OTIwOyYjMzEwMzQ7JiMzODkxODsmIzI0MjA3OzwvdGV4dD48L2c+PCEtLWNsYXNzIHRheC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InRheCIgZGF0YS1zb3VyY2UtbGluZT0iMjUiIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEyOS40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTYuOTk2NiIgeD0iMjI3LjY0IiB5PSIzMTUuOTY2OSIvPjxlbGxpcHNlIGN4PSIyNTQuNzg4NyIgY3k9IjMzMS45NjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yNTguODk4MSwzMzcuOTY2OSBMMjUxLjE3OTMsMzM3Ljk2NjkgTDI1MS4xNzkzLDMyNS41NzYzIEwyNTguODk4MSwzMjUuNTc2MyBMMjU4Ljg5ODEsMzI3LjczMjUgTDI1My42MzI0LDMyNy43MzI1IEwyNTMuNjMyNCwzMzAuNDA0NCBMMjU4LjM5ODEsMzMwLjQwNDQgTDI1OC4zOTgxLDMzMi41NjA2IEwyNTMuNjMyNCwzMzIuNTYwNiBMMjUzLjYzMjQsMzM1LjgxMDYgTDI1OC44OTgxLDMzNS44MTA2IEwyNTguODk4MSwzMzcuOTY2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI3MS40ODg0IiB5PSIzMzYuODEzNiI+JiMzNTUwNjsmIzMxMjQ2OyYjMjE0NjI7JiMyNDM0MTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjI4LjY0IiB4Mj0iMzgzLjYzNjYiIHkxPSIzNDcuOTY2OSIgeTI9IjM0Ny45NjY5Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIyMzguNjQiIGN5PSIzNjEuNjE1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC45OTY2IiB4PSIyNDcuNjQiIHk9IjM2NC45NjIiPiYjMzU1MDY7JiMzMTI0NjsmIzIxNDYyOyYjMjQzNDE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7IFtQS108L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIyOC42NCIgeDI9IjM4My42MzY2IiB5MT0iMzcyLjI2MzgiIHkyPSIzNzIuMjYzOCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMjM4LjY0IiBjeT0iMzg1LjkxMjIiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNDcuNjQiIHk9IjM4OS4yNTg5Ij4mIzM1NTA2OyYjMzEyNDY7JiMyMTQ2MjsmIzI0MzQxOyYjMjE1MTc7PC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMjM4LjY0IiBjeT0iNDAyLjIwOTEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIyNDcuNjQiIHk9IjQwNS41NTU3Ij4mIzMxMjQ2OyYjMjk1NzU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjAxNTUiIHg9IjI0Ny42NCIgeT0iNDIxLjg1MjYiPm8gJiMzNTUwMDsmIzI2MTI2OzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjIzOC42NCIgY3k9IjQzNC44MDI4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjQ3LjY0IiB5PSI0MzguMTQ5NSI+JiMyNjM3NzsmIzIxMTc3OyYjMTI1MDE7JiMxMjUyMTsmIzEyNDY0OzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01ONyIgZGF0YS1zb3VyY2UtbGluZT0iMzgiIGlkPSJlbnQwMDA4Ij48cGF0aCBkPSJNNiw1MDYuNDU2OSBMNiw1OTIuMTIwOSBBMCwwIDAgMCAwIDYsNTkyLjEyMDkgTDIwMC4yODQ3LDU5Mi4xMjA5IEEwLDAgMCAwIDAgMjAwLjI4NDcsNTkyLjEyMDkgTDIwMC4yODQ3LDUxNi40NTY5IEwxOTAuMjg0Nyw1MDYuNDU2OSBMMTA3LjE0LDUwNi40NTY5IEwxMDMuMTQsNDQ1LjYzNjkgTDk5LjE0LDUwNi40NTY5IEw2LDUwNi40NTY5IEEwLDAgMCAwIDAgNiw1MDYuNDU2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTE5MC4yODQ3LDUwNi40NTY5IEwxOTAuMjg0Nyw1MTYuNDU2OSBMMjAwLjI4NDcsNTE2LjQ1NjkgTDE5MC4yODQ3LDUwNi40NTY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iMTIiIHk9IjUyMy41MjM4Ij4mIzEyNDgxOyYjMTI1MjM7JiMxMjQ4MDsmIzM2ODk5OyYjMzIwODA7JiMyNjA0MTsmIzI0MzM1OyYjMTIzOTE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjEyIiB5PSI1MzguNjU2NiI+JiMzODU0MjsmIzIzNjUyOyYjMjcwODM7JiMzNjg5NjsmIzEyNDM0OyYjMzE2NDk7JiMyOTcwMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC4xMzIzIiB4PSIxMiIgeT0iNTUzLjc4OTQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0My4zNzk5IiB4PSIxMiIgeT0iNTY4LjkyMjIiPiYjMTI0OTc7JiMxMjQ3MzsmIzIwMzYzOzo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTczLjI4NDciIHg9IjEyIiB5PSI1ODQuMDU1Ij4xMX4xMTAwMH4xMTE5MH4xMTExMDwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMTAiIGRhdGEtc291cmNlLWxpbmU9IjQ2IiBpZD0iZW50MDAxMSI+PHBhdGggZD0iTTI0Ny45NSw1MDYuNDU2OSBMMjQ3Ljk1LDU5Mi4xMjA5IEEwLDAgMCAwIDAgMjQ3Ljk1LDU5Mi4xMjA5IEwzNjQuMzMsNTkyLjEyMDkgQTAsMCAwIDAgMCAzNjQuMzMsNTkyLjEyMDkgTDM2NC4zMyw1MTYuNDU2OSBMMzU0LjMzLDUwNi40NTY5IEwzMTAuMTQsNTA2LjQ1NjkgTDMwNi4xNCw0NDUuNjM2OSBMMzAyLjE0LDUwNi40NTY5IEwyNDcuOTUsNTA2LjQ1NjkgQTAsMCAwIDAgMCAyNDcuOTUsNTA2LjQ1NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zNTQuMzMsNTA2LjQ1NjkgTDM1NC4zMyw1MTYuNDU2OSBMMzY0LjMzLDUxNi40NTY5IEwzNTQuMzMsNTA2LjQ1NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk1LjM4IiB4PSIyNTMuOTUiIHk9IjUyMy41MjM4Ij4mIzM1NTA2OyYjMzEyNDY7JiMyMTQ2MjsmIzI0MzQxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5Ozo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTEuMDU0MiIgeD0iMjUzLjk1IiB5PSI1MzguNjU2NiI+MDE6ICYjMzU1MDY7JiMzMTI0Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuMDU0MiIgeD0iMjUzLjk1IiB5PSI1NTMuNzg5NCI+MDI6ICYjMzg3NTA7JiMzNTUwNjsmIzMxMjQ2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MS4wNTQyIiB4PSIyNTMuOTUiIHk9IjU2OC45MjIyIj4wMzogJiMyMDgxMzsmIzMxMjQ2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NC4wNTQyIiB4PSIyNTMuOTUiIHk9IjU4NC4wNTUiPjA0OiAmIzE5OTgxOyYjMzU1MDY7JiMzMTI0Njs8L3RleHQ+PC9nPjwhLS1saW5rIGFjY291bnQgdG8gc3RydWN0dXJlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDMiIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMzQiIGlkPSJsbms1Ij48cGF0aCBjb2RlTGluZT0iMzQiIGQ9Ik0xNTkuNzgyNSwyNDYuNzY1OSBDMTQ4LjgxMjUsMjcyLjQ5NTkgMTQ2LjI1MzMsMjc4LjQ4NDYgMTM2LjI1MzMsMzAxLjk4NDYiIGZpbGw9Im5vbmUiIGlkPSJhY2NvdW50LXN0cnVjdHVyZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNTcuNjcxNyIgeDI9IjE2NS4wMzA4IiB5MT0iMjQxLjUxNzYiIHkyPSIyNDQuNjU1MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNTYuNDk1MSIgeDI9IjE2My44NTQyIiB5MT0iMjQ0LjI3NzMiIHkyPSIyNDcuNDE0OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNTkuNzgyNSIgeDI9IjE2Mi45MiIgeTE9IjI0Ni43NjU5IiB5Mj0iMjM5LjQwNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTM0LjY4NzEiIHgyPSIxMzAuMzgiIHkxPSIzMDUuNjY1MiIgeTI9IjMxNS43ODY5Ii8+PGVsbGlwc2UgY3g9IjEzNC42ODcxIiBjeT0iMzA1LjY2NTIiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzUuNjI2OCIgeDI9IjEyOC4yNjU2IiB5MT0iMzEzLjY3MjUiIHkyPSIzMTAuNTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNy40NTc1IiB4PSIxNDguNiIgeT0iMjgyLjAzMzgiPjE6MC4uMTwvdGV4dD48L2c+PCEtLWxpbmsgYWNjb3VudCB0byB0YXgtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSIzNSIgaWQ9ImxuazYiPjxwYXRoIGNvZGVMaW5lPSIzNSIgZD0iTTI1Mi44OTM4LDI1NS45NDE1IEMyNjMuOTYzOCwyODEuNjcxNSAyNjIuNjAyMSwyNzguNTA3OSAyNzIuNzEyMSwzMDIuMDA3OSIgZmlsbD0ibm9uZSIgaWQ9ImFjY291bnQtdGF4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0OC45NDE3IiB4Mj0iMjQwLjI2ODUiIHkxPSIyNDYuNzU1NiIgeTI9IjI0MS43NzgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0OC45NDE3IiB4Mj0iMjUxLjI5MTUiIHkxPSIyNDYuNzU1NiIgeTI9IjIzNy4wMzU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0OC45NDE3IiB4Mj0iMjQ1Ljc4IiB5MT0iMjQ2Ljc1NTYiIHkyPSIyMzkuNDA2OSIvPjxlbGxpcHNlIGN4PSIyNTEuMzEzIiBjeT0iMjUyLjI2NzEiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNzQuMjkyOSIgeDI9IjI3OC42NCIgeTE9IjMwNS42ODIzIiB5Mj0iMzE1Ljc4NjkiLz48ZWxsaXBzZSBjeD0iMjc0LjI5MjkiIGN5PSIzMDUuNjgyMyIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI4MC43MzM2IiB4Mj0iMjczLjM4NDgiIHkxPSIzMTAuNTMxNyIgeTI9IjMxMy42OTMzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzguOTExMSIgeD0iMjY1LjI4IiB5PSIyODIuMDMzOCI+TjowLi4xPC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBUTDlUUW5mMTU3c1ZOcDd1TUFoaWo3ZDlGZk9JQTJiNUE3c0lGYlhoODkydWE4cEc0WXN3Ry1xY0hqcTRBWVBmV3c2Zk1mS2JZSXNqOGlzRmtQYVR6cnpxVGJWai1mNk5PVXV6VC11dnp6b1hjdEdoWU82VFd6dTdfSFBPMFRXR00xTE8xXzhNaTNRbWhmbEhWbURoMGtpWGI0cEhKVmVVWHRZbm5nckpxSm1JUHpScVZHWjdUdDR5YVQzSUFPaHRxMENTaDdoczVDVVl3d3pIRTNtN1dEeHBNRlRueDlONFBxNWtia09vZWNMbnVwbEl5OUVOcVVWeVNDMkRXV251ZlNnN2RxVURsRlhQZG9QN3hIbEhBbGpHVzZORFBwNkRLU2xtVXloR2plZkVmdVFvb3FVcWNxTlJDNlM3dFFLeHdHSER4b0dOSFdybUhUU1ZoWXFUY1h0OUxaQmZkOVJ2elFOZHl1Y3F0TE5UUUMtcmFNTVpZdlF1NzNacjBYektXWTlkSGZvSEgtRmxGNjd0YzMxVEhIM3R0UFFYQTdfb19FbFFqUjlocGZUelZqMDc5WWItVzd4YjJmWWlFUEM5WHhMQ20wbUxYdVlnSDI4YURBdDlRYndEZ3FZWUJ5T2VJY2FxWVR6ZWI2aFJNRGx1dG04MW94aV9hRU1TdDNWbm94SWhWSndpR0J3OVZCRmFDZm5TN1ZIWk9McThpdTJHUi1SVHR3QUEyRmIwWUE4ZXlZSWh0YWFLUVRQUng5OGpLNGY1UUFhX0FiQThFaE82QU96S3g3bXpkcUlGTFNtX2JocGhZZWhsX2ZKNm04SmI3bTAwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h2 id="_14">まとめ<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h2>
<p>本章では、マスタデータモデルについて解説しました。</p>
<ul>
<li><strong>勘定科目マスタ</strong>: 財務会計システムの基礎となる勘定科目情報を管理</li>
<li><strong>TDD サイクル</strong>: Red → Green → Refactor で段階的にテーブルを設計</li>
<li><strong>項目定義</strong>: BSPL区分、取引要素区分、合計科目などの実務項目</li>
<li><strong>勘定科目構成マスタ</strong>: 勘定科目の階層構造を管理</li>
<li><strong>チルダ連結方式</strong>: <code>~</code> で連結したパス文字列による効率的な階層管理</li>
<li><strong>課税取引マスタ</strong>: 消費税の課税区分（課税、非課税、免税、不課税）を管理</li>
<li><strong>階層検索</strong>: LIKE 演算子による子孫科目の一括取得</li>
<li><strong>動的 SQL</strong>: MyBatis の動的 SQL による柔軟な条件検索</li>
</ul>
<p>次章では、トランザクションデータモデル（仕訳テーブル、自動仕訳テーブル）について解説します。</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/case-study-accounting" target="_blank" rel="noopener" title="財務会計システム ケーススタディ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../assets/js/extra.js"></script>
      
    
  </body>
</html>