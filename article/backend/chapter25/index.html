
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="財務会計システムの設計・開発ドキュメント">
      
      
        <meta name="author" content="Project Team">
      
      
      
        <link rel="prev" href="../chapter24/">
      
      
        <link rel="next" href="../chapter26/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>第25章 - 財務会計システム ケーススタディ</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#25-1-" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="財務会計システム ケーススタディ" class="md-header__button md-logo" aria-label="財務会計システム ケーススタディ" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            財務会計システム ケーススタディ
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第25章
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/case-study-accounting" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    case-study-accounting
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../requirements/requirements_definition/" class="md-tabs__link">
          
  
  
  要件定義

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../design/architecture_backend/" class="md-tabs__link">
          
  
  
  設計

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../development/release_plan/" class="md-tabs__link">
          
  
  
  開発

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../operation/dev_env/" class="md-tabs__link">
          
  
  
  運用

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89/" class="md-tabs__link">
          
  
  
  リファレンス

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../template/ADR/" class="md-tabs__link">
          
  
  
  テンプレート

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践ガイド

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../functional-java/" class="md-tabs__link">
          
  
  
  関数型プログラミング実践ガイド

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="財務会計システム ケーススタディ" class="md-nav__button md-logo" aria-label="財務会計システム ケーススタディ" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    財務会計システム ケーススタディ
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/case-study-accounting" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    case-study-accounting
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    要件定義
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    要件定義
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/requirements_definition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/business_usecase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ビジネスユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/system_usecase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    システムユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/user_story/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ユーザーストーリー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    アーキテクチャ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    アーキテクチャ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インフラストラクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    モデル設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    モデル設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/data-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    データモデル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/domain-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ドメインモデル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ユースケース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    ユースケース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/usecase/JNL-004-01_GetJournalEntries_UseCase_Design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    仕訳一覧取得
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ワークフロー設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    ワークフロー設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/journal-entry-status-diagram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    仕訳ステータス遷移図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/ui-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI 設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/test_strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    テスト戦略
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/non_functional/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    非機能要件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/operation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用要件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/tech_stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック選定
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    開発
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    開発
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/release_plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    リリース計画
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    リリースノート
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    リリースノート
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/release_notes-v1.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    v1.0 MVP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/release_notes-v2.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    v2.0 機能拡張版
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    イテレーション計画
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    イテレーション計画
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション11
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ふりかえり
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    ふりかえり
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/retrospective-11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション11
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    運用
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    運用
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/dev_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    開発環境解説
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/dev_container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    開発コンテナ構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/backend_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンド構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/backend_demo_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンドデモ環境
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド開発手順
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_common_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド共通 UI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_demo_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンドデモ環境
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/deploy_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    デモ環境デプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/third_party_service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    外部サービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/sonarqube_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SonarQube セットアップガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/e2e_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    E2E テスト実行手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/github_project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GitHub Project 運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    リファレンス
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    リファレンス
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    開発ガイドライン
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    開発ガイドライン
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    開発ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%88%E3%81%84%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%A8%E3%81%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    よいソフトウェアとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%A8%E3%83%86%E3%82%B9%E3%83%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    コーディングとテストガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    エクストリームプログラミング
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    分析・設計ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    分析・設計ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9%E4%BD%9C%E6%88%90%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ユースケース作成ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E5%88%86%E6%9E%90%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ビジネスアーキテクチャ分析ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ビジネスアーキテクチャ設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アーキテクチャ設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%87%E3%83%BC%E3%82%BF%E3%83%A2%E3%83%87%E3%83%AB%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    データモデル設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%83%A2%E3%83%87%E3%83%AB%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ドメインモデル設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/UI%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インフラ設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    非機能・運用ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    非機能・運用ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%86%E3%82%B9%E3%83%88%E6%88%A6%E7%95%A5%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    テスト戦略ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%9D%9E%E6%A9%9F%E8%83%BD%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    非機能要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%81%8B%E7%94%A8%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E3%83%BB%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%88%E7%94%BB%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    リリース・イテレーション計画ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    リリースガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    環境構築ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    環境構築ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Java%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Javaアプリケーション環境構築ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/TypeScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TypeScriptアプリケーション環境構築ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E8%A8%80%E8%AA%9E%E5%88%A5%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    言語別開発ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E7%AE%A1%E7%90%86%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    環境変数管理ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Vim%E6%93%8D%E4%BD%9C%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vim操作マニュアル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/CodexCLIMCP%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%AD%E5%AE%9A%E6%89%8B%E9%A0%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Codex CLI MCP サーバー設定手順
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/CodexCLIMCP%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA%E3%83%95%E3%83%AD%E3%83%BC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Codex CLI MCP アプリケーション開発フロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    テンプレート
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    テンプレート
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/ADR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ビジネスアーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%8C%E4%BA%86%E5%A0%B1%E5%91%8A%E6%9B%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション完了報告書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%88%E7%94%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション計画
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%82%A4%E3%83%B3%E3%82%BB%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%87%E3%83%83%E3%82%AD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インセプションデッキ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%81%BE%E3%81%9A%E3%81%93%E3%82%8C%E3%82%92%E8%AA%AD%E3%82%82%E3%81%86%E3%83%AA%E3%82%B9%E3%83%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    まずこれを読もうリスト
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E8%A8%88%E7%94%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    リリース計画
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E5%AE%8C%E5%85%A8%E5%BD%A2%E5%BC%8F%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    完全形式のユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E8%A8%AD%E8%A8%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    README
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" checked>
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    バックエンド編（Java版）
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    バックエンド編（Java版）
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter00/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第25章
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#251" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.1 要件定義
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="25.1 要件定義">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        認証ユースケース
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        ユーザーロールと権限
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        権限マトリクス
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#252" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.2 ドメインモデル設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="25.2 ドメインモデル設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        ユーザーエンティティ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        ユーザーエンティティの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        パスワードの値オブジェクト
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="パスワードの値オブジェクト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        パスワードの実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    <span class="md-ellipsis">
      
        ユーザーIDの値オブジェクト
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        ロールと権限の実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#253-tdd" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.3 TDD による実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="25.3 TDD による実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        テストファーストアプローチ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        ユーザー登録のテスト
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        パスワード検証のテスト
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        認証処理のテスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#254-spring-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.4 Spring Security 統合
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="25.4 Spring Security 統合">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        認証フィルタの設定
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#securityconfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        SecurityConfig の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt" class="md-nav__link">
    <span class="md-ellipsis">
      
        JWT トークン管理
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JWT トークン管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jwttokenprovider" class="md-nav__link">
    <span class="md-ellipsis">
      
        JwtTokenProvider の実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        JWT認証フィルタ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        セッション管理
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#255" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.5 認証コントローラの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="25.5 認証コントローラの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      
        認証API
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        認証サービス
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#256" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.6 ドメインモデルの例外設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="25.6 ドメインモデルの例外設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        例外の使い分け
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        重要なポイント
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        財務会計システム固有の考慮点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド編（React版）
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    フロントエンド編（React版）
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter00/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    関数型プログラミング実践ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    関数型プログラミング実践ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    関数型プログラミング（Java版）
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    関数型プログラミング（Java版）
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part I 基礎
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part II 関数型スタイル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part III エラーハンドリング
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part IV IO と副作用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part V 並行処理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functional-java/part-6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part VI 実践
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="25-1-">第25章: 非機能要件 1 - 認証・ユーザー管理<a class="headerlink" href="#25-1-" title="Permanent link">&para;</a></h1>
<h2 id="251">25.1 要件定義<a class="headerlink" href="#251" title="Permanent link">&para;</a></h2>
<h3 id="_1">認証ユースケース<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>財務会計システムへのアクセスを制御するため、認証機能を実装します。財務データは機密性が高いため、適切なアクセス制御が必須です。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjY0MnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzMzcHg7aGVpZ2h0OjY0MnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMzMyA2NDIiIHdpZHRoPSIzMzNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzU0Njk7JiMzNTM4ODsmIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MzsmIzEyNDY1OyYjMTI1NDA7JiMxMjQ3Mzs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iMTAzLjcyNTIiIHk9IjIyLjk5NTEiPiYjMzU0Njk7JiMzNTM4ODsmIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MzsmIzEyNDY1OyYjMTI1NDA7JiMxMjQ3Mzs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjkiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjUzMSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE2NS40NSIgeD0iMTYyIiB5PSIxMDUuOTQ2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMTgxLjcyNTMiIHk9IjEyMC45NDIiPiYjMzU0Njk7JiMzNTM4ODsmIzEyNTM5OyYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7JiMzMTY0OTsmIzI5NzAyOzwvdGV4dD48L2c+PCEtLWVudGl0eSA/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0iZW50MDAwNyI+PGVsbGlwc2UgY3g9IjI0NC43MTc4IiBjeT0iMjg1Ljk1MDUiIGZpbGw9IiNGMUYxRjEiIHJ4PSI0Mi41OTc4IiByeT0iMTQuNTIzNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjE2LjcxNzkiIHk9IjI5MC41OTg5Ij4mIzEyNTI1OyYjMTI0NjQ7JiMxMjQ1MjsmIzEyNTMxOzwvdGV4dD48L2c+PCEtLWVudGl0eSA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGlkPSJlbnQwMDA4Ij48ZWxsaXBzZSBjeD0iMjQ0LjcxNzMiIGN5PSIyMjEuOTUwNSIgZmlsbD0iI0YxRjFGMSIgcng9IjUyLjQ5NzMiIHJ5PSIxNC41MjM2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMDkuNzE3NCIgeT0iMjI2LjU5ODkiPiYjMTI1MjU7JiMxMjQ2NDsmIzEyNDUwOyYjMTI0NTQ7JiMxMjQ4ODs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgPz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImVudDAwMDkiPjxlbGxpcHNlIGN4PSIyNDQuNzE1MiIgY3k9IjE1Ni45NDE5IiBmaWxsPSIjRjFGMUYxIiByeD0iNjYuNzI1MiIgcnk9IjE1Ljc0NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTk1LjcxNTQiIHk9IjE2MS41OTA0Ij4mIzEyNDk3OyYjMTI0NzM7JiMxMjUyNzsmIzEyNTQwOyYjMTI0ODk7JiMyMjc5MzsmIzI2MzU2OzwvdGV4dD48L2c+PCEtLWVudGl0eSA/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgaWQ9ImVudDAwMTAiPjxlbGxpcHNlIGN4PSIyNDQuNzI0MiIgY3k9IjQxMy45NDk3IiBmaWxsPSIjRjFGMUYxIiByeD0iNjEuNTE0MiIgcnk9IjE0LjcwMjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjIwMi43MjQ0IiB5PSI0MTguNTk4MiI+JiMxMjUxODsmIzEyNTQwOyYjMTI0NzA7JiMxMjU0MDsmIzE5OTY4OyYjMzUyMzk7PC90ZXh0PjwvZz48IS0tZW50aXR5ID8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjE0IiBpZD0iZW50MDAxMSI+PGVsbGlwc2UgY3g9IjI0NC43MjQyIiBjeT0iMzQ5Ljk0OTciIGZpbGw9IiNGMUYxRjEiIHJ4PSI2MS41MTQyIiByeT0iMTQuNzAyOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjAyLjcyNDQiIHk9IjM1NC41OTgyIj4mIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MDsmIzEyNTQwOyYjMzAzMzE7JiMzNzY4Mjs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgPz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGlkPSJlbnQwMDEyIj48ZWxsaXBzZSBjeD0iMjQ0LjcyNDIiIGN5PSI2MDUuOTQ5NyIgZmlsbD0iI0YxRjFGMSIgcng9IjYxLjUxNDIiIHJ5PSIxNC43MDI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIyMDIuNzI0NCIgeT0iNjEwLjU5ODIiPiYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7JiMzMjIzMjsmIzM4NTk4OzwvdGV4dD48L2c+PCEtLWVudGl0eSA/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxNiIgaWQ9ImVudDAwMTMiPjxlbGxpcHNlIGN4PSIyNDQuNzI0MiIgY3k9IjU0MS45NDk3IiBmaWxsPSIjRjFGMUYxIiByeD0iNjEuNTE0MiIgcnk9IjE0LjcwMjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjIwMi43MjQ0IiB5PSI1NDYuNTk4MiI+JiMxMjUxODsmIzEyNTQwOyYjMTI0NzA7JiMxMjU0MDsmIzIxMDY2OyYjMzg1MDA7PC90ZXh0PjwvZz48IS0tZW50aXR5ID8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTciIGlkPSJlbnQwMDE0Ij48ZWxsaXBzZSBjeD0iMjQ0LjcxNzgiIGN5PSI0NzcuOTUwNSIgZmlsbD0iI0YxRjFGMSIgcng9IjQyLjU5NzgiIHJ5PSIxNC41MjM2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyMTYuNzE3OSIgeT0iNDgyLjU5ODkiPiYjMjcxNzc7JiMzODQ4MDsmIzM1MzczOyYjMjM0NTA7PC90ZXh0PjwvZz48IS0tZW50aXR5IGFjY291bnRhbnQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJhY2NvdW50YW50IiBkYXRhLXNvdXJjZS1saW5lPSI0IiBpZD0iZW50MDAwMiI+PGVsbGlwc2UgY3g9IjYxLjk5OTgiIGN5PSI1MS4yOTY5IiBmaWxsPSIjRjFGMUYxIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik02MS45OTk4LDU5LjI5NjkgTDYxLjk5OTgsODYuMjk2OSBNNDguOTk5OCw2Ny4yOTY5IEw3NC45OTk4LDY3LjI5NjkgTTYxLjk5OTgsODYuMjk2OSBMNDguOTk5OCwxMDEuMjk2OSBNNjEuOTk5OCw4Ni4yOTY5IEw3NC45OTk4LDEwMS4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iMTE1Ljc5MiI+JiMzMjA3NjsmIzI5NzAyOyYjMjUyODU7JiMyNDQwMzsmIzMyNzczOzwvdGV4dD48L2c+PCEtLWVudGl0eSBtYW5hZ2VyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0ibWFuYWdlciIgZGF0YS1zb3VyY2UtbGluZT0iNSIgaWQ9ImVudDAwMDMiPjxlbGxpcHNlIGN4PSI2MS45OTk4IiBjeT0iMTYyLjI5NjkiIGZpbGw9IiNGMUYxRjEiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTYxLjk5OTgsMTcwLjI5NjkgTDYxLjk5OTgsMTk3LjI5NjkgTTQ4Ljk5OTgsMTc4LjI5NjkgTDc0Ljk5OTgsMTc4LjI5NjkgTTYxLjk5OTgsMTk3LjI5NjkgTDQ4Ljk5OTgsMjEyLjI5NjkgTTYxLjk5OTgsMTk3LjI5NjkgTDc0Ljk5OTgsMjEyLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSI2IiB5PSIyMjYuNzkyIj4mIzMyMDc2OyYjMjk3MDI7JiMxMjUxMDsmIzEyNDkzOyYjMTI1NDA7JiMxMjQ3MjsmIzEyNTE1OyYjMTI1NDA7PC90ZXh0PjwvZz48IS0tZW50aXR5IGV4ZWN1dGl2ZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImV4ZWN1dGl2ZSIgZGF0YS1zb3VyY2UtbGluZT0iNiIgaWQ9ImVudDAwMDQiPjxlbGxpcHNlIGN4PSI2MS45OTk5IiBjeT0iMjczLjI5NjkiIGZpbGw9IiNGMUYxRjEiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTYxLjk5OTksMjgxLjI5NjkgTDYxLjk5OTksMzA4LjI5NjkgTTQ4Ljk5OTksMjg5LjI5NjkgTDc0Ljk5OTksMjg5LjI5NjkgTTYxLjk5OTksMzA4LjI5NjkgTDQ4Ljk5OTksMzIzLjI5NjkgTTYxLjk5OTksMzA4LjI5NjkgTDc0Ljk5OTksMzIzLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjQxIiB5PSIzMzcuNzkyIj4mIzMyMDc2OyYjMjE5NDI7JiMzMjc3Mzs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgYWRtaW4tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJhZG1pbiIgZGF0YS1zb3VyY2UtbGluZT0iNyIgaWQ9ImVudDAwMDUiPjxlbGxpcHNlIGN4PSI2MS45OTk4IiBjeT0iMzg0LjI5NjkiIGZpbGw9IiNGMUYxRjEiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTYxLjk5OTgsMzkyLjI5NjkgTDYxLjk5OTgsNDE5LjI5NjkgTTQ4Ljk5OTgsNDAwLjI5NjkgTDc0Ljk5OTgsNDAwLjI5NjkgTTYxLjk5OTgsNDE5LjI5NjkgTDQ4Ljk5OTgsNDM0LjI5NjkgTTYxLjk5OTgsNDE5LjI5NjkgTDc0Ljk5OTgsNDM0LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjEzIiB5PSI0NDguNzkyIj4mIzEyNDcxOyYjMTI0NzM7JiMxMjQ4NjsmIzEyNTEyOyYjMzE2NDk7JiMyOTcwMjsmIzMyNzczOzwvdGV4dD48L2c+PCEtLWxpbmsgYWNjb3VudGFudCB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDciIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgaWQ9ImxuazE1Ij48cGF0aCBkPSJNOTcuMzYsMTEwLjA1NjkgQzEwNC45OCwxMTcuODM2OSAxMTIuNDQsMTI2LjY4NjkgMTE4LDEzNS45NDY5IEMxNDYuMjMsMTgyLjk1NjkgMTE2LjE0LDIxNC4yODY5IDE1NCwyNTMuOTQ2OSBDMTY3LjM2LDI2Ny45NDY5IDE4MS40MzExLDI3NC4zNjM5IDE5OS4wOTExLDI3OC44MDM5IiBmaWxsPSJub25lIiBpZD0iYWNjb3VudGFudC10by0mIzEyNTI1OyYjMTI0NjQ7JiMxMjQ1MjsmIzEyNTMxOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjA0LjkxLDI4MC4yNjY5LDE5Ny4xNTY5LDI3NC4xOTMyLDIwMC4wNjA5LDI3OS4wNDc3LDE5NS4yMDYzLDI4MS45NTE3LDIwNC45MSwyODAuMjY2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBhY2NvdW50YW50IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDgiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyMSIgaWQ9ImxuazE2Ij48cGF0aCBkPSJNOTcuMjYsMTEzLjA5NjkgQzEwNC40LDEyMC4zNjY5IDExMS42NiwxMjguMjE2OSAxMTgsMTM1Ljk0NjkgQzEzNi4yOSwxNTguMjU2OSAxMzEuMjYsMTcyLjE5NjkgMTU0LDE4OS45NDY5IEMxNjcuOTUsMjAwLjgzNjkgMTgwLjE2NzMsMjA2LjQ2ODggMTk2LjM1NzMsMjExLjM2ODgiIGZpbGw9Im5vbmUiIGlkPSJhY2NvdW50YW50LXRvLSYjMTI1MjU7JiMxMjQ2NDsmIzEyNDUwOyYjMTI0NTQ7JiMxMjQ4ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwMi4xLDIxMy4xMDY5LDE5NC42NDQ2LDIwNi42NzEzLDE5Ny4zMTQ0LDIxMS42NTg1LDE5Mi4zMjcyLDIxNC4zMjgzLDIwMi4xLDIxMy4xMDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGFjY291bnRhbnQgdG8gPz8/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjIiIGlkPSJsbmsxNyI+PHBhdGggZD0iTTk3LjQyLDk1LjQxNjkgQzEyOS45OSwxMDkuMTE2OSAxNzMuMDA5LDEyNy4yMTE1IDIwNS4xMTksMTQwLjcxMTUiIGZpbGw9Im5vbmUiIGlkPSJhY2NvdW50YW50LXRvLSYjMTI0OTc7JiMxMjQ3MzsmIzEyNTI3OyYjMTI1NDA7JiMxMjQ4OTsmIzIyNzkzOyYjMjYzNTY7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTAuNjUsMTQzLjAzNjksMjAzLjkwMzcsMTM1Ljg2MTQsMjA2LjA0MDgsMTQxLjA5OSwyMDAuODAzMiwxNDMuMjM2MSwyMTAuNjUsMTQzLjAzNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgbWFuYWdlciB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDciIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgaWQ9ImxuazE4Ij48cGF0aCBkPSJNMTE0LjUzLDIzMC4zODY5IEMxMjcuMDcsMjM4Ljc5NjkgMTQwLjcxLDI0Ny4xODY5IDE1NCwyNTMuOTQ2OSBDMTcyLjI4LDI2My4yMzY5IDE4OC4xODQ0LDI2OS4yMTE0IDIwNS42MjQ0LDI3NC43ODE0IiBmaWxsPSJub25lIiBpZD0ibWFuYWdlci10by0mIzEyNTI1OyYjMTI0NjQ7JiMxMjQ1MjsmIzEyNTMxOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjExLjM0LDI3Ni42MDY5LDIwMy45ODM2LDI3MC4wNTgzLDIwNi41NzcsMjc1LjA4NTcsMjAxLjU0OTcsMjc3LjY3OTEsMjExLjM0LDI3Ni42MDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIG1hbmFnZXIgdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwOCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI1IiBpZD0ibG5rMTkiPjxwYXRoIGQ9Ik0xMTguMjEsMjAxLjEwNjkgQzE0NC4wNSwyMDUuMzk2OSAxNjguNTMxLDIwOS40NjQ0IDE5Mi45MzEsMjEzLjUxNDQiIGZpbGw9Im5vbmUiIGlkPSJtYW5hZ2VyLXRvLSYjMTI1MjU7JiMxMjQ2NDsmIzEyNDUwOyYjMTI0NTQ7JiMxMjQ4ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE5OC44NSwyMTQuNDk2OSwxOTAuNjI2NCwyMDkuMDc3MiwxOTMuOTE3NSwyMTMuNjc4MiwxODkuMzE2NSwyMTYuOTY5MiwxOTguODUsMjE0LjQ5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgbWFuYWdlciB0byA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDkiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyNiIgaWQ9ImxuazIwIj48cGF0aCBkPSJNMTE4LjIxLDE4MS4yNTY5IEMxNDEuNjcsMTc2LjcxNjkgMTYyLjk3OTYsMTcyLjU4ODIgMTg2LjA0OTYsMTY4LjExODIiIGZpbGw9Im5vbmUiIGlkPSJtYW5hZ2VyLXRvLSYjMTI0OTc7JiMxMjQ3MzsmIzEyNTI3OyYjMTI1NDA7JiMxMjQ4OTsmIzIyNzkzOyYjMjYzNTY7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTEuOTQsMTY2Ljk3NjksMTgyLjM0MzQsMTY0Ljc2MTksMTg3LjAzMTMsMTY3LjkyOCwxODMuODY1MiwxNzIuNjE1OCwxOTEuOTQsMTY2Ljk3NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgZXhlY3V0aXZlIHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI4IiBpZD0ibG5rMjEiPjxwYXRoIGQ9Ik04My4zOCwzMDEuMDI2OSBDMTEyLjM3LDI5OC4zMDY5IDE2MC4xMzYzLDI5My44MDg1IDE5Ny4zNjYzLDI5MC4zMDg1IiBmaWxsPSJub25lIiBpZD0iZXhlY3V0aXZlLXRvLSYjMTI1MjU7JiMxMjQ2NDsmIzEyNDUyOyYjMTI1MzE7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMDMuMzQsMjg5Ljc0NjksMTk0LjAwNTEsMjg2LjYwNjgsMTk4LjM2MTksMjkwLjIxNDksMTk0Ljc1MzksMjk0LjU3MTcsMjAzLjM0LDI4OS43NDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGV4ZWN1dGl2ZSB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA4IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjkiIGlkPSJsbmsyMiI+PHBhdGggZD0iTTgzLjE2LDI5MC45NDY5IEMxMDEuMzEsMjgwLjQyNjkgMTI4LjkxLDI2NS4wOTY5IDE1NCwyNTMuOTQ2OSBDMTcxLjgzLDI0Ni4wMTY5IDE4Ni42MDU3LDI0MC41Mjc1IDIwMy40NzU3LDIzNC44Mjc1IiBmaWxsPSJub25lIiBpZD0iZXhlY3V0aXZlLXRvLSYjMTI1MjU7JiMxMjQ2NDsmIzEyNDUwOyYjMTI0NTQ7JiMxMjQ4ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwOS4xNiwyMzIuOTA2OSwxOTkuMzUzMSwyMzEuOTk4MiwyMDQuNDIzMSwyMzQuNTA3NCwyMDEuOTEzOSwyMzkuNTc3MywyMDkuMTYsMjMyLjkwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgZXhlY3V0aXZlIHRvID8/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwOSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjMwIiBpZD0ibG5rMjMiPjxwYXRoIGQ9Ik04My40OSwyODQuNjI2OSBDOTQuMzcsMjc0LjM3NjkgMTA3LjYsMjYxLjA2NjkgMTE4LDI0Ny45NDY5IEMxMzYuODUsMjI0LjE3NjkgMTMwLjQ4LDIwOS4xMTY5IDE1NCwxODkuOTQ2OSBDMTY2LjA5LDE4MC4wODY5IDE3NS43MjYxLDE3NC45NzggMTkwLjI2NjEsMTY5Ljk3OCIgZmlsbD0ibm9uZSIgaWQ9ImV4ZWN1dGl2ZS10by0mIzEyNDk3OyYjMTI0NzM7JiMxMjUyNzsmIzEyNTQwOyYjMTI0ODk7JiMyMjc5MzsmIzI2MzU2OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTk1Ljk0LDE2OC4wMjY5LDE4Ni4xMjg0LDE2Ny4xNzEsMTkxLjIxMTgsMTY5LjY1MjgsMTg4LjcyOTksMTc0LjczNjIsMTk1Ljk0LDE2OC4wMjY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGFkbWluIHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAwNyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjMyIiBpZD0ibG5rMjQiPjxwYXRoIGQ9Ik0xMDIuMDgsMzc1LjQ5NjkgQzEwNy40OSwzNjkuOTk2OSAxMTIuOTIsMzY0LjM2NjkgMTE4LDM1OC45NDY5IEMxMzQuNTgsMzQxLjI1NjkgMTMzLjk0LDMzMS41NjY5IDE1NCwzMTcuOTQ2OSBDMTcwLjQyLDMwNi43OTY5IDE4NS4zOTk2LDMwMC43NTUzIDIwMi43OTk2LDI5NS42ODUzIiBmaWxsPSJub25lIiBpZD0iYWRtaW4tdG8tJiMxMjUyNTsmIzEyNDY0OyYjMTI0NTI7JiMxMjUzMTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwOC41NiwyOTQuMDA2OSwxOTguODAwMywyOTIuNjg0MywyMDMuNzU5NiwyOTUuNDA1NiwyMDEuMDM4MywzMDAuMzY0OSwyMDguNTYsMjk0LjAwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgYWRtaW4gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAwOCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjMzIiBpZD0ibG5rMjUiPjxwYXRoIGQ9Ik0xMDUuNTgsMzc1LjU0NjkgQzExMC4xNSwzNzAuMjY2OSAxMTQuNDMsMzY0LjY3NjkgMTE4LDM1OC45NDY5IEMxNDQuMTEsMzE3LjA5NjkgMTE5LjMzLDI4OS4wNDY5IDE1NCwyNTMuOTQ2OSBDMTY2LjA5LDI0MS43MDY5IDE3Ny40MDA3LDIzNS44MTk0IDE5My40MjA3LDIzMS4xMzk0IiBmaWxsPSJub25lIiBpZD0iYWRtaW4tdG8tJiMxMjUyNTsmIzEyNDY0OyYjMTI0NTA7JiMxMjQ1NDsmIzEyNDg4OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTk5LjE4LDIyOS40NTY5LDE4OS40MTk0LDIyOC4xNDExLDE5NC4zODA2LDIzMC44NTg5LDE5MS42NjI3LDIzNS44MjAxLDE5OS4xOCwyMjkuNDU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBhZG1pbiB0byA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDkiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzNCIgaWQ9ImxuazI2Ij48cGF0aCBkPSJNMTA2LjgsMzc1LjMwNjkgQzExMS4wNCwzNzAuMTM2OSAxMTQuOTEsMzY0LjY0NjkgMTE4LDM1OC45NDY5IEMxNTQuNjYsMjkxLjQ2NjkgMTAzLjcsMjQ3Ljk3NjkgMTU0LDE4OS45NDY5IEMxNjMuNTcsMTc4LjkwNjkgMTcxLjUwODIsMTczLjU3MTIgMTg1LjIyODIsMTY4LjY4MTIiIGZpbGw9Im5vbmUiIGlkPSJhZG1pbi10by0mIzEyNDk3OyYjMTI0NzM7JiMxMjUyNzsmIzEyNTQwOyYjMTI0ODk7JiMyMjc5MzsmIzI2MzU2OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTkwLjg4LDE2Ni42NjY5LDE4MS4wNTk1LDE2NS45MjA2LDE4Ni4xNzAyLDE2OC4zNDU1LDE4My43NDUzLDE3My40NTYzLDE5MC44OCwxNjYuNjY2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBhZG1pbiB0byA/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAxMCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjM1IiBpZD0ibG5rMjciPjxwYXRoIGQ9Ik0xMTEuNDMsNDEzLjk0NjkgQzEzMy4zOSw0MTMuOTQ2OSAxNTMuNTksNDEzLjk0NjkgMTc2Ljg2LDQxMy45NDY5IiBmaWxsPSJub25lIiBpZD0iYWRtaW4tdG8tJiMxMjUxODsmIzEyNTQwOyYjMTI0NzA7JiMxMjU0MDsmIzE5OTY4OyYjMzUyMzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxODIuODYsNDEzLjk0NjksMTczLjg2LDQwOS45NDY5LDE3Ny44Niw0MTMuOTQ2OSwxNzMuODYsNDE3Ljk0NjksMTgyLjg2LDQxMy45NDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGFkbWluIHRvID8/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDExIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzYiIGlkPSJsbmsyOCI+PHBhdGggZD0iTTExMS40MywzOTYuNzk2OSBDMTQyLjE3LDM4NS45MDY5IDE3NS41NzM4LDM3NC4wNzg3IDIwMy4yNjM4LDM2NC4yNzg3IiBmaWxsPSJub25lIiBpZD0iYWRtaW4tdG8tJiMxMjUxODsmIzEyNTQwOyYjMTI0NzA7JiMxMjU0MDsmIzMwMzMxOyYjMzc2ODI7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMDguOTIsMzYyLjI3NjksMTk5LjEwMTEsMzYxLjUwODgsMjA0LjIwNjUsMzYzLjk0NTEsMjAxLjc3MDIsMzY5LjA1MDQsMjA4LjkyLDM2Mi4yNzY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGFkbWluIHRvID8/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzciIGlkPSJsbmsyOSI+PHBhdGggZD0iTTc1LjkyLDQ1Mi40MDY5IEM4OS44OCw0ODguNDg2OSAxMTUuNDQsNTQxLjU5NjkgMTU0LDU3My45NDY5IEMxNjYuNDIsNTg0LjM2NjkgMTc2Ljc1NTIsNTg5LjY2ODkgMTkxLjg1NTIsNTk0LjQ5ODkiIGZpbGw9Im5vbmUiIGlkPSJhZG1pbi10by0mIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MDsmIzEyNTQwOyYjMzIyMzI7JiMzODU5ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE5Ny41Nyw1OTYuMzI2OSwxOTAuMjE2NSw1ODkuNzc1MSwxOTIuODA3Nyw1OTQuODAzNiwxODcuNzc5Miw1OTcuMzk0OCwxOTcuNTcsNTk2LjMyNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgYWRtaW4gdG8gPz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMTMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzOCIgaWQ9ImxuazMwIj48cGF0aCBkPSJNOTIsNDUyLjI3NjkgQzEwOC40LDQ3MS43NjY5IDEzMC4zMyw0OTQuNTI2OSAxNTQsNTA5Ljk0NjkgQzE2OC4yNyw1MTkuMjQ2OSAxNzkuODgyLDUyNC4zODc5IDE5NS40NzIsNTI5LjQzNzkiIGZpbGw9Im5vbmUiIGlkPSJhZG1pbi10by0mIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MDsmIzEyNTQwOyYjMjEwNjY7JiMzODUwMDsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwMS4xOCw1MzEuMjg2OSwxOTMuODUwNiw1MjQuNzA4MSwxOTYuNDIzMyw1MjkuNzQ2MSwxOTEuMzg1Myw1MzIuMzE4OCwyMDEuMTgsNTMxLjI4NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgYWRtaW4gdG8gPz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDE0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGlkPSJsbmszMSI+PHBhdGggZD0iTTExMS40Myw0MzEuMDk2OSBDMTQ0LjE2LDQ0Mi42ODY5IDE4MC42NTM4LDQ1NS42MTUgMjA4LjQ4MzgsNDY1LjQ2NSIgZmlsbD0ibm9uZSIgaWQ9ImFkbWluLXRvLSYjMjcxNzc7JiMzODQ4MDsmIzM1MzczOyYjMjM0NTA7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTQuMTQsNDY3LjQ2NjksMjA2Ljk5MDMsNDYwLjY5MzIsMjA5LjQyNjUsNDY1Ljc5ODYsMjA0LjMyMTEsNDY4LjIzNDgsMjE0LjE0LDQ2Ny40NjY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIFRQN1ZRaThtNUNSbHluSjFndGRYQS1uVEdpclNHTGxldVhZQ1dKR2VTckRtMzBQRTZGaVpoWGxlX1picnc5eGNoQlB6WXpOS1FjcEpjdjktbHZDbHZ2b0Z3UW5DaVZfUXpmcTV5MDdtMVRXX083ejQxdUpBejgxWFBjOUJCbnFvTkRHamdaN1REMTNIYzZkWGRGVlR5WmdEdk1OVF9SdHNRX0tTOWFVT1E5ZlBESFduczZ1THkzbFdSTTR5MF91SzdhSHZYSFlhSDJzZnJoc1BuNXhxWDZmTGZYX0o2OEN6TkpOOEd4VHhSX0dHc2N3VUJMUHEwdzVMV3lHZUlLRkR1eGFjdUpVd1dxX0g3bDBYc0V6V3p1NV92UlVfWnMyN3JVVDJrSDlGbFFxa3l3UlJSb3Z4T3c1bHhWdmNETl9tZDEyenhabmVWSVI1Z0hGcTZXZEhSTHU0dE51ZUJmc05lRGxuZFE0eGtpc1pDdUlzSXlJNW1ad01jeXJZd3l4Sk0zNDZHa2tyZnpyTDhCUlVQS2hWSk05ZlBwTUFsUERLd0l2MkxjbWE5TS1NOEg2TGV5b0ppTVIwQUR1aUE2QkVXNTdTNGZIWl9tUzA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_2">ユーザーロールと権限<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>財務会計システムでは、業務の責任範囲に応じた4種類のロールを定義しています。</p>
<table>
<thead>
<tr>
<th>ロール</th>
<th>説明</th>
<th>主な権限</th>
</tr>
</thead>
<tbody>
<tr>
<td>ADMIN</td>
<td>システム管理者</td>
<td>全機能にアクセス可能、ユーザー管理</td>
</tr>
<tr>
<td>EXECUTIVE</td>
<td>経営者</td>
<td>財務諸表閲覧、財務分析、承認</td>
</tr>
<tr>
<td>MANAGER</td>
<td>経理マネージャー</td>
<td>仕訳承認、マスタ管理、帳票閲覧</td>
</tr>
<tr>
<td>ACCOUNTANT</td>
<td>経理担当者</td>
<td>仕訳入力、マスタ参照、帳票閲覧</td>
</tr>
</tbody>
</table>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQ4NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzgzcHg7aGVpZ2h0OjQ4NXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM4MyA0ODUiIHdpZHRoPSIzODNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MjU7JiMxMjU0MDsmIzEyNTIzOyYjMTIzOTI7JiMyNzE3NzsmIzM4NDgwOyYjMTIzOTg7JiMzODMwNjsmIzIwNDE4OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIxMjEuOTgwMiIgeT0iMjIuOTk1MSI+JiMxMjUyNTsmIzEyNTQwOyYjMTI1MjM7JiMxMjM5MjsmIzI3MTc3OyYjMzg0ODA7JiMxMjM5ODsmIzM4MzA2OyYjMjA0MTg7PC90ZXh0PjwvZz48IS0tY2xhc3MgUm9sZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IlJvbGUiIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjExMy4xODc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTAuMDIwNSIgeD0iMjUuNzkiIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iNjIuMDQxMSIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTY1LjAwOTgsNjUuOTM3NSBRNjQuNDMxNyw2Ni4yMzQ0IDYzLjc5MTEsNjYuMzc1IFE2My4xNTA0LDY2LjUzMTMgNjIuNDQ3Myw2Ni41MzEzIFE1OS45NDczLDY2LjUzMTMgNTguNjE5Miw2NC44OTA2IFE1Ny4zMDY3LDYzLjIzNDQgNTcuMzA2Nyw2MC4xMDk0IFE1Ny4zMDY3LDU2Ljk4NDQgNTguNjE5Miw1NS4zMjgxIFE1OS45NDczLDUzLjY3MTkgNjIuNDQ3Myw1My42NzE5IFE2My4xNTA0LDUzLjY3MTkgNjMuNzkxMSw1My44MjgxIFE2NC40NDczLDUzLjk4NDQgNjUuMDA5OCw1NC4yODEzIEw2NS4wMDk4LDU3IFE2NC4zODQ4LDU2LjQyMTkgNjMuNzkxMSw1Ni4xNTYzIFE2My4xOTczLDU1Ljg3NSA2Mi41NzIzLDU1Ljg3NSBRNjEuMjI4Niw1NS44NzUgNjAuNTQxMSw1Ni45NTMxIFE1OS44NTM2LDU4LjAxNTYgNTkuODUzNiw2MC4xMDk0IFE1OS44NTM2LDYyLjIwMzEgNjAuNTQxMSw2My4yODEzIFE2MS4yMjg2LDY0LjM0MzggNjIuNTcyMyw2NC4zNDM4IFE2My4xOTczLDY0LjM0MzggNjMuNzkxMSw2NC4wNzgxIFE2NC4zODQ4LDYzLjc5NjkgNjUuMDA5OCw2My4yMTg4IEw2NS4wMDk4LDY1LjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMC43OTU5IiB4PSI4MC43NjM1IiB5PSI2NS4xNDM2Ij5Sb2xlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI2Ljc5IiB4Mj0iMTM0LjgxMDUiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3LjAzODEiIHg9IjMxLjc5IiB5PSI5My4yOTIiPkFETUlOPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjQwODIiIHg9IjMxLjc5IiB5PSIxMDkuNTg4OSI+RVhFQ1VUSVZFPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcxLjEyNzkiIHg9IjMxLjc5IiB5PSIxMjUuODg1NyI+TUFOQUdFUjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OC4wMjA1IiB4PSIzMS43OSIgeT0iMTQyLjE4MjYiPkFDQ09VTlRBTlQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYuNzkiIHgyPSIxMzQuODEwNSIgeTE9IjE0OS40ODQ0IiB5Mj0iMTQ5LjQ4NDQiLz48L2c+PCEtLWNsYXNzIFBlcm1pc3Npb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJQZXJtaXNzaW9uIiBkYXRhLXNvdXJjZS1saW5lPSIxMCIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjQzLjU2MjUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0Ny42MDQ1IiB4PSI3IiB5PSIyMzQuNDg2OSIvPjxlbGxpcHNlIGN4PSIzOS43MDczIiBjeT0iMjUwLjQ4NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQyLjY3NjEsMjU2LjEyNzUgUTQyLjA5NzksMjU2LjQyNDQgNDEuNDU3MywyNTYuNTY1IFE0MC44MTY3LDI1Ni43MjEzIDQwLjExMzYsMjU2LjcyMTMgUTM3LjYxMzYsMjU2LjcyMTMgMzYuMjg1NCwyNTUuMDgwNiBRMzQuOTcyOSwyNTMuNDI0NCAzNC45NzI5LDI1MC4yOTk0IFEzNC45NzI5LDI0Ny4xNzQ0IDM2LjI4NTQsMjQ1LjUxODEgUTM3LjYxMzYsMjQzLjg2MTkgNDAuMTEzNiwyNDMuODYxOSBRNDAuODE2NywyNDMuODYxOSA0MS40NTczLDI0NC4wMTgxIFE0Mi4xMTM2LDI0NC4xNzQ0IDQyLjY3NjEsMjQ0LjQ3MTMgTDQyLjY3NjEsMjQ3LjE5IFE0Mi4wNTExLDI0Ni42MTE5IDQxLjQ1NzMsMjQ2LjM0NjMgUTQwLjg2MzYsMjQ2LjA2NSA0MC4yMzg2LDI0Ni4wNjUgUTM4Ljg5NDgsMjQ2LjA2NSAzOC4yMDczLDI0Ny4xNDMxIFEzNy41MTk4LDI0OC4yMDU2IDM3LjUxOTgsMjUwLjI5OTQgUTM3LjUxOTgsMjUyLjM5MzEgMzguMjA3MywyNTMuNDcxMyBRMzguODk0OCwyNTQuNTMzOCA0MC4yMzg2LDI1NC41MzM4IFE0MC44NjM2LDI1NC41MzM4IDQxLjQ1NzMsMjU0LjI2ODEgUTQyLjA1MTEsMjUzLjk4NjkgNDIuNjc2MSwyNTMuNDA4OCBMNDIuNjc2MSwyNTYuMTI3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc2LjI1NDkiIHg9IjU3LjY0MjMiIHk9IjI1NS4zMzM2Ij5QZXJtaXNzaW9uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxNTMuNjA0NSIgeTE9IjI2Ni40ODY5IiB5Mj0iMjY2LjQ4NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My42Mzc3IiB4PSIxMyIgeT0iMjgzLjQ4MiI+VVNFUl9SRUFEPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjgwMzciIHg9IjEzIiB5PSIyOTkuNzc4OSI+VVNFUl9XUklURTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OC4zNzYiIHg9IjEzIiB5PSIzMTYuMDc1NyI+VVNFUl9ERUxFVEU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE1LjM0OTYiIHg9IjEzIiB5PSIzMzIuMzcyNiI+QUNDT1VOVF9SRUFEPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMS41MTU2IiB4PSIxMyIgeT0iMzQ4LjY2OTUiPkFDQ09VTlRfV1JJVEU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjkwMzMiIHg9IjEzIiB5PSIzNjQuOTY2NCI+Sk9VUk5BTF9SRUFEPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS4wNjkzIiB4PSIxMyIgeT0iMzgxLjI2MzIiPkpPVVJOQUxfV1JJVEU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM1LjYwNDUiIHg9IjEzIiB5PSIzOTcuNTYwMSI+Sk9VUk5BTF9BUFBST1ZFPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNS4yMjg1IiB4PSIxMyIgeT0iNDEzLjg1NyI+Sk9VUk5BTF9DT05GSVJNPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMi43NzgzIiB4PSIxMyIgeT0iNDMwLjE1MzkiPkxFREdFUl9SRUFEPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4yOTMiIHg9IjEzIiB5PSI0NDYuNDUwNyI+U1RBVEVNRU5UX1JFQUQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEzLjgxMTUiIHg9IjEzIiB5PSI0NjIuNzQ3NiI+QU5BTFlTSVNfUkVBRDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTUzLjYwNDUiIHkxPSI0NzAuMDQ5NCIgeTI9IjQ3MC4wNDk0Ii8+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjUiIGRhdGEtc291cmNlLWxpbmU9IjI4IiBpZD0iZW50MDAwNiI+PHBhdGggZD0iTTE3MC42NCw2NS42MjY5IEwxNzAuNjQsOTYuODg2OSBMMTM2LjIxLDEwMC44ODY5IEwxNzAuNjQsMTA0Ljg4NjkgTDE3MC42NCwxMzYuMTU4MSBBMCwwIDAgMCAwIDE3MC42NCwxMzYuMTU4MSBMMzc2Ljk1OTksMTM2LjE1ODEgQTAsMCAwIDAgMCAzNzYuOTU5OSwxMzYuMTU4MSBMMzc2Ljk1OTksNzUuNjI2OSBMMzY2Ljk1OTksNjUuNjI2OSBMMTcwLjY0LDY1LjYyNjkgQTAsMCAwIDAgMCAxNzAuNjQsNjUuNjI2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTM2Ni45NTk5LDY1LjYyNjkgTDM2Ni45NTk5LDc1LjYyNjkgTDM3Ni45NTk5LDc1LjYyNjkgTDM2Ni45NTk5LDY1LjYyNjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjE5MDUiIHg9IjE3Ni42NCIgeT0iODIuNjkzOCI+QURNSU46ICYjMjA4NDA7JiMyNzE3NzsmIzM4NDgwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODUuMzE5OSIgeD0iMTc2LjY0IiB5PSI5Ny44MjY2Ij5FWEVDVVRJVkU6ICYjMzgzMjI7JiMzNTIzOTsmIzEyNTM5OyYjMjA5OTg7JiMyNjUxMjsmIzEyNTM5OyYjMjUyMTU7JiMzNTQ2OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5LjU1OTYiIHg9IjE3Ni42NCIgeT0iMTEyLjk1OTQiPk1BTkFHRVI6ICYjMjUyMTU7JiMzNTQ2OTsmIzEyNTM5OyYjMzE2NDk7JiMyOTcwMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjUzMTMiIHg9IjE3Ni42NCIgeT0iMTI4LjA5MjIiPkFDQ09VTlRBTlQ6ICYjMjA4Mzc7JiMyMTE0NzsmIzEyNTM5OyYjMjE0NDI7JiMyOTAzMTs8L3RleHQ+PC9nPjwhLS1saW5rIFJvbGUgdG8gUGVybWlzc2lvbi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAzIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjUiIGlkPSJsbms0Ij48cGF0aCBjb2RlTGluZT0iMjUiIGQ9Ik04MC44LDE1Ny44MDY5IEM4MC44LDE4MC4zOTY5IDgwLjgsMjAxLjQwNjkgODAuOCwyMjguMDg2OSIgZmlsbD0ibm9uZSIgaWQ9IlJvbGUtdG8tUGVybWlzc2lvbiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iODAuOCwyMzQuMDg2OSw4NC44LDIyNS4wODY5LDgwLjgsMjI5LjA4NjksNzYuOCwyMjUuMDg2OSw4MC44LDIzNC4wODY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjIuOTc4NSIgeD0iODEuOCIgeT0iMjAwLjU1MzgiPmhhczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4LjI3MSIgeD0iNzIuMzI5IiB5PSIxNzcuNzMyNiI+MTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2LjUiIHg9Ijc0LjYzMjMiIHk9IjIyMy4yNTU0Ij4qPC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBMTDBfSXlEMDdEdGxLbm1QWEd3azZPR1pFS2lha09IQktkTUllajQ2UVc5RERkNWVHdWlBT2dVMjI4ODVSTE5pdUFoRzN0Q2NRUnc1YnJ2WndfT1V4eHRWZG5WeFNUazNCRmJXb0pUQnRiYnRjYXJWWV9pWHd5d0FxVlhkdFdGV2tEc0M4YVgzeGhpMEkzS3EwbDAxTGJuN1FzMVc4OEJnYzBBYUFBUEI3NEdTUzViNUJBenB4YVVIN21PeXdEZ083YjZDTDg3c2dVUFcwTE1pT3V2TjR1SWQ4aUFzUHhnSzg1cjg1VmFsOFNrWVBjRkQ1UEZpUWpHMEViUmhyTUJSR0d1c3lEeUV4WmtxRExpbVZsTm9ITWJSV2hOUTNmSXNmQ3E3UERYZ0hXMDRPVXAxWmRfTVljNXVra240RDJCM2pCemdSYnNFMzhsSHYtOWJtZkFsejZnR0ZHdXZvQXhkWXhWUmdaT1AyaXc1VkZRSzNtU1JGUE9aZHpFUlhwOXpyeWx4NC0wNTl4MHl1MVMwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_3">権限マトリクス<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>機能</th>
<th style="text-align: center;">ADMIN</th>
<th style="text-align: center;">EXECUTIVE</th>
<th style="text-align: center;">MANAGER</th>
<th style="text-align: center;">ACCOUNTANT</th>
</tr>
</thead>
<tbody>
<tr>
<td>ユーザー管理</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
</tr>
<tr>
<td>勘定科目参照</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr>
<td>勘定科目登録・編集</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
</tr>
<tr>
<td>仕訳入力</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr>
<td>仕訳承認</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
</tr>
<tr>
<td>仕訳確定</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
</tr>
<tr>
<td>元帳閲覧</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr>
<td>財務諸表閲覧</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr>
<td>財務分析</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
</tr>
<tr>
<td>監査ログ閲覧</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="252">25.2 ドメインモデル設計<a class="headerlink" href="#252" title="Permanent link">&para;</a></h2>
<h3 id="_4">ユーザーエンティティ<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>ユーザーは、認証と権限管理の中心となるエンティティです。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjUwMHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTQ2MHB4O2hlaWdodDo1MDBweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNDYwIDUwMCIgd2lkdGg9IjE0NjBweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7JiMxMjQ4OTsmIzEyNTEzOyYjMTI0NTI7JiMxMjUzMTsmIzEyNTE0OyYjMTI0ODc7JiMxMjUyMzs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuOTk5MyIgeD0iNjQ2LjM5MTEiIHk9IjIyLjk5NTEiPiYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7JiMxMjQ4OTsmIzEyNTEzOyYjMTI0NTI7JiMxMjUzMTsmIzEyNTE0OyYjMTI0ODc7JiMxMjUyMzs8L3RleHQ+PC9nPjwhLS1jbGFzcyBVc2VyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iVXNlciIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjUxLjgyODEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxMy4xMzM4IiB4PSI2MjIuOTUiIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iNzAyLjQwODUiIGN5PSI2NC40Mjk3IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik03MDUuMzc3Miw3MC4wNzAzIFE3MDQuNzk5MSw3MC4zNjcyIDcwNC4xNTg1LDcwLjUwNzggUTcwMy41MTc5LDcwLjY2NDEgNzAyLjgxNDcsNzAuNjY0MSBRNzAwLjMxNDcsNzAuNjY0MSA2OTguOTg2Niw2OS4wMjM0IFE2OTcuNjc0MSw2Ny4zNjcyIDY5Ny42NzQxLDY0LjI0MjIgUTY5Ny42NzQxLDYxLjExNzIgNjk4Ljk4NjYsNTkuNDYwOSBRNzAwLjMxNDcsNTcuODA0NyA3MDIuODE0Nyw1Ny44MDQ3IFE3MDMuNTE3OSw1Ny44MDQ3IDcwNC4xNTg1LDU3Ljk2MDkgUTcwNC44MTQ3LDU4LjExNzIgNzA1LjM3NzIsNTguNDE0MSBMNzA1LjM3NzIsNjEuMTMyOCBRNzA0Ljc1MjIsNjAuNTU0NyA3MDQuMTU4NSw2MC4yODkxIFE3MDMuNTY0Nyw2MC4wMDc4IDcwMi45Mzk3LDYwLjAwNzggUTcwMS41OTYsNjAuMDA3OCA3MDAuOTA4NSw2MS4wODU5IFE3MDAuMjIxLDYyLjE0ODQgNzAwLjIyMSw2NC4yNDIyIFE3MDAuMjIxLDY2LjMzNTkgNzAwLjkwODUsNjcuNDE0MSBRNzAxLjU5Niw2OC40NzY2IDcwMi45Mzk3LDY4LjQ3NjYgUTcwMy41NjQ3LDY4LjQ3NjYgNzA0LjE1ODUsNjguMjEwOSBRNzA0Ljc1MjIsNjcuOTI5NyA3MDUuMzc3Miw2Ny4zNTE2IEw3MDUuMzc3Miw3MC4wNzAzIFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OS43MTY4IiB4PSI3MjAuOTA4NSIgeT0iNjAuNDM1NSI+JiMxNzE7RW50aXR5JiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxLjkxMDIiIHg9IjcyOS44MTE4IiB5PSI3Ni4yNjA3Ij5Vc2VyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjYyMy45NSIgeDI9IjgzNS4wODM4IiB5MT0iODQuNTYyNSIgeTI9Ijg0LjU2MjUiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjYzMC45NSIgeT0iOTUuMjEwOSIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny42NDQ1IiB4PSI2NDIuOTUiIHk9IjEwMS41NTc2Ij51c2VySWQ6IFVzZXJJZDwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjYzMC45NSIgeT0iMTExLjUwNzgiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQyLjE0NjUiIHg9IjY0Mi45NSIgeT0iMTE3Ljg1NDUiPnBhc3N3b3JkOiBQYXNzd29yZDwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjYzMC45NSIgeT0iMTI3LjgwNDciLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIyLjA4MyIgeD0iNjQyLjk1IiB5PSIxMzQuMTUxNCI+bmFtZTogVXNlck5hbWU8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI2MzAuOTUiIHk9IjE0NC4xMDE2Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg2LjYxODIiIHg9IjY0Mi45NSIgeT0iMTUwLjQ0ODIiPmVtYWlsOiBFbWFpbDwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjYzMC45NSIgeT0iMTYwLjM5ODQiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuNzg3MSIgeD0iNjQyLjk1IiB5PSIxNjYuNzQ1MSI+cm9sZTogUm9sZTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjYzMC45NSIgeT0iMTc2LjY5NTMiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI4LjcwNyIgeD0iNjQyLjk1IiB5PSIxODMuMDQyIj5zdGF0dXM6IFVzZXJTdGF0dXM8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI2MzAuOTUiIHk9IjE5Mi45OTIyIi8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Mi41NTM3IiB4PSI2NDIuOTUiIHk9IjE5OS4zMzg5Ij5jcmVhdGVkQXQ6IExvY2FsRGF0ZVRpbWU8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI2MzAuOTUiIHk9IjIwOS4yODkxIi8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Ny4xMzM4IiB4PSI2NDIuOTUiIHk9IjIxNS42MzU3Ij51cGRhdGVkQXQ6IExvY2FsRGF0ZVRpbWU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjIzLjk1IiB4Mj0iODM1LjA4MzgiIHkxPSIyMjIuOTM3NSIgeTI9IjIyMi45Mzc1Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQVUJMSUNfTUVUSE9EIj48ZWxsaXBzZSBjeD0iNjMzLjk1IiBjeT0iMjM2LjU4NTkiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS40OTUxIiB4PSI2NDIuOTUiIHk9IjIzOS45MzI2Ij5vZigpOiBVc2VyPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFVCTElDX01FVEhPRCI+PGVsbGlwc2UgY3g9IjYzMy45NSIgY3k9IjI1Mi44ODI4IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY5Ljc5MSIgeD0iNjQyLjk1IiB5PSIyNTYuMjI5NSI+Y2hhbmdlUGFzc3dvcmQoKTogVXNlcjwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBVQkxJQ19NRVRIT0QiPjxlbGxpcHNlIGN4PSI2MzMuOTUiIGN5PSIyNjkuMTc5NyIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC42MjMiIHg9IjY0Mi45NSIgeT0iMjcyLjUyNjQiPmFjdGl2YXRlKCk6IFVzZXI8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQVUJMSUNfTUVUSE9EIj48ZWxsaXBzZSBjeD0iNjMzLjk1IiBjeT0iMjg1LjQ3NjYiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjYuMTIzIiB4PSI2NDIuOTUiIHk9IjI4OC44MjMyIj5kZWFjdGl2YXRlKCk6IFVzZXI8L3RleHQ+PC9nPjwhLS1jbGFzcyBVc2VySWQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJVc2VySWQiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4OC44NTk0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNzEuMDM4MSIgeD0iNyIgeT0iMzgwLjU3NjkiLz48ZWxsaXBzZSBjeD0iNDUuMjA4IiBjeT0iNDAwLjcwOTciIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQ4LjE3NjcsNDA2LjM1MDMgUTQ3LjU5ODYsNDA2LjY0NzIgNDYuOTU4LDQwNi43ODc4IFE0Ni4zMTczLDQwNi45NDQxIDQ1LjYxNDIsNDA2Ljk0NDEgUTQzLjExNDIsNDA2Ljk0NDEgNDEuNzg2MSw0MDUuMzAzNCBRNDAuNDczNiw0MDMuNjQ3MiA0MC40NzM2LDQwMC41MjIyIFE0MC40NzM2LDM5Ny4zOTcyIDQxLjc4NjEsMzk1Ljc0MDkgUTQzLjExNDIsMzk0LjA4NDcgNDUuNjE0MiwzOTQuMDg0NyBRNDYuMzE3MywzOTQuMDg0NyA0Ni45NTgsMzk0LjI0MDkgUTQ3LjYxNDIsMzk0LjM5NzIgNDguMTc2NywzOTQuNjk0MSBMNDguMTc2NywzOTcuNDEyOCBRNDcuNTUxNywzOTYuODM0NyA0Ni45NTgsMzk2LjU2OTEgUTQ2LjM2NDIsMzk2LjI4NzggNDUuNzM5MiwzOTYuMjg3OCBRNDQuMzk1NSwzOTYuMjg3OCA0My43MDgsMzk3LjM2NTkgUTQzLjAyMDUsMzk4LjQyODQgNDMuMDIwNSw0MDAuNTIyMiBRNDMuMDIwNSw0MDIuNjE1OSA0My43MDgsNDAzLjY5NDEgUTQ0LjM5NTUsNDA0Ljc1NjYgNDUuNzM5Miw0MDQuNzU2NiBRNDYuMzY0Miw0MDQuNzU2NiA0Ni45NTgsNDA0LjQ5MDkgUTQ3LjU1MTcsNDA0LjIwOTcgNDguMTc2Nyw0MDMuNjMxNiBMNDguMTc2Nyw0MDYuMzUwMyBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuNDY0OCIgeD0iNjIuMzY1MyIgeT0iMzk2LjcxNTUiPiYjMTcxO1ZhbHVlIE9iamVjdCYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NC45MjU4IiB4PSI4NS42MzQ4IiB5PSI0MTIuNTQwNyI+VXNlcklkPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxNzcuMDM4MSIgeTE9IjQyMC44NDI1IiB5Mj0iNDIwLjg0MjUiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjE1IiB5PSI0MzEuNDkwOSIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS4xODg1IiB4PSIyNyIgeT0iNDM3LjgzNzYiPnZhbHVlOiBTdHJpbmc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjE3Ny4wMzgxIiB5MT0iNDQ1LjEzOTQiIHkyPSI0NDUuMTM5NCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFVCTElDX01FVEhPRCI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNDU4Ljc4NzgiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDUuMDM4MSIgeD0iMjciIHk9IjQ2Mi4xMzQ1Ij5Vc2VySWQodmFsdWU6IFN0cmluZyk8L3RleHQ+PC9nPjwhLS1jbGFzcyBQYXNzd29yZC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IlBhc3N3b3JkIiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTIxLjQ1MzEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjMwNS4yNDgiIHg9IjIxMi45IiB5PSIzNjQuMjc2OSIvPjxlbGxpcHNlIGN4PSIzMTcuNTQxNiIgY3k9IjM4NC40MDk3IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMjAuNTEwNCwzOTAuMDUwMyBRMzE5LjkzMjIsMzkwLjM0NzIgMzE5LjI5MTYsMzkwLjQ4NzggUTMxOC42NTEsMzkwLjY0NDEgMzE3Ljk0NzksMzkwLjY0NDEgUTMxNS40NDc5LDM5MC42NDQxIDMxNC4xMTk3LDM4OS4wMDM0IFEzMTIuODA3MiwzODcuMzQ3MiAzMTIuODA3MiwzODQuMjIyMiBRMzEyLjgwNzIsMzgxLjA5NzIgMzE0LjExOTcsMzc5LjQ0MDkgUTMxNS40NDc5LDM3Ny43ODQ3IDMxNy45NDc5LDM3Ny43ODQ3IFEzMTguNjUxLDM3Ny43ODQ3IDMxOS4yOTE2LDM3Ny45NDA5IFEzMTkuOTQ3OSwzNzguMDk3MiAzMjAuNTEwNCwzNzguMzk0MSBMMzIwLjUxMDQsMzgxLjExMjggUTMxOS44ODU0LDM4MC41MzQ3IDMxOS4yOTE2LDM4MC4yNjkxIFEzMTguNjk3OSwzNzkuOTg3OCAzMTguMDcyOSwzNzkuOTg3OCBRMzE2LjcyOTEsMzc5Ljk4NzggMzE2LjA0MTYsMzgxLjA2NTkgUTMxNS4zNTQxLDM4Mi4xMjg0IDMxNS4zNTQxLDM4NC4yMjIyIFEzMTUuMzU0MSwzODYuMzE1OSAzMTYuMDQxNiwzODcuMzk0MSBRMzE2LjcyOTEsMzg4LjQ1NjYgMzE4LjA3MjksMzg4LjQ1NjYgUTMxOC42OTc5LDM4OC40NTY2IDMxOS4yOTE2LDM4OC4xOTA5IFEzMTkuODg1NCwzODcuOTA5NyAzMjAuNTEwNCwzODcuMzMxNiBMMzIwLjUxMDQsMzkwLjA1MDMgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjQ2NDgiIHg9IjMzNi4wNDE2IiB5PSIzODAuNDE1NSI+JiMxNzE7VmFsdWUgT2JqZWN0JiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2LjI2NzYiIHg9IjM0OC42NDAyIiB5PSIzOTYuMjQwNyI+UGFzc3dvcmQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjEzLjkiIHgyPSI1MTcuMTQ4IiB5MT0iNDA0LjU0MjUiIHkyPSI0MDQuNTQyNSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjIwLjkiIHk9IjQxNS4xOTA5Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjE4ODUiIHg9IjIzMi45IiB5PSI0MjEuNTM3NiI+dmFsdWU6IFN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMTMuOSIgeDI9IjUxNy4xNDgiIHkxPSI0MjguODM5NCIgeTI9IjQyOC44Mzk0Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQVUJMSUNfTUVUSE9EIj48ZWxsaXBzZSBjeD0iMjIzLjkiIGN5PSI0NDIuNDg3OCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2Ni4zNzk5IiB4PSIyMzIuOSIgeT0iNDQ1LjgzNDUiPlBhc3N3b3JkKHZhbHVlOiBTdHJpbmcpPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9NRVRIT0QiPjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjIyMC45IiB5PSI0NTUuNzg0NyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODEuODcwMSIgeD0iMjMyLjkiIHk9IjQ2Mi4xMzE0Ij5jaGVja1BvbGljeSh2YWx1ZTogU3RyaW5nKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBVQkxJQ19NRVRIT0QiPjxlbGxpcHNlIGN4PSIyMjMuOSIgY3k9IjQ3NS4wODE2IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjc5LjI0OCIgeD0iMjMyLjkiIHk9IjQ3OC40MjgyIj5tYXRjaGVzKHJhd1Bhc3N3b3JkOiBTdHJpbmcpOiBib29sZWFuPC90ZXh0PjwvZz48IS0tY2xhc3MgVXNlck5hbWUtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJVc2VyTmFtZSIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEzNy43NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU2LjUzMjIiIHg9IjU1My4yNSIgeT0iMzU2LjEyNjkiLz48ZWxsaXBzZSBjeD0iNTg0LjkzMDMiIGN5PSIzNzYuMjU5NyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNTg3Ljg5OTEsMzgxLjkwMDMgUTU4Ny4zMjA5LDM4Mi4xOTcyIDU4Ni42ODAzLDM4Mi4zMzc4IFE1ODYuMDM5NywzODIuNDk0MSA1ODUuMzM2NiwzODIuNDk0MSBRNTgyLjgzNjYsMzgyLjQ5NDEgNTgxLjUwODQsMzgwLjg1MzQgUTU4MC4xOTU5LDM3OS4xOTcyIDU4MC4xOTU5LDM3Ni4wNzIyIFE1ODAuMTk1OSwzNzIuOTQ3MiA1ODEuNTA4NCwzNzEuMjkwOSBRNTgyLjgzNjYsMzY5LjYzNDcgNTg1LjMzNjYsMzY5LjYzNDcgUTU4Ni4wMzk3LDM2OS42MzQ3IDU4Ni42ODAzLDM2OS43OTA5IFE1ODcuMzM2NiwzNjkuOTQ3MiA1ODcuODk5MSwzNzAuMjQ0MSBMNTg3Ljg5OTEsMzcyLjk2MjggUTU4Ny4yNzQxLDM3Mi4zODQ3IDU4Ni42ODAzLDM3Mi4xMTkxIFE1ODYuMDg2NiwzNzEuODM3OCA1ODUuNDYxNiwzNzEuODM3OCBRNTg0LjExNzgsMzcxLjgzNzggNTgzLjQzMDMsMzcyLjkxNTkgUTU4Mi43NDI4LDM3My45Nzg0IDU4Mi43NDI4LDM3Ni4wNzIyIFE1ODIuNzQyOCwzNzguMTY1OSA1ODMuNDMwMywzNzkuMjQ0MSBRNTg0LjExNzgsMzgwLjMwNjYgNTg1LjQ2MTYsMzgwLjMwNjYgUTU4Ni4wODY2LDM4MC4zMDY2IDU4Ni42ODAzLDM4MC4wNDA5IFE1ODcuMjc0MSwzNzkuNzU5NyA1ODcuODk5MSwzNzkuMTgxNiBMNTg3Ljg5OTEsMzgxLjkwMDMgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjQ2NDgiIHg9IjYwMC42MzcxIiB5PSIzNzIuMjY1NSI+JiMxNzE7VmFsdWUgT2JqZWN0JiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjczLjIxMjkiIHg9IjYwOS43NjMiIHk9IjM4OC4wOTA3Ij5Vc2VyTmFtZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NTQuMjUiIHgyPSI3MDguNzgyMiIgeTE9IjM5Ni4zOTI1IiB5Mj0iMzk2LjM5MjUiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjU2MS4yNSIgeT0iNDA3LjA0MDkiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE5LjYwODQiIHg9IjU3My4yNSIgeT0iNDEzLjM4NzYiPmZpcnN0TmFtZTogU3RyaW5nPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNTYxLjI1IiB5PSI0MjMuMzM3OCIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuNTAyOSIgeD0iNTczLjI1IiB5PSI0MjkuNjg0NSI+bGFzdE5hbWU6IFN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NTQuMjUiIHgyPSI3MDguNzgyMiIgeTE9IjQzNi45ODYzIiB5Mj0iNDM2Ljk4NjMiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBVQkxJQ19NRVRIT0QiPjxlbGxpcHNlIGN4PSI1NjQuMjUiIGN5PSI0NTAuNjM0NyIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC41MzIyIiB4PSI1NzMuMjUiIHk9IjQ1My45ODE0Ij5maXJzdE5hbWUoKTogU3RyaW5nPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFVCTElDX01FVEhPRCI+PGVsbGlwc2UgY3g9IjU2NC4yNSIgY3k9IjQ2Ni45MzE2IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI4LjQyNjgiIHg9IjU3My4yNSIgeT0iNDcwLjI3ODIiPmxhc3ROYW1lKCk6IFN0cmluZzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBVQkxJQ19NRVRIT0QiPjxlbGxpcHNlIGN4PSI1NjQuMjUiIGN5PSI0ODMuMjI4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNC43NTU5IiB4PSI1NzMuMjUiIHk9IjQ4Ni41NzUxIj5mdWxsTmFtZSgpOiBTdHJpbmc8L3RleHQ+PC9nPjwhLS1jbGFzcyBFbWFpbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkVtYWlsIiBkYXRhLXNvdXJjZS1saW5lPSIzOCIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iODguODU5NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY0Ljk1NDEiIHg9Ijc0NS4wNCIgeT0iMzgwLjU3NjkiLz48ZWxsaXBzZSBjeD0iNzgwLjUxMDIiIGN5PSI0MDAuNzA5NyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNzgzLjQ3ODksNDA2LjM1MDMgUTc4Mi45MDA4LDQwNi42NDcyIDc4Mi4yNjAyLDQwNi43ODc4IFE3ODEuNjE5NSw0MDYuOTQ0MSA3ODAuOTE2NCw0MDYuOTQ0MSBRNzc4LjQxNjQsNDA2Ljk0NDEgNzc3LjA4ODMsNDA1LjMwMzQgUTc3NS43NzU4LDQwMy42NDcyIDc3NS43NzU4LDQwMC41MjIyIFE3NzUuNzc1OCwzOTcuMzk3MiA3NzcuMDg4MywzOTUuNzQwOSBRNzc4LjQxNjQsMzk0LjA4NDcgNzgwLjkxNjQsMzk0LjA4NDcgUTc4MS42MTk1LDM5NC4wODQ3IDc4Mi4yNjAyLDM5NC4yNDA5IFE3ODIuOTE2NCwzOTQuMzk3MiA3ODMuNDc4OSwzOTQuNjk0MSBMNzgzLjQ3ODksMzk3LjQxMjggUTc4Mi44NTM5LDM5Ni44MzQ3IDc4Mi4yNjAyLDM5Ni41NjkxIFE3ODEuNjY2NCwzOTYuMjg3OCA3ODEuMDQxNCwzOTYuMjg3OCBRNzc5LjY5NzcsMzk2LjI4NzggNzc5LjAxMDIsMzk3LjM2NTkgUTc3OC4zMjI3LDM5OC40Mjg0IDc3OC4zMjI3LDQwMC41MjIyIFE3NzguMzIyNyw0MDIuNjE1OSA3NzkuMDEwMiw0MDMuNjk0MSBRNzc5LjY5NzcsNDA0Ljc1NjYgNzgxLjA0MTQsNDA0Ljc1NjYgUTc4MS42NjY0LDQwNC43NTY2IDc4Mi4yNjAyLDQwNC40OTA5IFE3ODIuODUzOSw0MDQuMjA5NyA3ODMuNDc4OSw0MDMuNjMxNiBMNzgzLjQ3ODksNDA2LjM1MDMgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjQ2NDgiIHg9Ijc5Ny4wNTkxIiB5PSIzOTYuNzE1NSI+JiMxNzE7VmFsdWUgT2JqZWN0JiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM4Ljg0MTgiIHg9IjgyMy4zNzA2IiB5PSI0MTIuNTQwNyI+RW1haWw8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNzQ2LjA0IiB4Mj0iOTA4Ljk5NDEiIHkxPSI0MjAuODQyNSIgeTI9IjQyMC44NDI1Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI3NTMuMDQiIHk9IjQzMS40OTA5Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjE4ODUiIHg9Ijc2NS4wNCIgeT0iNDM3LjgzNzYiPnZhbHVlOiBTdHJpbmc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNzQ2LjA0IiB4Mj0iOTA4Ljk5NDEiIHkxPSI0NDUuMTM5NCIgeTI9IjQ0NS4xMzk0Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQVUJMSUNfTUVUSE9EIj48ZWxsaXBzZSBjeD0iNzU2LjA0IiBjeT0iNDU4Ljc4NzgiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzguOTU0MSIgeD0iNzY1LjA0IiB5PSI0NjIuMTM0NSI+RW1haWwodmFsdWU6IFN0cmluZyk8L3RleHQ+PC9nPjwhLS1jbGFzcyBSb2xlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iUm9sZSIgZGF0YS1zb3VyY2UtbGluZT0iNDMiIGlkPSJlbnQwMDA3Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEzNy43NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMzY1LjE4NTUiIHg9Ijk0NC45MyIgeT0iMzU2LjEyNjkiLz48ZWxsaXBzZSBjeD0iMTEwMC42ODk4IiBjeT0iMzc2LjI1OTciIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTExMDMuNjU4NSwzODEuOTAwMyBRMTEwMy4wODA0LDM4Mi4xOTcyIDExMDIuNDM5OCwzODIuMzM3OCBRMTEwMS43OTkxLDM4Mi40OTQxIDExMDEuMDk2LDM4Mi40OTQxIFExMDk4LjU5NiwzODIuNDk0MSAxMDk3LjI2NzksMzgwLjg1MzQgUTEwOTUuOTU1NCwzNzkuMTk3MiAxMDk1Ljk1NTQsMzc2LjA3MjIgUTEwOTUuOTU1NCwzNzIuOTQ3MiAxMDk3LjI2NzksMzcxLjI5MDkgUTEwOTguNTk2LDM2OS42MzQ3IDExMDEuMDk2LDM2OS42MzQ3IFExMTAxLjc5OTEsMzY5LjYzNDcgMTEwMi40Mzk4LDM2OS43OTA5IFExMTAzLjA5NiwzNjkuOTQ3MiAxMTAzLjY1ODUsMzcwLjI0NDEgTDExMDMuNjU4NSwzNzIuOTYyOCBRMTEwMy4wMzM1LDM3Mi4zODQ3IDExMDIuNDM5OCwzNzIuMTE5MSBRMTEwMS44NDYsMzcxLjgzNzggMTEwMS4yMjEsMzcxLjgzNzggUTEwOTkuODc3MywzNzEuODM3OCAxMDk5LjE4OTgsMzcyLjkxNTkgUTEwOTguNTAyMywzNzMuOTc4NCAxMDk4LjUwMjMsMzc2LjA3MjIgUTEwOTguNTAyMywzNzguMTY1OSAxMDk5LjE4OTgsMzc5LjI0NDEgUTEwOTkuODc3MywzODAuMzA2NiAxMTAxLjIyMSwzODAuMzA2NiBRMTEwMS44NDYsMzgwLjMwNjYgMTEwMi40Mzk4LDM4MC4wNDA5IFExMTAzLjAzMzUsMzc5Ljc1OTcgMTEwMy42NTg1LDM3OS4xODE2IEwxMTAzLjY1ODUsMzgxLjkwMDMgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5LjE2NiIgeD0iMTExOS4xODk4IiB5PSIzNzIuMjY1NSI+JiMxNzE7RW51bSYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMC43OTU5IiB4PSIxMTI4LjM3NDgiIHk9IjM4OC4wOTA3Ij5Sb2xlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijk0NS45MyIgeDI9IjEzMDkuMTE1NSIgeTE9IjM5Ni4zOTI1IiB5Mj0iMzk2LjM5MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ny4wMzgxIiB4PSI5NTAuOTMiIHk9IjQxMy4zODc2Ij5BRE1JTjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC40MDgyIiB4PSI5NTAuOTMiIHk9IjQyOS42ODQ1Ij5FWEVDVVRJVkU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuMTI3OSIgeD0iOTUwLjkzIiB5PSI0NDUuOTgxNCI+TUFOQUdFUjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OC4wMjA1IiB4PSI5NTAuOTMiIHk9IjQ2Mi4yNzgyIj5BQ0NPVU5UQU5UPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijk0NS45MyIgeDI9IjEzMDkuMTE1NSIgeTE9IjQ2OS41OCIgeTI9IjQ2OS41OCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFVCTElDX01FVEhPRCI+PGVsbGlwc2UgY3g9Ijk1NS45MyIgY3k9IjQ4My4yMjg0IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzM5LjE4NTUiIHg9Ijk2NC45MyIgeT0iNDg2LjU3NTEiPmhhc1Blcm1pc3Npb24ocGVybWlzc2lvbjogUGVybWlzc2lvbik6IGJvb2xlYW48L3RleHQ+PC9nPjwhLS1jbGFzcyBVc2VyU3RhdHVzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iVXNlclN0YXR1cyIgZGF0YS1zb3VyY2UtbGluZT0iNTEiIGlkPSJlbnQwMDA4Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwNS4xNTYzIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDguNTIxNSIgeD0iMTM0NS4yNiIgeT0iMzcyLjQyNjkiLz48ZWxsaXBzZSBjeD0iMTM2MC4yNiIgY3k9IjM5Mi41NTk3IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xMzYzLjIyODgsMzk4LjIwMDMgUTEzNjIuNjUwNiwzOTguNDk3MiAxMzYyLjAxLDM5OC42Mzc4IFExMzYxLjM2OTQsMzk4Ljc5NDEgMTM2MC42NjYzLDM5OC43OTQxIFExMzU4LjE2NjMsMzk4Ljc5NDEgMTM1Ni44MzgxLDM5Ny4xNTM0IFExMzU1LjUyNTYsMzk1LjQ5NzIgMTM1NS41MjU2LDM5Mi4zNzIyIFExMzU1LjUyNTYsMzg5LjI0NzIgMTM1Ni44MzgxLDM4Ny41OTA5IFExMzU4LjE2NjMsMzg1LjkzNDcgMTM2MC42NjYzLDM4NS45MzQ3IFExMzYxLjM2OTQsMzg1LjkzNDcgMTM2Mi4wMSwzODYuMDkwOSBRMTM2Mi42NjYzLDM4Ni4yNDcyIDEzNjMuMjI4OCwzODYuNTQ0MSBMMTM2My4yMjg4LDM4OS4yNjI4IFExMzYyLjYwMzgsMzg4LjY4NDcgMTM2Mi4wMSwzODguNDE5MSBRMTM2MS40MTYzLDM4OC4xMzc4IDEzNjAuNzkxMywzODguMTM3OCBRMTM1OS40NDc1LDM4OC4xMzc4IDEzNTguNzYsMzg5LjIxNTkgUTEzNTguMDcyNSwzOTAuMjc4NCAxMzU4LjA3MjUsMzkyLjM3MjIgUTEzNTguMDcyNSwzOTQuNDY1OSAxMzU4Ljc2LDM5NS41NDQxIFExMzU5LjQ0NzUsMzk2LjYwNjYgMTM2MC43OTEzLDM5Ni42MDY2IFExMzYxLjQxNjMsMzk2LjYwNjYgMTM2Mi4wMSwzOTYuMzQwOSBRMTM2Mi42MDM4LDM5Ni4wNTk3IDEzNjMuMjI4OCwzOTUuNDgxNiBMMTM2My4yMjg4LDM5OC4yMDAzIFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OS4xNjYiIHg9IjEzODcuOTM3NyIgeT0iMzg4LjU2NTUiPiYjMTcxO0VudW0mIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYuNTIxNSIgeD0iMTM3NC4yNiIgeT0iNDA0LjM5MDciPlVzZXJTdGF0dXM8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTM0Ni4yNiIgeDI9IjE0NTIuNzgxNSIgeTE9IjQxMi42OTI1IiB5Mj0iNDEyLjY5MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MC40NTYxIiB4PSIxMzUxLjI2IiB5PSI0MjkuNjg3NiI+QUNUSVZFPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjA1NzYiIHg9IjEzNTEuMjYiIHk9IjQ0NS45ODQ1Ij5JTkFDVElWRTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Ny40MDE0IiB4PSIxMzUxLjI2IiB5PSI0NjIuMjgxNCI+TE9DS0VEPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEzNDYuMjYiIHgyPSIxNDUyLjc4MTUiIHkxPSI0NjkuNTgzMSIgeTI9IjQ2OS41ODMxIi8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgVXNlciB0byBVc2VySWQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwMyIgZGF0YS1saW5rLXR5cGU9ImNvbXBvc2l0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSI1NyIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSI1NyIgZD0iTTYxMC45ODY1LDIwMi45ODUxIEM1MDAuODc2NSwyMzQuMjU1MSAzMzcuNDIsMjg2LjE3NjkgMTk1LjUyLDM1Ni4xMjY5IEMxODEuNSwzNjMuMDM2OSAxNjcuMSwzNzEuNTI2OSAxNTMuNjcsMzgwLjEzNjkiIGZpbGw9Im5vbmUiIGlkPSJVc2VyLWJhY2t0by1Vc2VySWQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjYyMi41MywxOTkuNzA2OSw2MTUuNjY1NSwxOTcuNDk4MSw2MTAuOTg2NSwyMDIuOTg1MSw2MTcuODUxLDIwNS4xOTM4LDYyMi41MywxOTkuNzA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIFVzZXIgdG8gUGFzc3dvcmQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImNvbXBvc2l0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSI1OCIgaWQ9ImxuazEwIj48cGF0aCBjb2RlTGluZT0iNTgiIGQ9Ik02MTIuOTEzOSwyNTIuMTkyMSBDNTU4LjU3MzksMjg5LjkzMjEgNTAzLjI0LDMyOC4zNTY5IDQ1Mi4wOCwzNjMuODg2OSIgZmlsbD0ibm9uZSIgaWQ9IlVzZXItYmFja3RvLVBhc3N3b3JkIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2MjIuNzcsMjQ1LjM0NjksNjE1LjU2MDIsMjQ1LjQ4NDEsNjEyLjkxMzksMjUyLjE5MjEsNjIwLjEyMzcsMjUyLjA1NDksNjIyLjc3LDI0NS4zNDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgVXNlciB0byBVc2VyTmFtZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iY29tcG9zaXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjU5IiBpZD0ibG5rMTEiPjxwYXRoIGNvZGVMaW5lPSI1OSIgZD0iTTY3Ni42MTIyLDMwNy42ODU0IEM2NjguNjcyMiwzMjguMTY1NCA2NjUuMDUsMzM3LjUwNjkgNjU3LjkxLDM1NS45MTY5IiBmaWxsPSJub25lIiBpZD0iVXNlci1iYWNrdG8tVXNlck5hbWUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY4MC45NSwyOTYuNDk2OSw2NzUuMDUxNiwzMDAuNjQ1Miw2NzYuNjEyMiwzMDcuNjg1NCw2ODIuNTEwNiwzMDMuNTM3MSw2ODAuOTUsMjk2LjQ5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLXJldmVyc2UgbGluayBVc2VyIHRvIEVtYWlsLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJjb21wb3NpdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iNjAiIGlkPSJsbmsxMiI+PHBhdGggY29kZUxpbmU9IjYwIiBkPSJNNzgyLjQyODksMzA3LjY4NSBDNzk0LjA3ODksMzM3LjcyNSA4MDEuNDIsMzU2LjY2NjkgODEwLjUsMzgwLjA4NjkiIGZpbGw9Im5vbmUiIGlkPSJVc2VyLWJhY2t0by1FbWFpbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzc4LjA5LDI5Ni40OTY5LDc3Ni41MzAxLDMwMy41MzcyLDc4Mi40Mjg5LDMwNy42ODUsNzgzLjk4ODgsMzAwLjY0NDYsNzc4LjA5LDI5Ni40OTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgVXNlciB0byBSb2xlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDciIGRhdGEtbGluay10eXBlPSJjb21wb3NpdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iNjEiIGlkPSJsbmsxMyI+PHBhdGggY29kZUxpbmU9IjYxIiBkPSJNODQ2LjU2OTYsMjQ1LjU2MDUgQzkwMy40Mzk2LDI4MS42ODA1IDk2My4wNSwzMTkuNTM2OSAxMDIwLjAxLDM1NS43MTY5IiBmaWxsPSJub25lIiBpZD0iVXNlci1iYWNrdG8tUm9sZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iODM2LjQ0LDIzOS4xMjY5LDgzOS4zNjAyLDI0NS43MjAyLDg0Ni41Njk2LDI0NS41NjA1LDg0My42NDkzLDIzOC45NjcyLDgzNi40NCwyMzkuMTI2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIFVzZXIgdG8gVXNlclN0YXR1cy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA4IiBkYXRhLWxpbmstdHlwZT0iY29tcG9zaXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjYyIiBpZD0ibG5rMTQiPjxwYXRoIGNvZGVMaW5lPSI2MiIgZD0iTTg0OC4yNDE2LDE5MS4zMTYgQzk3Mi43MjE2LDIxNS4zOTYgMTE2OS41NywyNjQuMDI2OSAxMzI3LjUyLDM1Ni4xMjY5IEMxMzM1LjI0LDM2MC42MjY5IDEzNDIuNzksMzY2LjA5NjkgMTM0OS45MywzNzEuOTY2OSIgZmlsbD0ibm9uZSIgaWQ9IlVzZXItYmFja3RvLVVzZXJTdGF0dXMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjgzNi40NiwxODkuMDM2OSw4NDEuNTkxMSwxOTQuMTAzNiw4NDguMjQxNiwxOTEuMzE2LDg0My4xMTA1LDE4Ni4yNDkyLDgzNi40NiwxODkuMDM2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48P3BsYW50dW1sLXNyYyBaTERCUmk4bTREdGQ1NXYyNEhVODQ1OEtlWWVnMUNIRnRQaDRXNWlkR1I0M0diS3RQNTdyNkFzZ1JoZ2lyNUxsdXVqcXVXSDNBNFhpZDlhdFJ5UUp2bmIxMUlEOFBmeW8tdk14ZF9wQ05jTnM5ZFNWQ2xrTXNSbENOY0pzUEhXLW12b1oySVM5UWhNU0k1Mm5SUlZIYXo1NEFNMWtPQWdPNm0ybTBrT2NKVzBRYjFRMDRHdjltVjcwMGUyNGMzOEpFVmE3dDJIYzQxXzIyR3VOTUFJeWU4LUszUTJWNDJuOE8wYUpUTUNWaW12dU93ZmdmUWxXVkFZMXVkY2pOWEcybnJfWVE0N3NOSHE1aTJfZTZmQUVlODN5MHYtRlBOMDM0NkFBTUtmR1ZfUDBWNTdBaVN1WDR1cjRHZ0M1cjJjdWpHZlNGdkpRRHREVENUdHdJSmJHUHFkeW5xN0NnQnl6M0pQR1kwTjRVSXQxY3U1LWQzOWllYmFDZ2tFZS1kbHZBdnRsUUt1SkJacHJkNkxWSkdIZkxRWG5lRU5vUU5IRmg4M3BiQjRKS0ZVWXZrQ3dTSEpyZWozdlFBZEhKS0VMUnRMd2hjU3V6dXV6NlJqSm4tWFBkZE5oMzB0QmpsaUpSc252T29Zdm43bjBhZjFvSmtFZWpqOGNaQlFzQm9iTzM2eGJJYmxUdjdnYnFVdFJUcXVkcHI5eFRURGl4ZlQ4LXRnM0FXb3JHWGVmTGFZeFFlU2d6QUFKRm0wMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_5">ユーザーエンティティの実装<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.user</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Value</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.With</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * ユーザーエンティティ</span>
<span class="cm"> *</span>
<span class="cm"> * 財務会計システムへのアクセスを行うユーザーを表現する。</span>
<span class="cm"> * パスワードポリシーとロールベースのアクセス制御を提供する。</span>
<span class="cm"> */</span>
<span class="nd">@Value</span>
<span class="nd">@With</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">UserId</span><span class="w"> </span><span class="n">userId</span><span class="p">;</span>
<span class="w">    </span><span class="n">Password</span><span class="w"> </span><span class="n">password</span><span class="p">;</span>
<span class="w">    </span><span class="n">UserName</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="n">Email</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">    </span><span class="n">Role</span><span class="w"> </span><span class="n">role</span><span class="p">;</span>
<span class="w">    </span><span class="n">UserStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 新規ユーザーを作成</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">firstName</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">lastName</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">            </span><span class="n">Role</span><span class="w"> </span><span class="n">role</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">userId</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">userId</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;ユーザーIDは必須です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">firstName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">firstName</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;名前（姓）は必須です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">lastName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">lastName</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;名前（名）は必須です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">email</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;メールアドレスは必須です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">role</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;ロールは必須です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">User</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">userId</span><span class="p">),</span>
<span class="w">            </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">rawPassword</span><span class="p">),</span>
<span class="w">            </span><span class="n">UserName</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">firstName</span><span class="p">,</span><span class="w"> </span><span class="n">lastName</span><span class="p">),</span>
<span class="w">            </span><span class="n">Email</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">email</span><span class="p">),</span>
<span class="w">            </span><span class="n">role</span><span class="p">,</span>
<span class="w">            </span><span class="n">UserStatus</span><span class="p">.</span><span class="na">ACTIVE</span><span class="p">,</span>
<span class="w">            </span><span class="n">now</span><span class="p">,</span>
<span class="w">            </span><span class="n">now</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パスワードを変更</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">changePassword</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">newPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span>
<span class="w">            </span><span class="p">.</span><span class="na">withPassword</span><span class="p">(</span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">newPassword</span><span class="p">))</span>
<span class="w">            </span><span class="p">.</span><span class="na">withUpdatedAt</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ユーザーをアクティブ化</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">activate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="na">ACTIVE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;既にアクティブ状態です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span>
<span class="w">            </span><span class="p">.</span><span class="na">withStatus</span><span class="p">(</span><span class="n">UserStatus</span><span class="p">.</span><span class="na">ACTIVE</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withUpdatedAt</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ユーザーを非アクティブ化</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">deactivate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="na">INACTIVE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;既に非アクティブ状態です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span>
<span class="w">            </span><span class="p">.</span><span class="na">withStatus</span><span class="p">(</span><span class="n">UserStatus</span><span class="p">.</span><span class="na">INACTIVE</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withUpdatedAt</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * アカウントをロック</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">lock</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span>
<span class="w">            </span><span class="p">.</span><span class="na">withStatus</span><span class="p">(</span><span class="n">UserStatus</span><span class="p">.</span><span class="na">LOCKED</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withUpdatedAt</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 特定の権限を持っているか確認</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasPermission</span><span class="p">(</span><span class="n">Permission</span><span class="w"> </span><span class="n">permission</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">role</span><span class="p">.</span><span class="na">hasPermission</span><span class="p">(</span><span class="n">permission</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ログイン可能か確認</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">canLogin</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="na">ACTIVE</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_6">パスワードの値オブジェクト<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>パスワードは、財務システムにふさわしい強力なセキュリティポリシーを満たす必要があります。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjI1N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODQzcHg7aGVpZ2h0OjI1N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDg0MyAyNTciIHdpZHRoPSI4NDNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI0OTc7JiMxMjQ3MzsmIzEyNTI3OyYjMTI1NDA7JiMxMjQ4OTsmIzEyNTA5OyYjMTI1MjI7JiMxMjQ3MTsmIzEyNTQwOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIzNTEuNjE2NiIgeT0iMjIuOTk1MSI+JiMxMjQ5NzsmIzEyNDczOyYjMTI1Mjc7JiMxMjU0MDsmIzEyNDg5OyYjMTI1MDk7JiMxMjUyMjsmIzEyNDcxOyYjMTI1NDA7PC90ZXh0PjwvZz48IS0tY2x1c3RlciBwb2xpY3ktLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icG9saWN5IiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMDcuNDIiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI0ODEiIHg9IjciIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTk4LjUwMDIiIHk9IjU5LjI5MiI+JiMxMjQ5NzsmIzEyNDczOyYjMTI1Mjc7JiMxMjU0MDsmIzEyNDg5OyYjMzUyMDE7JiMyMDIxNDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgOD8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJwb2xpY3kuOC4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDAzIj48ZWxsaXBzZSBjeD0iNzkuOTk2MiIgY3k9IjEwMi4wMTA1IiBmaWxsPSIjRjFGMUYxIiByeD0iNDguODk2MiIgcnk9IjE0LjUyMzYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY0LjkwNyIgeD0iNDcuNTQyNyIgeT0iMTA2LjY1ODkiPjgmIzI1OTkxOyYjMjMzODM7JiMyMDE5NzsmIzE5OTc4OzwvdGV4dD48L2c+PCEtLWVudGl0eSA/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJwb2xpY3kuLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwNCI+PGVsbGlwc2UgY3g9IjIyNS4wMDQyIiBjeT0iMTAyLjAwOTciIGZpbGw9IiNGMUYxRjEiIHJ4PSI2MS41MTQyIiByeT0iMTQuNzAyOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTgzLjAwNDQiIHk9IjEwNi42NTgyIj4mIzIzNTY3OyYjMjU5OTE7JiMyMzM4MzsmIzEyNDM0OyYjMjE1NDc7JiMxMjQxNjs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgPz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icG9saWN5Li4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNiIgaWQ9ImVudDAwMDUiPjxlbGxpcHNlIGN4PSIzODMuMDA0MiIgY3k9IjEwMi4wMDk3IiBmaWxsPSIjRjFGMUYxIiByeD0iNjEuNTE0MiIgcnk9IjE0LjcwMjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjM0MS4wMDQ0IiB5PSIxMDYuNjU4MiI+JiMyMjgyMzsmIzI1OTkxOyYjMjMzODM7JiMxMjQzNDsmIzIxNTQ3OyYjMTI0MTY7PC90ZXh0PjwvZz48IS0tZW50aXR5ID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icG9saWN5Li4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBpZD0iZW50MDAwNiI+PGVsbGlwc2UgY3g9IjgyLjk5NzMiIGN5PSIyMTEuOTcwNSIgZmlsbD0iI0YxRjFGMSIgcng9IjUyLjQ5NzMiIHJ5PSIxNC41MjM2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI0Ny45OTc0IiB5PSIyMTYuNjE4OSI+JiMyNTk2ODsmIzIzMzgzOyYjMTI0MzQ7JiMyMTU0NzsmIzEyNDE2OzwvdGV4dD48L2c+PCEtLWVudGl0eSA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icG9saWN5Li4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjgiIGlkPSJlbnQwMDA3Ij48ZWxsaXBzZSBjeD0iMjM2Ljk5NTIiIGN5PSIyMTEuOTYxOSIgZmlsbD0iI0YxRjFGMSIgcng9IjY2LjcyNTIiIHJ5PSIxNS43NDUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjE4Ny45OTU0IiB5PSIyMTYuNjEwNCI+JiMyOTMwNTsmIzI3NTMwOyYjMjU5OTE7JiMyMzM4MzsmIzEyNDM0OyYjMjE1NDc7JiMxMjQxNjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjgiIGRhdGEtc291cmNlLWxpbmU9IjEyIiBpZD0iZW50MDAwOSI+PHBhdGggZD0iTTUxMS43NywxNzYuNzA2OSBMNTExLjc3LDI0Ny4yMzgxIEw4MzYuMjMyNiwyNDcuMjM4MSBMODM2LjIzMjYsMTg2LjcwNjkgTDgyNi4yMzI2LDE3Ni43MDY5IEw1MTEuNzcsMTc2LjcwNjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik04MjYuMjMyNiwxNzYuNzA2OSBMODI2LjIzMjYsMTg2LjcwNjkgTDgzNi4yMzI2LDE4Ni43MDY5IEw4MjYuMjMyNiwxNzYuNzA2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ni4wMDAyIiB4PSI1MTcuNzciIHk9IjE5My43NzM4Ij4mIzM2MDAxOyYjMjEyMDk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQzNDsmIzIwNDQ1OyYjMzU3MDM7JiMxMjM3NzsmIzEyNDI3OyYjMTIzODM7JiMxMjQxNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk1LjAwMDIiIHg9IjUxNy43NyIgeT0iMjA4LjkwNjYiPiYjMTIzNzc7JiMxMjQwOTsmIzEyMzkwOyYjMTIzOTg7JiMyNjQ2NTsmIzIwMjE0OyYjMTI0MzQ7JiMyODI4ODsmIzEyMzgzOyYjMTIzNzc7JiMyNDUxNzsmIzM1MjAxOyYjMTIzNjQ7JiMxMjM1NDsmIzEyNDI3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDguNDg0NCIgeD0iNTE3Ljc3IiB5PSIyMjQuMDM5NCI+JiMyMDM2Mzs6ICJBY2MwdW50IW5nIiAoJiMyNjM3NzsmIzIxMTc3Oyk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAzLjQ2MjYiIHg9IjUxNy43NyIgeT0iMjM5LjE3MjIiPiYjMjAzNjM7OiAicGFzc3dvcmQxMjMiICgmIzI4OTYxOyYjMjExNzc7IC0gJiMyMjgyMzsmIzI1OTkxOyYjMjMzODM7JiMxMjUzOTsmIzI5MzA1OyYjMjc1MzA7JiMyNTk5MTsmIzIzMzgzOyYjMTIzOTQ7JiMxMjM3NTspPC90ZXh0PjwvZz48IS0tbGluayBwb2xpY3kgdG8gR01OOC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iYXNzb2NpYXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjEyIiBpZD0ibG5rMTAiPjxwYXRoIGQ9Ik00ODguMjYzNiwxMDcuNjAyMyBDNDg4LjQ2MzYsMTA3LjcxMzYgNDg4LjY2NjksMTA3LjgyNjggNDg4Ljg3MzQsMTA3Ljk0MTggQzQ5MC41MjU0LDEwOC44NjE1IDQ5Mi4zODM2LDEwOS44OTU5IDQ5NC40MjY5LDExMS4wMzMzIEM1MDIuNiwxMTUuNTgyOCA1MTMuNzM1LDEyMS43OCA1MjYuNDg1LDEyOC44NzU2IEM1NTEuOTg1LDE0My4wNjY5IDU4My45NDUsMTYwLjg1MTkgNjExLjU5LDE3Ni4yMzY5IiBmaWxsPSJub25lIiBpZD0icG9saWN5LUdNTjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48L2c+PD9wbGFudHVtbC1zcmMgUE9fQklpRDA1OFJ0eW5IWkxpYjJ5QjhIVHB2QUpNQ2ZyNG5mSGFINHdDbWU5T2RXMVJHNDMxQkcyWXNqbk9LckhpcDNkQ21xWi00NDJzQXhfNi1TeXo0Y1JKYU9uMHRtNUNHaFkyeUdGZVdPbjEzdUo0azRFZXZEUXN2M3J1b2JOWmJXSFZQa3U5Zzdzd0pMajRfbUFKOXRyN3JGWmxqNXpibnkxMU9vdlZKZ3JtNS1Bd3o3bUJrTC1WSW9RZ2d4d1A4cHpyQ3IyTFFRUG1ZdlgzZnVkcjFBM1o0dk05bjd2TGlZbW1YNGhfZ0Z2dGZJdjc0dmRXNkJXOFYwN2U0cEwwY00wWGkwY3dXdXFHSXdmcHd4TFNtWWNMemVCNjJObUJaVWVFOHh0Q042ZGNybDdCYnFwTXFPczVHRmxXbklRbjZyUXZ2dEozaHJwUXJqZFN0RjR2dFhUVm43QUI5XzY2bThoNnlYbnd0WjJrODc/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h4 id="_7">パスワードの実装<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.user</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Value</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.crypto.password.PasswordEncoder</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * パスワード値オブジェクト</span>
<span class="cm"> *</span>
<span class="cm"> * 財務システム用の強力なパスワードポリシーを実装する。</span>
<span class="cm"> * パスワードはBCryptでハッシュ化して保存する。</span>
<span class="cm"> */</span>
<span class="nd">@Value</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Password</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PasswordEncoder</span><span class="w"> </span><span class="n">ENCODER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BCryptPasswordEncoder</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MIN_LENGTH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>

<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">Password</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">hashedValue</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hashedValue</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 生パスワードからPasswordを生成（ポリシーチェック付き）</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Password</span><span class="w"> </span><span class="nf">of</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rawPassword</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Password</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">checkPolicy</span><span class="p">(</span><span class="n">rawPassword</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Password</span><span class="p">(</span><span class="n">ENCODER</span><span class="p">.</span><span class="na">encode</span><span class="p">(</span><span class="n">rawPassword</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ハッシュ済みパスワードからPasswordを復元</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Password</span><span class="w"> </span><span class="nf">fromHash</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">hashedPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Password</span><span class="p">(</span><span class="n">hashedPassword</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パスワードポリシーをチェック</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">checkPolicy</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rawPassword</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MIN_LENGTH</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PasswordException</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;パスワードは&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">MIN_LENGTH</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;文字以上である必要があります&quot;</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasDigit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">.</span><span class="na">chars</span><span class="p">().</span><span class="na">anyMatch</span><span class="p">(</span><span class="n">Character</span><span class="p">::</span><span class="n">isDigit</span><span class="p">);</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasLower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">.</span><span class="na">chars</span><span class="p">().</span><span class="na">anyMatch</span><span class="p">(</span><span class="n">Character</span><span class="p">::</span><span class="n">isLowerCase</span><span class="p">);</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasUpper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">.</span><span class="na">chars</span><span class="p">().</span><span class="na">anyMatch</span><span class="p">(</span><span class="n">Character</span><span class="p">::</span><span class="n">isUpperCase</span><span class="p">);</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasSpecial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">.</span><span class="na">chars</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">anyMatch</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;!@#$%^&amp;*()_+-=[]{}|;:,.&lt;&gt;?&quot;</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">hasDigit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PasswordException</span><span class="p">(</span><span class="s">&quot;パスワードは数字を含む必要があります&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">hasLower</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PasswordException</span><span class="p">(</span><span class="s">&quot;パスワードは小文字を含む必要があります&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">hasUpper</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PasswordException</span><span class="p">(</span><span class="s">&quot;パスワードは大文字を含む必要があります&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">hasSpecial</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PasswordException</span><span class="p">(</span><span class="s">&quot;パスワードは特殊文字を含む必要があります&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 生パスワードと一致するか確認</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">matches</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rawPassword</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ENCODER</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">rawPassword</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パスワードが設定されているか確認</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isSet</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="id">ユーザーIDの値オブジェクト<a class="headerlink" href="#id" title="Permanent link">&para;</a></h3>
<p>ユーザーIDには、財務会計システム用の形式ルールがあります。</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.user</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Value</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * ユーザーID値オブジェクト</span>
<span class="cm"> *</span>
<span class="cm"> * 形式: ACCで始まる6桁の数字（例: ACC000001）</span>
<span class="cm"> */</span>
<span class="nd">@Value</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserId</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">PATTERN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;^ACC[0-9]{6}$&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">UserId</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">UserId</span><span class="w"> </span><span class="nf">of</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">userId</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">userId</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserIdException</span><span class="p">(</span><span class="s">&quot;ユーザーIDは必須です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">userId</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">PATTERN</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserIdException</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;ユーザーIDはACCで始まる6桁の数字である必要があります: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">userId</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserId</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 次のユーザーIDを生成</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">UserId</span><span class="w"> </span><span class="nf">generateNext</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">lastUserId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">lastUserId</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserId</span><span class="p">(</span><span class="s">&quot;ACC000001&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">lastUserId</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserId</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;ACC%06d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>項目</th>
<th>ルール</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>先頭文字</td>
<td>"ACC" で始まる</td>
<td>ACC000001</td>
</tr>
<tr>
<td>桁数</td>
<td>9桁（ACC + 6桁の数字）</td>
<td>ACC123456</td>
</tr>
<tr>
<td>形式</td>
<td>正規表現: <code>^ACC[0-9]{6}$</code></td>
<td>ACC999999</td>
</tr>
</tbody>
</table>
<h3 id="_8">ロールと権限の実装<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.user</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.EnumSet</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Set</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * ユーザーロール</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">Role</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">ADMIN</span><span class="p">(</span><span class="s">&quot;システム管理者&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EnumSet</span><span class="p">.</span><span class="na">allOf</span><span class="p">(</span><span class="n">Permission</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span>

<span class="w">    </span><span class="n">EXECUTIVE</span><span class="p">(</span><span class="s">&quot;経営者&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EnumSet</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">ACCOUNT_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_APPROVE</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">LEDGER_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">STATEMENT_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">ANALYSIS_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">AUDIT_READ</span>
<span class="w">    </span><span class="p">)),</span>

<span class="w">    </span><span class="n">MANAGER</span><span class="p">(</span><span class="s">&quot;経理マネージャー&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EnumSet</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">ACCOUNT_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">ACCOUNT_WRITE</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_WRITE</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_APPROVE</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_CONFIRM</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">LEDGER_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">STATEMENT_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">ANALYSIS_READ</span>
<span class="w">    </span><span class="p">)),</span>

<span class="w">    </span><span class="n">ACCOUNTANT</span><span class="p">(</span><span class="s">&quot;経理担当者&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EnumSet</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">ACCOUNT_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_WRITE</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">LEDGER_READ</span><span class="p">,</span>
<span class="w">        </span><span class="n">Permission</span><span class="p">.</span><span class="na">STATEMENT_READ</span>
<span class="w">    </span><span class="p">));</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">Permission</span><span class="o">&gt;</span><span class="w"> </span><span class="n">permissions</span><span class="p">;</span>

<span class="w">    </span><span class="n">Role</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">,</span><span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">Permission</span><span class="o">&gt;</span><span class="w"> </span><span class="n">permissions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">displayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">permissions</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getDisplayName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasPermission</span><span class="p">(</span><span class="n">Permission</span><span class="w"> </span><span class="n">permission</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">permissions</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="n">permission</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">Permission</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getPermissions</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">EnumSet</span><span class="p">.</span><span class="na">copyOf</span><span class="p">(</span><span class="n">permissions</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * 権限</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">Permission</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ユーザー管理</span>
<span class="w">    </span><span class="n">USER_READ</span><span class="p">(</span><span class="s">&quot;ユーザー参照&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">USER_WRITE</span><span class="p">(</span><span class="s">&quot;ユーザー登録・編集&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">USER_DELETE</span><span class="p">(</span><span class="s">&quot;ユーザー削除&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 勘定科目</span>
<span class="w">    </span><span class="n">ACCOUNT_READ</span><span class="p">(</span><span class="s">&quot;勘定科目参照&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ACCOUNT_WRITE</span><span class="p">(</span><span class="s">&quot;勘定科目登録・編集&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 仕訳</span>
<span class="w">    </span><span class="n">JOURNAL_READ</span><span class="p">(</span><span class="s">&quot;仕訳参照&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">JOURNAL_WRITE</span><span class="p">(</span><span class="s">&quot;仕訳入力&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">JOURNAL_APPROVE</span><span class="p">(</span><span class="s">&quot;仕訳承認&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">JOURNAL_CONFIRM</span><span class="p">(</span><span class="s">&quot;仕訳確定&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 元帳・帳票</span>
<span class="w">    </span><span class="n">LEDGER_READ</span><span class="p">(</span><span class="s">&quot;元帳参照&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">STATEMENT_READ</span><span class="p">(</span><span class="s">&quot;財務諸表参照&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 分析・監査</span>
<span class="w">    </span><span class="n">ANALYSIS_READ</span><span class="p">(</span><span class="s">&quot;財務分析&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">AUDIT_READ</span><span class="p">(</span><span class="s">&quot;監査ログ参照&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="n">Permission</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">displayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getDisplayName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="253-tdd">25.3 TDD による実装<a class="headerlink" href="#253-tdd" title="Permanent link">&para;</a></h2>
<h3 id="_9">テストファーストアプローチ<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>ユーザードメインモデルの実装は、テストファーストで進めます。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjQ3N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MjUycHg7aGVpZ2h0OjQ3N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI1MiA0NzciIHdpZHRoPSIyNTJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPlRERCAmIzEyNDY5OyYjMTI0NTI7JiMxMjQ2MzsmIzEyNTIzOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkzLjY2NTgiIHg9IjcyLjIyMjIiIHk9IjIyLjk5NTEiPlRERCAmIzEyNDY5OyYjMTI0NTI7JiMxMjQ2MzsmIzEyNTIzOzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yMzQ0IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjgzIiB5PSIxMjQuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgzIiB4Mj0iMTc1LjAwMDUiIHkxPSIxNTAuNTkzOCIgeTI9IjE1MC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuMjI3NSIgeD0iMTE1LjM4NjUiIHk9IjE0Mi4yOTIiPlJlZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSI4OCIgeT0iMTY2LjczMjQiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTI0MzQ7JiMyNjM2MDsmIzEyMzY3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSI4OCIgeT0iMTgwLjcwMTIiPiYjNjUyODg7JiMyMjgzMzsmIzI1OTQzOyYjMTIzNzc7JiMxMjQyNzsmIzY1Mjg5OzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yMzQ0IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi4wMDA3IiB4PSI3IiB5PSIyNjUuNTI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjciIHgyPSIxMjMuMDAwNyIgeTE9IjI5MS44MjM4IiB5Mj0iMjkxLjgyMzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Mi43MDQxIiB4PSI0My42NDgzIiB5PSIyODMuNTIyIj5HcmVlbjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ni4wMDA3IiB4PSIxMiIgeT0iMzA3Ljk2MjQiPiYjMjYzNjg7JiMyMzU2NzsmIzM4NDgwOyYjMTIzOTg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7JiMxMjM5MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iMTIiIHk9IjMyMS45MzEyIj4mIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODsmIzEyNDM0OyYjMzY4OTA7JiMxMjM3Nzs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjM0NCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3OS4zNTY0IiB4PSI4OS4zMiIgeT0iNDA2Ljc2NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4OS4zMiIgeDI9IjE2OC42NzY0IiB5MT0iNDMzLjA2MzciIHkyPSI0MzMuMDYzNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU5LjM1NjQiIHg9Ijk5LjMyIiB5PSI0MjQuNzYyIj5SZWZhY3RvcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSI5NC4zMiIgeT0iNDQ5LjIwMjQiPiYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyYjMTI0MzQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9Ijk0LjMyIiB5PSI0NjMuMTcxMiI+JiMyNTkxMzsmIzIxODkyOyYjMTIzNzc7JiMxMjQyNzs8L3RleHQ+PC9nPjxlbGxpcHNlIGN4PSIxMjkiIGN5PSI1My4yOTY5IiBmaWxsPSIjMjIyMjIyIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjwhLS1saW5rICpzdGFydCogdG8gcmVkLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDIiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI3IiBpZD0ibG5rMyI+PHBhdGggZD0iTTEyOSw2My42MjY5IEMxMjksNzcuMjE2OSAxMjksOTcuMTA2OSAxMjksMTE3LjkzNjkiIGZpbGw9Im5vbmUiIGlkPSIqc3RhcnQqLXRvLXJlZCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI5LDEyMy45MzY5LDEzMywxMTQuOTM2OSwxMjksMTE4LjkzNjksMTI1LDExNC45MzY5LDEyOSwxMjMuOTM2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayByZWQgdG8gZ3JlZW4tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwMyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjgiIGlkPSJsbms0Ij48cGF0aCBkPSJNMTE0LjQ4LDE4OS4wMDY5IEMxMDQsMjExLjc5NjkgOTIuNDM1NSwyMzYuOTY1MSA4MS45NzU1LDI1OS43MjUxIiBmaWxsPSJub25lIiBpZD0icmVkLXRvLWdyZWVuIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3OS40NywyNjUuMTc2OSw4Ni44NjI4LDI1OC42Njk1LDgxLjU1NzksMjYwLjYzMzcsNzkuNTkzOCwyNTUuMzI4OCw3OS40NywyNjUuMTc2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIxMDEuODMiIHk9IjIzMS41OTM4Ij4mIzIzNDU1OyYjMzUwMTM7PC90ZXh0PjwvZz48IS0tbGluayBncmVlbiB0byByZWZhY3Rvci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iOSIgaWQ9ImxuazUiPjxwYXRoIGQ9Ik03MS4zMiwzMjkuOTA2OSBDNzQuOSwzNDQuNTM2OSA4MC4wNiwzNjEuOTY2OSA4NywzNzYuNzY2OSBDOTEuNzUsMzg2LjkwNjkgOTQuNzIyOCwzOTIuMjY4MSAxMDEuMDYyOCw0MDEuNDU4MSIgZmlsbD0ibm9uZSIgaWQ9ImdyZWVuLXRvLXJlZmFjdG9yIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMDQuNDcsNDA2LjM5NjksMTAyLjY1MTgsMzk2LjcxNzMsMTAxLjYzMDcsNDAyLjI4MTIsOTYuMDY2OCw0MDEuMjYwMiwxMDQuNDcsNDA2LjM5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI4OCIgeT0iMzcyLjgzMzgiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTIzNjQ7JiMzNjg5MDsmIzEyNDI3OzwvdGV4dD48L2c+PCEtLWxpbmsgcmVmYWN0b3IgdG8gcmVkLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDIiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxMCIgaWQ9ImxuazYiPjxwYXRoIGQ9Ik0xNTUuODQsNDA2LjQ4NjkgQzE2Mi4wNCwzOTcuNDY2OSAxNjcuNzYsMzg3LjIxNjkgMTcxLDM3Ni43NjY5IEMxOTEuMjksMzExLjQwNjkgMTY2LjA3NTUsMjM3LjM4MDMgMTQ2Ljk0NTUsMTk0LjMxMDMiIGZpbGw9Im5vbmUiIGlkPSJyZWZhY3Rvci10by1yZWQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0NC41MSwxODguODI2OSwxNDQuNTA3NywxOTguNjc1NywxNDYuNTM5NiwxOTMuMzk2NCwxNTEuODE4OSwxOTUuNDI4NCwxNDQuNTEsMTg4LjgyNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSIxNzkuMTEiIHk9IjMwMi4yMTM4Ij4mIzI3NDI1OyYjMTIzOTg7JiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBBeWFpb0tiTDI3NW5LTlpTakZMbnF2QjdKVWlWRHdfY3VZZWtJSW45TEwwQUlhckhLYVdpTFlYQUpMNm1LZFpTdEZRdVFVVlp2ZXg3SlBFVXBUeG5rQjRfOWtfemRld2RJcE8tY3BoelNVRkNucXRUeF9UcW1sSXc1d01jdmU1cmZ1RE9HRnRGdlpHeXRUM19Ta1E0bnV0aDdaVGpWam95dnQ1cHYtRjZ2SjV2bzJRX1I5VzVEMGxYV2hKNHY5Qnk4Z1dwODFvR00tM3djb1I1djNzUmlsRmZqMVE4NHhZdWVoTFk1TkhyeEsya3ZXQXY3Q0k2a1U3ZmtsYWw1aFRvR1JXR0hHV3B1UXZleDA2djBjV01OMVBnN2lXTlFuUTJ0MHpKMm0wMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_10">ユーザー登録のテスト<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.user</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.DisplayName</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Nested</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>

<span class="kn">import static</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Assertions.*</span><span class="p">;</span>

<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ユーザー&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">UserTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ユーザー生成&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">CreateTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効な情報でユーザーを生成できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">canCreateUserWithValidInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;山田&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">UserId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;ACC000001&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getUserId</span><span class="p">());</span>
<span class="w">            </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getName</span><span class="p">().</span><span class="na">getFirstName</span><span class="p">());</span>
<span class="w">            </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;太郎&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getName</span><span class="p">().</span><span class="na">getLastName</span><span class="p">());</span>
<span class="w">            </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;山田 太郎&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getName</span><span class="p">().</span><span class="na">getFullName</span><span class="p">());</span>
<span class="w">            </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">Email</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getEmail</span><span class="p">());</span>
<span class="w">            </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getRole</span><span class="p">());</span>
<span class="w">            </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">UserStatus</span><span class="p">.</span><span class="na">ACTIVE</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getStatus</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ユーザーIDが未入力の場合は生成できない&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">cannotCreateUserWhenUserIdIsMissing</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">UserException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ロールが未入力の場合は生成できない&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">cannotCreateUserWhenRoleIsMissing</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">UserException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ユーザーID検証&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">UserIdValidationTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ユーザーIDはACCで始まる6桁の数字である&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">userIdMustStartWithACCAndBeSixDigitNumber</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">UserIdException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">UserIdException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;USR000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">UserIdException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;ACC12345&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワード変更&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">ChangePasswordTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワードを変更できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">canChangePassword</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">User</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">changePassword</span><span class="p">(</span><span class="s">&quot;NewP@ss123&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getPassword</span><span class="p">().</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;NewP@ss123&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getPassword</span><span class="p">().</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;権限チェック&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">PermissionTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;経理担当者は仕訳入力権限を持つ&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">accountantHasJournalWritePermission</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">hasPermission</span><span class="p">(</span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_WRITE</span><span class="p">));</span>
<span class="w">            </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">hasPermission</span><span class="p">(</span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_READ</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;経理担当者は仕訳承認権限を持たない&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">accountantDoesNotHaveJournalApprovePermission</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;山田&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;yamada@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">hasPermission</span><span class="p">(</span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_APPROVE</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;経理マネージャーは仕訳承認権限を持つ&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">managerHasJournalApprovePermission</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;ACC000002&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Manag3r!!&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;田中&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;花子&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;tanaka@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">MANAGER</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">hasPermission</span><span class="p">(</span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_APPROVE</span><span class="p">));</span>
<span class="w">            </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">hasPermission</span><span class="p">(</span><span class="n">Permission</span><span class="p">.</span><span class="na">JOURNAL_CONFIRM</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_11">パスワード検証のテスト<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワード&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">PasswordTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効なパスワードを生成できる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">canCreateValidPassword</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Password</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">password</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワードは8文字以上であること&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">passwordMustBeAtLeastEightCharacters</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">PasswordException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
<span class="w">            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Abc!23&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワードは小文字を含むこと&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">passwordMustContainLowercase</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">PasswordException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
<span class="w">            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;ACCOUNT!123&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワードは大文字を含むこと&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">passwordMustContainUppercase</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">PasswordException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
<span class="w">            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;account!123&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワードは数字を含むこと&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">passwordMustContainDigit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">PasswordException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
<span class="w">            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Account!ng&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワードは特殊文字を含むこと&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">passwordMustContainSpecialCharacter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">PasswordException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
<span class="w">            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Account123&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パスワードが未入力の場合は空の値を設定する&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">passwordIsEmptyWhenMissing</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Password</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">password</span><span class="p">.</span><span class="na">isSet</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ハッシュ化されたパスワードと生パスワードを照合できる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">canMatchHashedPassword</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Password</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Password</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">password</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">password</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;WrongPassword1!&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_12">認証処理のテスト<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootTest</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;認証サービス&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">AuthServiceTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AuthService</span><span class="w"> </span><span class="n">authService</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">userRepository</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@BeforeEach</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setUp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// テストユーザーを登録</span>
<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;テスト&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;太郎&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s">&quot;test@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="n">userRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">testUser</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;正しい認証情報でログインできる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">canLoginWithValidCredentials</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// When</span>
<span class="w">        </span><span class="n">AuthResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authService</span><span class="p">.</span><span class="na">authenticate</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Then</span>
<span class="w">        </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">isSuccess</span><span class="p">());</span>
<span class="w">        </span><span class="n">assertNotNull</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getToken</span><span class="p">());</span>
<span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getUserId</span><span class="p">());</span>
<span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">Role</span><span class="p">.</span><span class="na">ACCOUNTANT</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getRole</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;不正なパスワードではログインできない&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">cannotLoginWithInvalidPassword</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// When</span>
<span class="w">        </span><span class="n">AuthResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authService</span><span class="p">.</span><span class="na">authenticate</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;WrongP@ss1&quot;</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Then</span>
<span class="w">        </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">isSuccess</span><span class="p">());</span>
<span class="w">        </span><span class="n">assertNull</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getToken</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;存在しないユーザーではログインできない&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">cannotLoginWithNonExistentUser</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// When</span>
<span class="w">        </span><span class="n">AuthResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authService</span><span class="p">.</span><span class="na">authenticate</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;ACC999999&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Then</span>
<span class="w">        </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">isSuccess</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ロックされたユーザーはログインできない&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">cannotLoginWhenUserIsLocked</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Given</span>
<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userRepository</span><span class="p">.</span><span class="na">findByUserId</span><span class="p">(</span><span class="n">UserId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;ACC000001&quot;</span><span class="p">)).</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="n">userRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">lock</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// When</span>
<span class="w">        </span><span class="n">AuthResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authService</span><span class="p">.</span><span class="na">authenticate</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;ACC000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Acc0unt!ng&quot;</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Then</span>
<span class="w">        </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">isSuccess</span><span class="p">());</span>
<span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;アカウントがロックされています&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="254-spring-security">25.4 Spring Security 統合<a class="headerlink" href="#254-spring-security" title="Permanent link">&para;</a></h2>
<h3 id="_13">認証フィルタの設定<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>Spring Security を使用して認証を実装します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjU2NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6Njg1cHg7aGVpZ2h0OjU2NXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDY4NSA1NjUiIHdpZHRoPSI2ODVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzU0Njk7JiMzNTM4ODsmIzEyNTAxOyYjMTI1MjU7JiMxMjU0MDsmIzEyMzk4OyYjMjcwMTA7JiMzNTIwMTs8L3RpdGxlPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjI4OC40NzUzIiB5PSIyNy45OTUxIj4mIzM1NDY5OyYjMzUzODg7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7JiMxMjM5ODsmIzI3MDEwOyYjMzUyMDE7PC90ZXh0PjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQ2xpZW50IiBpZD0icGFydDEtbGlmZWxpbmUiPjxnPjx0aXRsZT5DbGllbnQ8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSIzNjYuNDYwOSIgd2lkdGg9IjgiIHg9IjI0LjI2NTEiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMjgiIHgyPSIyOCIgeTE9IjExOC41OTM4IiB5Mj0iNDg1LjA1NDciLz48L2c+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRmlsdGVyIiBpZD0icGFydDItbGlmZWxpbmUiPjxnPjx0aXRsZT5Kd3RBdXRoRmlsdGVyPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzY2LjQ2MDkiIHdpZHRoPSI4IiB4PSIxODAuODQyMyIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIxODQuMDU2NiIgeDI9IjE4NC4wNTY2IiB5MT0iMTE4LjU5MzgiIHkyPSI0ODUuMDU0NyIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQzIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJDb250cm9sbGVyIiBpZD0icGFydDMtbGlmZWxpbmUiPjxnPjx0aXRsZT5BdXRoQ29udHJvbGxlcjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM2Ni40NjA5IiB3aWR0aD0iOCIgeD0iMzAwLjYyMDYiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMzAzLjYyNzkiIHgyPSIzMDMuNjI3OSIgeTE9IjExOC41OTM4IiB5Mj0iNDg1LjA1NDciLz48L2c+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NCIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iU2VydmljZSIgaWQ9InBhcnQ0LWxpZmVsaW5lIj48Zz48dGl0bGU+QXV0aFNlcnZpY2U8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSIzNjYuNDYwOSIgd2lkdGg9IjgiIHg9IjQxNy44OTAxIiB5PSIxMTguNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjQyMS42MTMzIiB4Mj0iNDIxLjYxMzMiIHkxPSIxMTguNTkzOCIgeTI9IjQ4NS4wNTQ3Ii8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDUiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IlJlcG8iIGlkPSJwYXJ0NS1saWZlbGluZSI+PGc+PHRpdGxlPlVzZXJSZXBvc2l0b3J5PC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzY2LjQ2MDkiIHdpZHRoPSI4IiB4PSI1MzcuNjU4MiIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI1NDEuMTY3IiB4Mj0iNTQxLjE2NyIgeTE9IjExOC41OTM4IiB5Mj0iNDg1LjA1NDciLz48L2c+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRGF0YWJhc2UiIGlkPSJwYXJ0Ni1saWZlbGluZSI+PGc+PHRpdGxlPkRhdGFiYXNlPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzY2LjQ2MDkiIHdpZHRoPSI4IiB4PSI2NDQuNTQ5OCIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI2NDguMTQ5NCIgeDI9IjY0OC4xNDk0IiB5MT0iMTE4LjU5MzgiIHkyPSI0ODUuMDU0NyIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkNsaWVudCIgaWQ9InBhcnQxLWhlYWQiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQwLjUzMDMiIHg9IjUiIHk9IjExNS4yOTIiPkNsaWVudDwvdGV4dD48ZWxsaXBzZSBjeD0iMjguMjY1MSIgY3k9IjUwLjc5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTI4LjI2NTEsNTguNzk2OSBMMjguMjY1MSw4NS43OTY5IE0xNS4yNjUxLDY2Ljc5NjkgTDQxLjI2NTEsNjYuNzk2OSBNMjguMjY1MSw4NS43OTY5IEwxNS4yNjUxLDEwMC43OTY5IE0yOC4yNjUxLDg1Ljc5NjkgTDQxLjI2NTEsMTAwLjc5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQ2xpZW50IiBpZD0icGFydDEtdGFpbCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDAuNTMwMyIgeD0iNSIgeT0iNDk3LjA0OTgiPkNsaWVudDwvdGV4dD48ZWxsaXBzZSBjeD0iMjguMjY1MSIgY3k9IjUwOC44NTE2IiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yOC4yNjUxLDUxNi44NTE2IEwyOC4yNjUxLDU0My44NTE2IE0xNS4yNjUxLDUyNC44NTE2IEw0MS4yNjUxLDUyNC44NTE2IE0yOC4yNjUxLDU0My44NTE2IEwxNS4yNjUxLDU1OC44NTE2IE0yOC4yNjUxLDU0My44NTE2IEw0MS4yNjUxLDU1OC44NTE2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkZpbHRlciIgaWQ9InBhcnQyLWhlYWQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAzLjU3MTMiIHg9IjEzMy4wNTY2IiB5PSI4Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODkuNTcxMyIgeD0iMTQwLjA1NjYiIHk9IjEwNy4yOTIiPkp3dEF1dGhGaWx0ZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJGaWx0ZXIiIGlkPSJwYXJ0Mi10YWlsIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMy41NzEzIiB4PSIxMzMuMDU2NiIgeT0iNDg0LjA1NDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS41NzEzIiB4PSIxNDAuMDU2NiIgeT0iNTA0LjA0OTgiPkp3dEF1dGhGaWx0ZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLWVudGl0eS11aWQ9InBhcnQzIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJDb250cm9sbGVyIiBpZD0icGFydDMtaGVhZCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTUuOTg1NCIgeD0iMjQ2LjYyNzkiIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDEuOTg1NCIgeD0iMjUzLjYyNzkiIHk9IjEwNy4yOTIiPkF1dGhDb250cm9sbGVyPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MyIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQ29udHJvbGxlciIgaWQ9InBhcnQzLXRhaWwiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE1Ljk4NTQiIHg9IjI0Ni42Mjc5IiB5PSI0ODQuMDU0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMS45ODU0IiB4PSIyNTMuNjI3OSIgeT0iNTA0LjA0OTgiPkF1dGhDb250cm9sbGVyPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NCIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iU2VydmljZSIgaWQ9InBhcnQ0LWhlYWQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTguNTUzNyIgeD0iMzcyLjYxMzMiIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC41NTM3IiB4PSIzNzkuNjEzMyIgeT0iMTA3LjI5MiI+QXV0aFNlcnZpY2U8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ0IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJTZXJ2aWNlIiBpZD0icGFydDQtdGFpbCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5OC41NTM3IiB4PSIzNzIuNjEzMyIgeT0iNDg0LjA1NDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC41NTM3IiB4PSIzNzkuNjEzMyIgeT0iNTA0LjA0OTgiPkF1dGhTZXJ2aWNlPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iUmVwbyIgaWQ9InBhcnQ1LWhlYWQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwLjk4MjQiIHg9IjQ4MS4xNjciIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuOTgyNCIgeD0iNDg4LjE2NyIgeT0iMTA3LjI5MiI+VXNlclJlcG9zaXRvcnk8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ1IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJSZXBvIiBpZD0icGFydDUtdGFpbCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjAuOTgyNCIgeD0iNDgxLjE2NyIgeT0iNDg0LjA1NDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuOTgyNCIgeD0iNDg4LjE2NyIgeT0iNTA0LjA0OTgiPlVzZXJSZXBvc2l0b3J5PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRGF0YWJhc2UiIGlkPSJwYXJ0Ni1oZWFkIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni44MDA4IiB4PSI2MTIuMTQ5NCIgeT0iMTE1LjI5MiI+RGF0YWJhc2U8L3RleHQ+PHBhdGggZD0iTTYzMC41NDk4LDY2LjI5NjkgQzYzMC41NDk4LDU2LjI5NjkgNjQ4LjU0OTgsNTYuMjk2OSA2NDguNTQ5OCw1Ni4yOTY5IEM2NDguNTQ5OCw1Ni4yOTY5IDY2Ni41NDk4LDU2LjI5NjkgNjY2LjU0OTgsNjYuMjk2OSBMNjY2LjU0OTgsOTIuMjk2OSBDNjY2LjU0OTgsMTAyLjI5NjkgNjQ4LjU0OTgsMTAyLjI5NjkgNjQ4LjU0OTgsMTAyLjI5NjkgQzY0OC41NDk4LDEwMi4yOTY5IDYzMC41NDk4LDEwMi4yOTY5IDYzMC41NDk4LDkyLjI5NjkgTDYzMC41NDk4LDY2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik02MzAuNTQ5OCw2Ni4yOTY5IEM2MzAuNTQ5OCw3Ni4yOTY5IDY0OC41NDk4LDc2LjI5NjkgNjQ4LjU0OTgsNzYuMjk2OSBDNjQ4LjU0OTgsNzYuMjk2OSA2NjYuNTQ5OCw3Ni4yOTY5IDY2Ni41NDk4LDY2LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRGF0YWJhc2UiIGlkPSJwYXJ0Ni10YWlsIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni44MDA4IiB4PSI2MTIuMTQ5NCIgeT0iNDk3LjA0OTgiPkRhdGFiYXNlPC90ZXh0PjxwYXRoIGQ9Ik02MzAuNTQ5OCw1MTAuMzUxNiBDNjMwLjU0OTgsNTAwLjM1MTYgNjQ4LjU0OTgsNTAwLjM1MTYgNjQ4LjU0OTgsNTAwLjM1MTYgQzY0OC41NDk4LDUwMC4zNTE2IDY2Ni41NDk4LDUwMC4zNTE2IDY2Ni41NDk4LDUxMC4zNTE2IEw2NjYuNTQ5OCw1MzYuMzUxNiBDNjY2LjU0OTgsNTQ2LjM1MTYgNjQ4LjU0OTgsNTQ2LjM1MTYgNjQ4LjU0OTgsNTQ2LjM1MTYgQzY0OC41NDk4LDU0Ni4zNTE2IDYzMC41NDk4LDU0Ni4zNTE2IDYzMC41NDk4LDUzNi4zNTE2IEw2MzAuNTQ5OCw1MTAuMzUxNiIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTYzMC41NDk4LDUxMC4zNTE2IEM2MzAuNTQ5OCw1MjAuMzUxNiA2NDguNTQ5OCw1MjAuMzUxNiA2NDguNTQ5OCw1MjAuMzUxNiBDNjQ4LjU0OTgsNTIwLjM1MTYgNjY2LjU0OTgsNTIwLjM1MTYgNjY2LjU0OTgsNTEwLjM1MTYiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDEiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNzIuODQyMywxNDUuNzI2NiwxODIuODQyMywxNDkuNzI2NiwxNzIuODQyMywxNTMuNzI2NiwxNzYuODQyMywxNDkuNzI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOC4yNjUxIiB4Mj0iMTc4Ljg0MjMiIHkxPSIxNDkuNzI2NiIgeTI9IjE0OS43MjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMyLjU3NzEiIHg9IjM1LjI2NTEiIHk9IjE0NC42NjA2Ij5QT1NUIC9hcGkvYXV0aC9sb2dpbjwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MyIgaWQ9Im1zZzIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjkyLjYyMDYsMTc0Ljg1OTQsMzAyLjYyMDYsMTc4Ljg1OTQsMjkyLjYyMDYsMTgyLjg1OTQsMjk2LjYyMDYsMTc4Ljg1OTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTg0Ljg0MjMiIHgyPSIyOTguNjIwNiIgeTE9IjE3OC44NTk0IiB5Mj0iMTc4Ljg1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIxOTEuODQyMyIgeT0iMTczLjc5MzUiPiYjMzU0Njk7JiMzNTM4ODsmIzEyNTIyOyYjMTI0NjM7JiMxMjQ1NjsmIzEyNDczOyYjMTI0ODg7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDMiIGRhdGEtZW50aXR5LTI9InBhcnQ0IiBpZD0ibXNnMyI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0MDkuODkwMSwyMDMuOTkyMiw0MTkuODkwMSwyMDcuOTkyMiw0MDkuODkwMSwyMTEuOTkyMiw0MTMuODkwMSwyMDcuOTkyMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMDQuNjIwNiIgeDI9IjQxNS44OTAxIiB5MT0iMjA3Ljk5MjIiIHkyPSIyMDcuOTkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkyLjg0MDgiIHg9IjMxMS42MjA2IiB5PSIyMDIuOTI2MyI+YXV0aGVudGljYXRlKCk8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0NCIgZGF0YS1lbnRpdHktMj0icGFydDUiIGlkPSJtc2c0Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUyOS42NTgyLDIzMy4xMjUsNTM5LjY1ODIsMjM3LjEyNSw1MjkuNjU4MiwyNDEuMTI1LDUzMy42NTgyLDIzNy4xMjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDIxLjg5MDEiIHgyPSI1MzUuNjU4MiIgeTE9IjIzNy4xMjUiIHkyPSIyMzcuMTI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTMuMTUxOSIgeD0iNDI4Ljg5MDEiIHk9IjIzMi4wNTkxIj5maW5kQnlVc2VySWQoKTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQ1IiBkYXRhLWVudGl0eS0yPSJwYXJ0NiIgaWQ9Im1zZzUiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjM2LjU0OTgsMjYyLjI1NzgsNjQ2LjU0OTgsMjY2LjI1NzgsNjM2LjU0OTgsMjcwLjI1NzgsNjQwLjU0OTgsMjY2LjI1NzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTQxLjY1ODIiIHgyPSI2NDIuNTQ5OCIgeTE9IjI2Ni4yNTc4IiB5Mj0iMjY2LjI1NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC45NDA0IiB4PSI1NDguNjU4MiIgeT0iMjYxLjE5MTkiPlNFTEVDVDwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQ2IiBkYXRhLWVudGl0eS0yPSJwYXJ0NSIgaWQ9Im1zZzYiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTUyLjY1ODIsMjkxLjM5MDYsNTQyLjY1ODIsMjk1LjM5MDYsNTUyLjY1ODIsMjk5LjM5MDYsNTQ4LjY1ODIsMjk1LjM5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iNTQ2LjY1ODIiIHgyPSI2NDcuNTQ5OCIgeTE9IjI5NS4zOTA2IiB5Mj0iMjk1LjM5MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOS42MzA5IiB4PSI1NTguNjU4MiIgeT0iMjkwLjMyNDciPlVzZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0NSIgZGF0YS1lbnRpdHktMj0icGFydDQiIGlkPSJtc2c3Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQzMi44OTAxLDMyMC41MjM0LDQyMi44OTAxLDMyNC41MjM0LDQzMi44OTAxLDMyOC41MjM0LDQyOC44OTAxLDMyNC41MjM0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjQyNi44OTAxIiB4Mj0iNTQwLjY1ODIiIHkxPSIzMjQuNTIzNCIgeTI9IjMyNC41MjM0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjkuNjMwOSIgeD0iNDM4Ljg5MDEiIHk9IjMxOS40NTc1Ij5Vc2VyPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDQiIGRhdGEtZW50aXR5LTI9InBhcnQ0IiBpZD0ibXNnOCI+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQyMS44OTAxIiB4Mj0iNDYzLjg5MDEiIHkxPSIzNTMuNjU2MyIgeTI9IjM1My42NTYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ2My44OTAxIiB4Mj0iNDYzLjg5MDEiIHkxPSIzNTMuNjU2MyIgeTI9IjM2Ni42NTYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQyMi44OTAxIiB4Mj0iNDYzLjg5MDEiIHkxPSIzNjYuNjU2MyIgeTI9IjM2Ni42NTYzIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0MzIuODkwMSwzNjIuNjU2Myw0MjIuODkwMSwzNjYuNjU2Myw0MzIuODkwMSwzNzAuNjU2Myw0MjguODkwMSwzNjYuNjU2MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjQyOC44OTAxIiB5PSIzNDguNTkwMyI+JiMxMjQ5NzsmIzEyNDczOyYjMTI1Mjc7JiMxMjU0MDsmIzEyNDg5OyYjMjY5MDg7JiMzNTM4ODs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0NCIgZGF0YS1lbnRpdHktMj0icGFydDQiIGlkPSJtc2c5Ij48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDIxLjg5MDEiIHgyPSI0NjMuODkwMSIgeTE9IjM5NS43ODkxIiB5Mj0iMzk1Ljc4OTEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDYzLjg5MDEiIHgyPSI0NjMuODkwMSIgeTE9IjM5NS43ODkxIiB5Mj0iNDA4Ljc4OTEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDIyLjg5MDEiIHgyPSI0NjMuODkwMSIgeTE9IjQwOC43ODkxIiB5Mj0iNDA4Ljc4OTEiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQzMi44OTAxLDQwNC43ODkxLDQyMi44OTAxLDQwOC43ODkxLDQzMi44OTAxLDQxMi43ODkxLDQyOC44OTAxLDQwOC43ODkxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTAuNjI4OSIgeD0iNDI4Ljg5MDEiIHk9IjM5MC43MjMxIj5KV1QmIzI5OTgzOyYjMjUxMDQ7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDQiIGRhdGEtZW50aXR5LTI9InBhcnQzIiBpZD0ibXNnMTAiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzE1LjYyMDYsNDMzLjkyMTksMzA1LjYyMDYsNDM3LjkyMTksMzE1LjYyMDYsNDQxLjkyMTksMzExLjYyMDYsNDM3LjkyMTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMzA5LjYyMDYiIHgyPSI0MjAuODkwMSIgeTE9IjQzNy45MjE5IiB5Mj0iNDM3LjkyMTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS4yMjA3IiB4PSIzMjEuNjIwNiIgeT0iNDMyLjg1NiI+QXV0aFJlc3VsdDwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQzIiBkYXRhLWVudGl0eS0yPSJwYXJ0MSIgaWQ9Im1zZzExIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM5LjI2NTEsNDYzLjA1NDcsMjkuMjY1MSw0NjcuMDU0NywzOS4yNjUxLDQ3MS4wNTQ3LDM1LjI2NTEsNDY3LjA1NDciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMzMuMjY1MSIgeDI9IjMwMy42MjA2IiB5MT0iNDY3LjA1NDciIHkyPSI0NjcuMDU0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY4LjQyMTQiIHg9IjQ1LjI2NTEiIHk9IjQ2MS45ODg4Ij5KV1QgVG9rZW48L3RleHQ+PC9nPjw/cGxhbnR1bWwtc3JjIFJQNzFJaUQwNDhSbC1uSEJKdGVlbE5pR0Q1UW0yNGVKeVJtY2dvdWtJVFhDYkh3Uk5FZjFLRDJSdTRMQUFUWVVYUnhER2luWkU5amlKQUZVUGtSX1BrVlY2SDBXRUlxTTN5THloUkNOZE50ZVJBcWRvdG9NNWhDOThTbzdJNTU3Mlh1MllQYTJ1T2tPWEsweFdwbE82eTdyZVAzMExPVW9YNVBYY3BBODR1TVc4WWFqcmdIX0tQVWhNLTdwYWhEbjZwZkJrMWhvRTRlNC1YZ05kNGI5bTgxVGk4SkowbmlHS2ZjY3RMcmhaRXhHcW5GTmVwcU1ZbngzT0pxUE5PY0dNMU12blhjb3pLdU1FYnRmVEF4Skp2ckRvR1EyM1RPWXFrT3pkMlB5MWRuaGN6RzJDaU9VMGZTWTNGUjdubHZIVzQxUEhSTXNZdUpSRi11eDdsY2ZUOWpjcXNQUk1iRkItaVFpSGo3UEstYnVQU3dQdFVWbGhfWVBfejcxa1ZWcl85UEY3bmx2em94Q1FPT3k2S2JlQlMxV3JQQkJMd1dOdFYzbTZtMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="securityconfig">SecurityConfig の実装<a class="headerlink" href="#securityconfig" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.security</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Bean</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Configuration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.http.HttpMethod</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.config.annotation.web.builders.HttpSecurity</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.config.annotation.web.configuration.EnableWebSecurity</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.config.http.SessionCreationPolicy</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.crypto.password.PasswordEncoder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.web.SecurityFilterChain</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter</span><span class="p">;</span>

<span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="nd">@EnableMethodSecurity</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfig</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">JwtAuthenticationFilter</span><span class="w"> </span><span class="n">jwtAuthFilter</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">JwtAuthenticationEntryPoint</span><span class="w"> </span><span class="n">jwtAuthEntryPoint</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityFilterChain</span><span class="w"> </span><span class="nf">filterChain</span><span class="p">(</span><span class="n">HttpSecurity</span><span class="w"> </span><span class="n">http</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">http</span>
<span class="w">            </span><span class="c1">// CSRF無効化（JWT使用のため）</span>
<span class="w">            </span><span class="p">.</span><span class="na">csrf</span><span class="p">(</span><span class="n">csrf</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">csrf</span><span class="p">.</span><span class="na">disable</span><span class="p">())</span>

<span class="w">            </span><span class="c1">// ステートレスセッション</span>
<span class="w">            </span><span class="p">.</span><span class="na">sessionManagement</span><span class="p">(</span><span class="n">session</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="n">session</span><span class="p">.</span><span class="na">sessionCreationPolicy</span><span class="p">(</span><span class="n">SessionCreationPolicy</span><span class="p">.</span><span class="na">STATELESS</span><span class="p">))</span>

<span class="w">            </span><span class="c1">// 認証エントリーポイント</span>
<span class="w">            </span><span class="p">.</span><span class="na">exceptionHandling</span><span class="p">(</span><span class="n">exception</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="n">exception</span><span class="p">.</span><span class="na">authenticationEntryPoint</span><span class="p">(</span><span class="n">jwtAuthEntryPoint</span><span class="p">))</span>

<span class="w">            </span><span class="c1">// 認可設定</span>
<span class="w">            </span><span class="p">.</span><span class="na">authorizeHttpRequests</span><span class="p">(</span><span class="n">auth</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">auth</span>
<span class="w">                </span><span class="c1">// 認証不要</span>
<span class="w">                </span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/api/auth/**&quot;</span><span class="p">).</span><span class="na">permitAll</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/actuator/health&quot;</span><span class="p">).</span><span class="na">permitAll</span><span class="p">()</span>

<span class="w">                </span><span class="c1">// ユーザー管理はADMINのみ</span>
<span class="w">                </span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/api/users/**&quot;</span><span class="p">).</span><span class="na">hasRole</span><span class="p">(</span><span class="s">&quot;ADMIN&quot;</span><span class="p">)</span>

<span class="w">                </span><span class="c1">// 仕訳承認はMANAGER以上</span>
<span class="w">                </span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="n">HttpMethod</span><span class="p">.</span><span class="na">POST</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/api/journals/*/approve&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">hasAnyRole</span><span class="p">(</span><span class="s">&quot;ADMIN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EXECUTIVE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MANAGER&quot;</span><span class="p">)</span>

<span class="w">                </span><span class="c1">// 仕訳確定はMANAGER以上</span>
<span class="w">                </span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="n">HttpMethod</span><span class="p">.</span><span class="na">POST</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/api/journals/*/confirm&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">hasAnyRole</span><span class="p">(</span><span class="s">&quot;ADMIN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MANAGER&quot;</span><span class="p">)</span>

<span class="w">                </span><span class="c1">// 財務分析はMANAGER以上</span>
<span class="w">                </span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/api/analysis/**&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">hasAnyRole</span><span class="p">(</span><span class="s">&quot;ADMIN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EXECUTIVE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MANAGER&quot;</span><span class="p">)</span>

<span class="w">                </span><span class="c1">// 監査ログはEXECUTIVE以上</span>
<span class="w">                </span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/api/audit/**&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">hasAnyRole</span><span class="p">(</span><span class="s">&quot;ADMIN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EXECUTIVE&quot;</span><span class="p">)</span>

<span class="w">                </span><span class="c1">// その他は認証必須</span>
<span class="w">                </span><span class="p">.</span><span class="na">anyRequest</span><span class="p">().</span><span class="na">authenticated</span><span class="p">()</span>
<span class="w">            </span><span class="p">)</span>

<span class="w">            </span><span class="c1">// JWTフィルタを追加</span>
<span class="w">            </span><span class="p">.</span><span class="na">addFilterBefore</span><span class="p">(</span><span class="n">jwtAuthFilter</span><span class="p">,</span>
<span class="w">                </span><span class="n">UsernamePasswordAuthenticationFilter</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">PasswordEncoder</span><span class="w"> </span><span class="nf">passwordEncoder</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BCryptPasswordEncoder</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="jwt">JWT トークン管理<a class="headerlink" href="#jwt" title="Permanent link">&para;</a></h3>
<p>認証成功時に JWT トークンを発行します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjU0MnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MjU5cHg7aGVpZ2h0OjU0MnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI1OSA1NDIiIHdpZHRoPSIyNTlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPkpXVCAmIzEyNDg4OyYjMTI1NDA7JiMxMjQ2MzsmIzEyNTMxOyYjMTIzOTg7JiMyNzA4MzsmIzM2ODk2OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMy4wNzQ4IiB4PSI1NS45NjI2IiB5PSIyMi45OTUxIj5KV1QgJiMxMjQ4ODsmIzEyNTQwOyYjMTI0NjM7JiMxMjUzMTsmIzEyMzk4OyYjMjcwODM7JiMzNjg5Njs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGhlYWRlci0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJoZWFkZXIiIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjEwNy4yNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE1OSIgeD0iODciIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTcuMDgwMSIgeD0iMTM3Ljk2IiB5PSI1OS4yOTIiPkhlYWRlcjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgcGF5bG9hZC0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJwYXlsb2FkIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxNTIuNjciIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyMTMiIHg9IjMzIiB5PSIxOTEuNTU2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Mi43MTk3IiB4PSIxMDguMTQwMSIgeT0iMjA2LjU1MiI+UGF5bG9hZDwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgc2lnbmF0dXJlLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InNpZ25hdHVyZSIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjE1Mi42NiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjIzOSIgeD0iNyIgeT0iMzg0LjIyNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzcuMzc2IiB4PSI4Ny44MTIiIHk9IjM5OS4yMjIiPlNpZ25hdHVyZTwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaGVhZGVyLm4xIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBpZD0iZW50MDAwMyI+PHBhdGggZD0iTTExMC45MSw4Ny4yOTY5IEwxMTAuOTEsMTI3LjU2MjUgTDIwMy4wOTI2LDEyNy41NjI1IEwyMDMuMDkyNiw5Ny4yOTY5IEwxOTMuMDkyNiw4Ny4yOTY5IEwxMTAuOTEsODcuMjk2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTE5My4wOTI2LDg3LjI5NjkgTDE5My4wOTI2LDk3LjI5NjkgTDIwMy4wOTI2LDk3LjI5NjkgTDE5My4wOTI2LDg3LjI5NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS4xODI2IiB4PSIxMTYuOTEiIHk9IjEwNC4zNjM4Ij5hbGc6IEhTMjU2PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU0LjE4MzYiIHg9IjExNi45MSIgeT0iMTE5LjQ5NjYiPnR5cDogSldUPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJwYXlsb2FkLm4yIiBkYXRhLXNvdXJjZS1saW5lPSI4IiBpZD0iZW50MDAwNSI+PHBhdGggZD0iTTU3LjI4LDIzNC41NTY5IEw1Ny4yOCwzMjAuMjIwOSBMMjAyLjcxOTUsMzIwLjIyMDkgTDIwMi43MTk1LDI0NC41NTY5IEwxOTIuNzE5NSwyMzQuNTU2OSBMNTcuMjgsMjM0LjU1NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xOTIuNzE5NSwyMzQuNTU2OSBMMTkyLjcxOTUsMjQ0LjU1NjkgTDIwMi43MTk1LDI0NC41NTY5IEwxOTIuNzE5NSwyMzQuNTU2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC40NDk3IiB4PSI2My4yOCIgeT0iMjUxLjYyMzgiPnN1YjogQUNDMDAwMDAxPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNC40Mzk1IiB4PSI2My4yOCIgeT0iMjY2Ljc1NjYiPnJvbGU6IEFDQ09VTlRBTlQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjA0NjQiIHg9IjYzLjI4IiB5PSIyODEuODg5NCI+cGVybWlzc2lvbnM6IFsuLi5dPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS4xNjU1IiB4PSI2My4yOCIgeT0iMjk3LjAyMjIiPmV4cDogMTIzNDU2Nzg5MDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDcuODk3NSIgeD0iNjMuMjgiIHk9IjMxMi4xNTUiPmlhdDogMTIzNDU2NzgwMDwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0ic2lnbmF0dXJlLm4zIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImVudDAwMDciPjxwYXRoIGQ9Ik0zMS40Nyw0MjcuMjI2OSBMMzEuNDcsNTEyLjg5MDkgTDIwMi41MjIyLDUxMi44OTA5IEwyMDIuNTIyMiw0MzcuMjI2OSBMMTkyLjUyMjIsNDI3LjIyNjkgTDMxLjQ3LDQyNy4yMjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTkyLjUyMjIsNDI3LjIyNjkgTDE5Mi41MjIyLDQzNy4yMjY5IEwyMDIuNTIyMiw0MzcuMjI2OSBMMTkyLjUyMjIsNDI3LjIyNjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NS43NjcxIiB4PSIzNy40NyIgeT0iNDQ0LjI5MzgiPkhNQUNTSEEyNTYoPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MS43ODc2IiB4PSI0NS43MzQ2IiB5PSI0NTkuNDI2NiI+YmFzZTY0KGhlYWRlcikgKyAuICs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEzLjUwMjQiIHg9IjQ1LjczNDYiIHk9IjQ3NC41NTk0Ij5iYXNlNjQocGF5bG9hZCksPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQwLjM1ODQiIHg9IjQ1LjczNDYiIHk9IjQ4OS42OTIyIj5zZWNyZXQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNS4wNzE4IiB4PSIzNy40NyIgeT0iNTA0LjgyNSI+KTwvdGV4dD48L2c+PCEtLWxpbmsgaGVhZGVyIHRvIHBheWxvYWQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0ibG5rOCI+PHBhdGggY29kZUxpbmU9IjE1IiBkPSJNMjM4LDE1Mi4wMjg2IEMyMzgsMTUzLjE1OTMgMjM4LDE1NC4zMDI4IDIzOCwxNTUuNDU4IEMyMzgsMTU3Ljc2ODMgMjM4LDE2MC4xMjUzIDIzOCwxNjIuNTE5NSBDMjM4LDE2Ny4zMDc5IDIzOCwxNzIuMjQ1MyAyMzgsMTc3LjI1NzMgQzIzOCwxNzkuNzYzMiAyMzgsMTgyLjI4NzggMjM4LDE4NC44MjE3IEMyMzgsMTg2LjA4ODYgMjM4LDE4Ny4zNTc5IDIzOCwxODguNjI4MyBDMjM4LDE4OS4yNjM1IDIzOCwxODkuODk5IDIzOCwxOTAuNTM0NyBDMjM4LDE5MC44NTI1IDIzOCwxODUuMTcwMyAyMzgsMTg1LjQ4ODIiIGZpbGw9Im5vbmUiIGlkPSJoZWFkZXItdG8tcGF5bG9hZCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjM4LDE5MS40ODgyLDI0MiwxODIuNDg4MiwyMzgsMTg2LjQ4ODIsMjM0LDE4Mi40ODgyLDIzOCwxOTEuNDg4MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBwYXlsb2FkIHRvIHNpZ25hdHVyZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA2IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGlkPSJsbms5Ij48cGF0aCBjb2RlTGluZT0iMTYiIGQ9Ik0yMzgsMzQ0LjkzNjcgQzIzOCwzNDUuMjgyNSAyMzgsMzQ1LjYyODkgMjM4LDM0NS45NzU4IEMyMzgsMzQ2LjY2OTYgMjM4LDM0Ny4zNjU1IDIzOCwzNDguMDYzNSBDMjM4LDM1MC44NTUyIDIzOCwzNTMuNjc4NiAyMzgsMzU2LjUyMzIgQzIzOCwzNjIuMjEyMyAyMzgsMzY3Ljk4NTkgMjM4LDM3My43NTk0IEMyMzgsMzc2LjY0NjEgMjM4LDM3OS41MzI4IDIzOCwzODIuNDA4OCBDMjM4LDM4Mi43NjgzIDIzOCwzODMuMTI3NiAyMzgsMzgzLjQ4NjggQzIzOCwzODMuNjY2NCAyMzgsMzc3Ljg0NTkgMjM4LDM3OC4wMjU0IiBmaWxsPSJub25lIiBpZD0icGF5bG9hZC10by1zaWduYXR1cmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIzOCwzODQuMDI1NCwyNDIsMzc1LjAyNTQsMjM4LDM3OS4wMjU0LDIzNCwzNzUuMDI1NCwyMzgsMzg0LjAyNTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PD9wbGFudHVtbC1zcmMgQXlhaW9LYkx5MGVGS05aU3RGNnVVU19aZmxNRmNwU19SYnB0UjdkdG91TzVONW41Z1NhYllOZGZHNExBN2djOUFRYjVJV2c5bkdlUE9BUDJETFRVVldiRzlaNGR0S2gxOHpaOHIybWNod0lvbTBmYTg1WFRkWTVOQk9lUDBPY0xFVmM5QU0zOTBXV1JSYWZuUVBBTFdnRXBpbTQ4NkNSYTVVTmRmODg1XzRGekdYcHpHY0JvMmJBQlNaRUJZcEZweXVnajVBQnJ6RkhZT185SUF1M3M2SGVQY3ZZUWNMak82aUphUElRTTgwR0MzMjNrQzQ5cEh0MWNVYnZZSU1iSEFiWXc2Q1Eza3lOM3J6NHZzQ0NIdzJFRGMzbTVYUUo0dWJHcDRtczhqcEtMajFOcTVCSUhuQTQtcVRHMVlITWQ5WFViYmlKYVFLOWlEV1JQMzBxbE5McXhjQS12T0J1N1lTN2oxbTAwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h4 id="jwttokenprovider">JwtTokenProvider の実装<a class="headerlink" href="#jwttokenprovider" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.security</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.user.Permission</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.user.Role</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io.jsonwebtoken.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io.jsonwebtoken.security.Keys</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Value</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javax.crypto.SecretKey</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.nio.charset.StandardCharsets</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Date</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JwtTokenProvider</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">SecretKey</span><span class="w"> </span><span class="n">secretKey</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">validityInMilliseconds</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">JwtTokenProvider</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;${jwt.secret}&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">secret</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;${jwt.expiration:86400000}&quot;</span><span class="p">)</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">validityInMilliseconds</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">secretKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Keys</span><span class="p">.</span><span class="na">hmacShaKeyFor</span><span class="p">(</span>
<span class="w">            </span><span class="n">secret</span><span class="p">.</span><span class="na">getBytes</span><span class="p">(</span><span class="n">StandardCharsets</span><span class="p">.</span><span class="na">UTF_8</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">validityInMilliseconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validityInMilliseconds</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * JWTトークンを生成</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">createToken</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="n">Role</span><span class="w"> </span><span class="n">role</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Date</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Date</span><span class="p">();</span>
<span class="w">        </span><span class="n">Date</span><span class="w"> </span><span class="n">validity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Date</span><span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="na">getTime</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">validityInMilliseconds</span><span class="p">);</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">role</span><span class="p">.</span><span class="na">getPermissions</span><span class="p">().</span><span class="na">stream</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">Permission</span><span class="p">::</span><span class="n">name</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Jwts</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">subject</span><span class="p">(</span><span class="n">userId</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">claim</span><span class="p">(</span><span class="s">&quot;role&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">role</span><span class="p">.</span><span class="na">name</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">claim</span><span class="p">(</span><span class="s">&quot;permissions&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">permissions</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">issuedAt</span><span class="p">(</span><span class="n">now</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">expiration</span><span class="p">(</span><span class="n">validity</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">signWith</span><span class="p">(</span><span class="n">secretKey</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">compact</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * トークンを検証</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">validateToken</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Jwts</span><span class="p">.</span><span class="na">parser</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">verifyWith</span><span class="p">(</span><span class="n">secretKey</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">parseSignedClaims</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">JwtException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * トークンからユーザーIDを取得</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getUserId</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Jwts</span><span class="p">.</span><span class="na">parser</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">verifyWith</span><span class="p">(</span><span class="n">secretKey</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">parseSignedClaims</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">getPayload</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">getSubject</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * トークンからロールを取得</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Role</span><span class="w"> </span><span class="nf">getRole</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">roleName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Jwts</span><span class="p">.</span><span class="na">parser</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">verifyWith</span><span class="p">(</span><span class="n">secretKey</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">parseSignedClaims</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">getPayload</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;role&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Role</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">roleName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * トークンから権限リストを取得</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&quot;unchecked&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getPermissions</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Jwts</span><span class="p">.</span><span class="na">parser</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">verifyWith</span><span class="p">(</span><span class="n">secretKey</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">parseSignedClaims</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">getPayload</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;permissions&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="jwt_1">JWT認証フィルタ<a class="headerlink" href="#jwt_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.security</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.servlet.FilterChain</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.servlet.ServletException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.servlet.http.HttpServletRequest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.servlet.http.HttpServletResponse</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.authentication.UsernamePasswordAuthenticationToken</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.core.authority.SimpleGrantedAuthority</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.security.core.context.SecurityContextHolder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.web.filter.OncePerRequestFilter</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JwtAuthenticationFilter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">OncePerRequestFilter</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">JwtTokenProvider</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilterInternal</span><span class="p">(</span>
<span class="w">            </span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span>
<span class="w">            </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span>
<span class="w">            </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">filterChain</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">extractToken</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">token</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">validateToken</span><span class="p">(</span><span class="n">token</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">getUserId</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">getRole</span><span class="p">(</span><span class="n">token</span><span class="p">).</span><span class="na">name</span><span class="p">();</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">getPermissions</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 権限をGrantedAuthorityに変換</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">SimpleGrantedAuthority</span><span class="o">&gt;</span><span class="w"> </span><span class="n">authorities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">permissions</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">SimpleGrantedAuthority</span><span class="p">::</span><span class="k">new</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>

<span class="w">            </span><span class="c1">// ロールも追加</span>
<span class="w">            </span><span class="n">authorities</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">SimpleGrantedAuthority</span><span class="p">(</span><span class="s">&quot;ROLE_&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">role</span><span class="p">));</span>

<span class="w">            </span><span class="n">UsernamePasswordAuthenticationToken</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="o">=</span>
<span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">UsernamePasswordAuthenticationToken</span><span class="p">(</span>
<span class="w">                    </span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">authorities</span>
<span class="w">                </span><span class="p">);</span>

<span class="w">            </span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">getContext</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">setAuthentication</span><span class="p">(</span><span class="n">authentication</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">filterChain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">extractToken</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">bearerToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getHeader</span><span class="p">(</span><span class="s">&quot;Authorization&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bearerToken</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">bearerToken</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&quot;Bearer &quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">bearerToken</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_14">セッション管理<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>本システムでは、ステートレスな JWT 認証を採用しています。</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>設定</th>
</tr>
</thead>
<tbody>
<tr>
<td>セッション管理</td>
<td>STATELESS</td>
</tr>
<tr>
<td>トークン有効期限</td>
<td>24時間</td>
</tr>
<tr>
<td>リフレッシュトークン</td>
<td>対応（7日間有効）</td>
</tr>
<tr>
<td>トークン保存場所</td>
<td>クライアント側（LocalStorage/Cookie）</td>
</tr>
</tbody>
</table>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjkxM3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTExcHg7aGVpZ2h0OjkxM3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDUxMSA5MTMiIHdpZHRoPSI1MTFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0ODg7JiMxMjUyNDsmIzEyNDczOyYjMzU0Njk7JiMzNTM4ODsmIzEyMzk4OyYjMjc5Njk7JiMxMjQyODsmIzY1Mjg4OyYjMzYwMDE7JiMyMTIwOTsmIzIwMjUwOyYjMzUzMzY7JiMxMjQ3MTsmIzEyNDczOyYjMTI0ODY7JiMxMjUxMjsmIzY1Mjg5OzwvdGl0bGU+PGRlZnMvPjxnPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOTMuOTk4NyIgeD0iMTA0LjUwMDgiIHk9IjI3Ljk5NTEiPiYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0ODg7JiMxMjUyNDsmIzEyNDczOyYjMzU0Njk7JiMzNTM4ODsmIzEyMzk4OyYjMjc5Njk7JiMxMjQyODsmIzY1Mjg4OyYjMzYwMDE7JiMyMTIwOTsmIzIwMjUwOyYjMzUzMzY7JiMxMjQ3MTsmIzEyNDczOyYjMTI0ODY7JiMxMjUxMjsmIzY1Mjg5OzwvdGV4dD48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkNsaWVudCIgaWQ9InBhcnQxLWxpZmVsaW5lIj48Zz48dGl0bGU+Q2xpZW50PC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iODA0LjMyMDMiIHdpZHRoPSI4IiB4PSIyOC4yNjUxIiB5PSI3My41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMzIiIHgyPSIzMiIgeTE9IjczLjU5MzgiIHkyPSI4NzcuOTE0MSIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJTZXJ2ZXIiIGlkPSJwYXJ0Mi1saWZlbGluZSI+PGc+PHRpdGxlPlNlcnZlcjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjgwNC4zMjAzIiB3aWR0aD0iOCIgeD0iMjQ4LjkwOTIiIHk9IjczLjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIyNTEuOTU0MSIgeDI9IjI1MS45NTQxIiB5MT0iNzMuNTkzOCIgeTI9Ijg3Ny45MTQxIi8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDMiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkRhdGFiYXNlIiBpZD0icGFydDMtbGlmZWxpbmUiPjxnPjx0aXRsZT5EYXRhYmFzZTwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjgwNC4zMjAzIiB3aWR0aD0iOCIgeD0iNDE4LjkwOTQiIHk9IjczLjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI0MjIuNTA5IiB4Mj0iNDIyLjUwOSIgeTE9IjczLjU5MzgiIHkyPSI4NzcuOTE0MSIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkNsaWVudCIgaWQ9InBhcnQxLWhlYWQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNTQuNTMwMyIgeD0iNSIgeT0iNDIuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQwLjUzMDMiIHg9IjEyIiB5PSI2Mi4yOTIiPkNsaWVudDwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkNsaWVudCIgaWQ9InBhcnQxLXRhaWwiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNTQuNTMwMyIgeD0iNSIgeT0iODc2LjkxNDEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MC41MzAzIiB4PSIxMiIgeT0iODk2LjkwOTIiPkNsaWVudDwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IlNlcnZlciIgaWQ9InBhcnQyLWhlYWQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNTkuOTEwMiIgeD0iMjIyLjk1NDEiIHk9IjQyLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NS45MTAyIiB4PSIyMjkuOTU0MSIgeT0iNjIuMjkyIj5TZXJ2ZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJTZXJ2ZXIiIGlkPSJwYXJ0Mi10YWlsIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjU5LjkxMDIiIHg9IjIyMi45NTQxIiB5PSI4NzYuOTE0MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ1LjkxMDIiIHg9IjIyOS45NTQxIiB5PSI4OTYuOTA5MiI+U2VydmVyPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MyIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRGF0YWJhc2UiIGlkPSJwYXJ0My1oZWFkIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjgwLjgwMDgiIHg9IjM4Mi41MDkiIHk9IjQyLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni44MDA4IiB4PSIzODkuNTA5IiB5PSI2Mi4yOTIiPkRhdGFiYXNlPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MyIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRGF0YWJhc2UiIGlkPSJwYXJ0My10YWlsIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjgwLjgwMDgiIHg9IjM4Mi41MDkiIHk9Ijg3Ni45MTQxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuODAwOCIgeD0iMzg5LjUwOSIgeT0iODk2LjkwOTIiPkRhdGFiYXNlPC90ZXh0PjwvZz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjMiIHN0eWxlPSJzdHJva2U6I0VFRUVFRTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI1MDQuMDAwMyIgeD0iMCIgeT0iMTA0LjE2MDIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMCIgeDI9IjUwNC4wMDAzIiB5MT0iMTA0LjE2MDIiIHkyPSIxMDQuMTYwMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIwIiB4Mj0iNTA0LjAwMDMiIHkxPSIxMDcuMTYwMiIgeTI9IjEwNy4xNjAyIi8+PHJlY3QgZmlsbD0iI0VFRUVFRSIgaGVpZ2h0PSIyMy4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7IiB3aWR0aD0iNzAuNTI1OSIgeD0iMjE2LjczNzIiIHk9IjkzLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMjIyLjczNzIiIHk9IjEwOS42NjA2Ij4mIzEyNTI1OyYjMTI0NjQ7JiMxMjQ1MjsmIzEyNTMxOzwvdGV4dD48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDEiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNDAuOTA5MiwxNTguOTkyMiwyNTAuOTA5MiwxNjIuOTkyMiwyNDAuOTA5MiwxNjYuOTkyMiwyNDQuOTA5MiwxNjIuOTkyMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMi4yNjUxIiB4Mj0iMjQ2LjkwOTIiIHkxPSIxNjIuOTkyMiIgeTI9IjE2Mi45OTIyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMyLjU3NzEiIHg9IjM5LjI2NTEiIHk9IjE0Mi43OTM1Ij5QT1NUIC9hcGkvYXV0aC9sb2dpbjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjcuMTk0MyIgeD0iMzkuMjY1MSIgeT0iMTU3LjkyNjMiPnt1c2VySWQsIHBhc3N3b3JkfTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MyIgaWQ9Im1zZzIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDEwLjkwOTQsMTg4LjEyNSw0MjAuOTA5NCwxOTIuMTI1LDQxMC45MDk0LDE5Ni4xMjUsNDE0LjkwOTQsMTkyLjEyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTIuOTA5MiIgeDI9IjQxNi45MDk0IiB5MT0iMTkyLjEyNSIgeTI9IjE5Mi4xMjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIyNTkuOTA5MiIgeT0iMTg3LjA1OTEiPiYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7JiMyNjkwODsmIzM1Mzg4OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQzIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzMiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjYzLjkwOTIsMjE3LjI1NzgsMjUzLjkwOTIsMjIxLjI1NzgsMjYzLjkwOTIsMjI1LjI1NzgsMjU5LjkwOTIsMjIxLjI1NzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMjU3LjkwOTIiIHgyPSI0MjEuOTA5NCIgeTE9IjIyMS4yNTc4IiB5Mj0iMjIxLjI1NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOS42MzA5IiB4PSIyNjkuOTA5MiIgeT0iMjE2LjE5MTkiPlVzZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDIiIGlkPSJtc2c0Ij48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUyLjkwOTIiIHgyPSIyOTQuOTA5MiIgeTE9IjI1MC4zOTA2IiB5Mj0iMjUwLjM5MDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk0LjkwOTIiIHgyPSIyOTQuOTA5MiIgeTE9IjI1MC4zOTA2IiB5Mj0iMjYzLjM5MDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUzLjkwOTIiIHgyPSIyOTQuOTA5MiIgeTE9IjI2My4zOTA2IiB5Mj0iMjYzLjM5MDYiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2My45MDkyLDI1OS4zOTA2LDI1My45MDkyLDI2My4zOTA2LDI2My45MDkyLDI2Ny4zOTA2LDI1OS45MDkyLDI2My4zOTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iMjU5LjkwOTIiIHk9IjI0NS4zMjQ3Ij4mIzEyNDk3OyYjMTI0NzM7JiMxMjUyNzsmIzEyNTQwOyYjMTI0ODk7JiMyOTAzMTsmIzIxNTEyOzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzUiPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTIuOTA5MiIgeDI9IjI5NC45MDkyIiB5MT0iMjkyLjUyMzQiIHkyPSIyOTIuNTIzNCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTQuOTA5MiIgeDI9IjI5NC45MDkyIiB5MT0iMjkyLjUyMzQiIHkyPSIzMDUuNTIzNCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTMuOTA5MiIgeDI9IjI5NC45MDkyIiB5MT0iMzA1LjUyMzQiIHkyPSIzMDUuNTIzNCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjYzLjkwOTIsMzAxLjUyMzQsMjUzLjkwOTIsMzA1LjUyMzQsMjYzLjkwOTIsMzA5LjUyMzQsMjU5LjkwOTIsMzA1LjUyMzQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MC42Mjg5IiB4PSIyNTkuOTA5MiIgeT0iMjg3LjQ1NzUiPkpXVCYjMjk5ODM7JiMyNTEwNDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2c2Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQzLjI2NTEsMzMwLjY1NjMsMzMuMjY1MSwzMzQuNjU2Myw0My4yNjUxLDMzOC42NTYzLDM5LjI2NTEsMzM0LjY1NjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMzcuMjY1MSIgeDI9IjI1MS45MDkyIiB5MT0iMzM0LjY1NjMiIHkyPSIzMzQuNjU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5NC4yMDY1IiB4PSI0OS4yNjUxIiB5PSIzMjkuNTkwMyI+e2FjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW59PC90ZXh0PjwvZz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjMiIHN0eWxlPSJzdHJva2U6I0VFRUVFRTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI1MDQuMDAwMyIgeD0iMCIgeT0iMzYzLjIyMjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMCIgeDI9IjUwNC4wMDAzIiB5MT0iMzYzLjIyMjciIHkyPSIzNjMuMjIyNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIwIiB4Mj0iNTA0LjAwMDMiIHkxPSIzNjYuMjIyNyIgeTI9IjM2Ni4yMjI3Ii8+PHJlY3QgZmlsbD0iI0VFRUVFRSIgaGVpZ2h0PSIyMy4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7IiB3aWR0aD0iOTkuNDc3NiIgeD0iMjAyLjI2MTMiIHk9IjM1Mi42NTYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjk1MTciIHg9IjIwOC4yNjEzIiB5PSIzNjguNzIzMSI+QVBJICYjMTI0NTA7JiMxMjQ2MzsmIzEyNDc1OyYjMTI0NzM7PC90ZXh0PjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MSIgZGF0YS1lbnRpdHktMj0icGFydDIiIGlkPSJtc2c3Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0MC45MDkyLDQxOC4wNTQ3LDI1MC45MDkyLDQyMi4wNTQ3LDI0MC45MDkyLDQyNi4wNTQ3LDI0NC45MDkyLDQyMi4wNTQ3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyLjI2NTEiIHgyPSIyNDYuOTA5MiIgeTE9IjQyMi4wNTQ3IiB5Mj0iNDIyLjA1NDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTAuNjkwNCIgeD0iMzkuMjY1MSIgeT0iNDAxLjg1NiI+R0VUIC9hcGkvam91cm5hbHM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk2LjY0NCIgeD0iMzkuMjY1MSIgeT0iNDE2Ljk4ODgiPkF1dGhvcml6YXRpb246IEJlYXJlciB7dG9rZW59PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDIiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnOCI+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1Mi45MDkyIiB4Mj0iMjk0LjkwOTIiIHkxPSI0NTEuMTg3NSIgeTI9IjQ1MS4xODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5NC45MDkyIiB4Mj0iMjk0LjkwOTIiIHkxPSI0NTEuMTg3NSIgeTI9IjQ2NC4xODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1My45MDkyIiB4Mj0iMjk0LjkwOTIiIHkxPSI0NjQuMTg3NSIgeTI9IjQ2NC4xODc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjMuOTA5Miw0NjAuMTg3NSwyNTMuOTA5Miw0NjQuMTg3NSwyNjMuOTA5Miw0NjguMTg3NSwyNTkuOTA5Miw0NjQuMTg3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjI1OS45MDkyIiB5PSI0NDYuMTIxNiI+JiMxMjQ4ODsmIzEyNTQwOyYjMTI0NjM7JiMxMjUzMTsmIzI2OTA4OyYjMzUzODg7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDIiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnOSI+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1Mi45MDkyIiB4Mj0iMjk0LjkwOTIiIHkxPSI0OTMuMzIwMyIgeTI9IjQ5My4zMjAzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5NC45MDkyIiB4Mj0iMjk0LjkwOTIiIHkxPSI0OTMuMzIwMyIgeTI9IjUwNi4zMjAzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1My45MDkyIiB4Mj0iMjk0LjkwOTIiIHkxPSI1MDYuMzIwMyIgeTI9IjUwNi4zMjAzIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjMuOTA5Miw1MDIuMzIwMywyNTMuOTA5Miw1MDYuMzIwMywyNjMuOTA5Miw1MTAuMzIwMywyNTkuOTA5Miw1MDYuMzIwMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjI1OS45MDkyIiB5PSI0ODguMjU0NCI+JiMyNzE3NzsmIzM4NDgwOyYjMTI0ODE7JiMxMjQ1NTsmIzEyNDgzOyYjMTI0NjM7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDIiIGRhdGEtZW50aXR5LTI9InBhcnQzIiBpZD0ibXNnMTAiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDEwLjkwOTQsNTMxLjQ1MzEsNDIwLjkwOTQsNTM1LjQ1MzEsNDEwLjkwOTQsNTM5LjQ1MzEsNDE0LjkwOTQsNTM1LjQ1MzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUyLjkwOTIiIHgyPSI0MTYuOTA5NCIgeTE9IjUzNS40NTMxIiB5Mj0iNTM1LjQ1MzEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSIyNTkuOTA5MiIgeT0iNTMwLjM4NzIiPiYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MyIgZGF0YS1lbnRpdHktMj0icGFydDIiIGlkPSJtc2cxMSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjMuOTA5Miw1NjAuNTg1OSwyNTMuOTA5Miw1NjQuNTg1OSwyNjMuOTA5Miw1NjguNTg1OSwyNTkuOTA5Miw1NjQuNTg1OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSIyNTcuOTA5MiIgeDI9IjQyMS45MDk0IiB5MT0iNTY0LjU4NTkiIHkyPSI1NjQuNTg1OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM5IiB4PSIyNjkuOTA5MiIgeT0iNTU5LjUyIj4mIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2cxMiI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0My4yNjUxLDU4OS43MTg4LDMzLjI2NTEsNTkzLjcxODgsNDMuMjY1MSw1OTcuNzE4OCwzOS4yNjUxLDU5My43MTg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjM3LjI2NTEiIHgyPSIyNTEuOTA5MiIgeTE9IjU5My43MTg4IiB5Mj0iNTkzLjcxODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2My4wMTk1IiB4PSI0OS4yNjUxIiB5PSI1ODguNjUyOCI+UmVzcG9uc2U8L3RleHQ+PC9nPjxyZWN0IGZpbGw9IiNFRUVFRUUiIGhlaWdodD0iMyIgc3R5bGU9InN0cm9rZTojRUVFRUVFO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjUwNC4wMDAzIiB4PSIwIiB5PSI2MjIuMjg1MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIwIiB4Mj0iNTA0LjAwMDMiIHkxPSI2MjIuMjg1MiIgeTI9IjYyMi4yODUyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSI1MDQuMDAwMyIgeTE9IjYyNS4yODUyIiB5Mj0iNjI1LjI4NTIiLz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjIzLjEzMjgiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjsiIHdpZHRoPSIxNDguNTI2IiB4PSIxNzcuNzM3MSIgeT0iNjExLjcxODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjE4My43MzcxIiB5PSI2MjcuNzg1NiI+JiMxMjQ4ODsmIzEyNTQwOyYjMTI0NjM7JiMxMjUzMTsmIzEyNTIyOyYjMTI1MDE7JiMxMjUyNDsmIzEyNDgzOyYjMTI0NzE7JiMxMjUxNzs8L3RleHQ+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQxIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzEzIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0MC45MDkyLDY3Ny4xMTcyLDI1MC45MDkyLDY4MS4xMTcyLDI0MC45MDkyLDY4NS4xMTcyLDI0NC45MDkyLDY4MS4xMTcyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyLjI2NTEiIHgyPSIyNDYuOTA5MiIgeTE9IjY4MS4xMTcyIiB5Mj0iNjgxLjExNzIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDcuMTgzMSIgeD0iMzkuMjY1MSIgeT0iNjYwLjkxODUiPlBPU1QgL2FwaS9hdXRoL3JlZnJlc2g8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAyLjQ3NjYiIHg9IjM5LjI2NTEiIHk9IjY3Ni4wNTEzIj57cmVmcmVzaFRva2VufTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzE0Ij48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUyLjkwOTIiIHgyPSIyOTQuOTA5MiIgeTE9IjcxMC4yNSIgeTI9IjcxMC4yNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTQuOTA5MiIgeDI9IjI5NC45MDkyIiB5MT0iNzEwLjI1IiB5Mj0iNzIzLjI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1My45MDkyIiB4Mj0iMjk0LjkwOTIiIHkxPSI3MjMuMjUiIHkyPSI3MjMuMjUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2My45MDkyLDcxOS4yNSwyNTMuOTA5Miw3MjMuMjUsMjYzLjkwOTIsNzI3LjI1LDI1OS45MDkyLDcyMy4yNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ni4wMDAyIiB4PSIyNTkuOTA5MiIgeT0iNzA1LjE4NDEiPiYjMTI1MjI7JiMxMjUwMTsmIzEyNTI0OyYjMTI0ODM7JiMxMjQ3MTsmIzEyNTE3OyYjMTI0ODg7JiMxMjU0MDsmIzEyNDYzOyYjMTI1MzE7JiMyNjkwODsmIzM1Mzg4OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzE1Ij48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUyLjkwOTIiIHgyPSIyOTQuOTA5MiIgeTE9Ijc1Mi4zODI4IiB5Mj0iNzUyLjM4MjgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk0LjkwOTIiIHgyPSIyOTQuOTA5MiIgeTE9Ijc1Mi4zODI4IiB5Mj0iNzY1LjM4MjgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUzLjkwOTIiIHgyPSIyOTQuOTA5MiIgeTE9Ijc2NS4zODI4IiB5Mj0iNzY1LjM4MjgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2My45MDkyLDc2MS4zODI4LDI1My45MDkyLDc2NS4zODI4LDI2My45MDkyLDc2OS4zODI4LDI1OS45MDkyLDc2NS4zODI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODkuNjI5IiB4PSIyNTkuOTA5MiIgeT0iNzQ3LjMxNjkiPiYjMjYwMzI7JiMxMjM3NTsmIzEyMzU2O0pXVCYjMjk5ODM7JiMyNTEwNDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2cxNiI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0My4yNjUxLDc5MC41MTU2LDMzLjI2NTEsNzk0LjUxNTYsNDMuMjY1MSw3OTguNTE1NiwzOS4yNjUxLDc5NC41MTU2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjM3LjI2NTEiIHgyPSIyNTEuOTA5MiIgeTE9Ijc5NC41MTU2IiB5Mj0iNzk0LjUxNTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDAuMDA3MyIgeD0iNDkuMjY1MSIgeT0iNzg5LjQ0OTciPnthY2Nlc3NUb2tlbn08L3RleHQ+PC9nPjxwYXRoIGQ9Ik0yNTcsODA3LjUxNTYgTDI1Nyw4NjIuNTE1NiBMNDk5LDg2Mi41MTU2IEw0OTksODE3LjUxNTYgTDQ4OSw4MDcuNTE1NiBMMjU3LDgwNy41MTU2IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDg5LDgwNy41MTU2IEw0ODksODE3LjUxNTYgTDQ5OSw4MTcuNTE1NiBMNDg5LDgwNy41MTU2IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDguMDAwMiIgeD0iMjYzIiB5PSI4MjQuNTgyNSI+JiMxMjQ2OTsmIzEyNTQwOyYjMTI0OTY7JiMxMjU0MDsmIzEyMzk5OyYjMTI0NzU7JiMxMjQ4MzsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTsmIzEyNDM0OyYjMjA0NDU7JiMyNTM0NTsmIzEyMzc1OyYjMTIzOTQ7JiMxMjM1Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk1LjAwMDIiIHg9IjI2MyIgeT0iODM5LjcxNTMiPiYjMTI0ODg7JiMxMjU0MDsmIzEyNDYzOyYjMTI1MzE7JiMxMjM5MTsmIzM1NDY5OyYjMzUzODg7JiMyOTM2NjsmIzI0OTA3OyYjMTIzOTI7JiMyNzE3NzsmIzM4NDgwOyYjMTI0MzQ7JiMyMTAyODsmIzI2MDI5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjEuMDAwMyIgeD0iMjYzIiB5PSI4NTQuODQ4MSI+JiMzNjAwMTsmIzIxMjA5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTI0MDg7JiMxMjM5ODsmIzEyNDUwOyYjMTI0NjM7JiMxMjQ3NTsmIzEyNDczOyYjMTI0MzQ7JiMyMTQyNzsmIzI2Njg0OyYjMTIzOTU7JiMyMTA0NjsmIzI0NDgxOzwvdGV4dD48P3BsYW50dW1sLXNyYyBaUEZUSlhEMTVDVmx2b2RjMEkyelJyOElfOFoxNnVaS1VDRkRzMHZxalBkVHA0dXJpVTVZUHFHTkdRcjRJcDBRbUxIUmdtWW5lTVpTbUNDU1Ria2xVMExkanprckRUa2FEdkZDcEZkeWRWeUhYWVhKM0Y4TmcyVVdGNTBrZzZfd3NjeV94eFN5U0J1NzlteDh4S2xGeFZ5dXlCVnNCaG90X1BPQnlkSmVpZF9mUkk5YTRJd0NXYzRIOWwzTGlhNlA2N2pRZmxtMXZNREZydVdXVHViRDRTaGJDQVgzYUNTVzZ3MHdFOVQzV24xdVRZeHNuNWN5akJZU25uYlk2SGJJNFFMQ3NMbXBzMGdoTGNwQTV1ZXBzMkFzX1QzYW5OS0tVc1pWT0doajNVZnBzOXRpd1pEZWxERWplVUh0VFpKRFJIcmw5NEpvM2tmTHJGNUgxNmNwano3cVFzd1F1U3F4LVR4aDN1NVJJcHhyUnpuRjViVDllSzFqRXNfVWZzbTZTeGhBZ0xzQVJraUhZRmNiMUpzQ1pvMkZHRnhNMklWMGs3NHpQZDdGaDcxNm9sT0FjelRLSjZ1eThpOG1NSFBWZU9IaHF3ZU9uNHhqbzhzR3c4dXdDUDhLZ3czcnZTelUzUEdNR0hFS3FrUUowMy1EZWZ0eEItbC1zVXU0a2ViTEFmblJyQlBDYmFaWU50Y1dzZzNVWEM4Q0FwVzV6TWF3YVNIeWpLcDZJUVZJLTNfNWI3cGduLTNpV2xEdS1oZGhJSkRKS0NvRGpQQjB2a2ZtRXEyVUhFQWdYUVNKMkkya2ZIYW9hM2lOdi0tM1JJVEFyek9QcUhXWWZwYk9zVHdwUmgybjFLdWhkZnBTeVRyNkszejRXX3JEOVczRUp4dFRlcmVCSkx6cVdkc1RfQWxsVGxzcDBxSFA0T1VyX1dLMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h2 id="255">25.5 認証コントローラの実装<a class="headerlink" href="#255" title="Permanent link">&para;</a></h2>
<h3 id="api">認証API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.presentation.api</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.AuthService</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.dto.AuthRequest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.dto.AuthResult</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.dto.RefreshRequest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.http.ResponseEntity</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.web.bind.annotation.*</span><span class="p">;</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/api/auth&quot;</span><span class="p">)</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthController</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AuthService</span><span class="w"> </span><span class="n">authService</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ログイン</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/login&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">AuthResult</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">AuthRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">AuthResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authService</span><span class="p">.</span><span class="na">authenticate</span><span class="p">(</span>
<span class="w">            </span><span class="n">request</span><span class="p">.</span><span class="na">getUserId</span><span class="p">(),</span>
<span class="w">            </span><span class="n">request</span><span class="p">.</span><span class="na">getPassword</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">isSuccess</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="mi">401</span><span class="p">).</span><span class="na">body</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * トークンリフレッシュ</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/refresh&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">AuthResult</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">refresh</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">RefreshRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">AuthResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authService</span><span class="p">.</span><span class="na">refreshToken</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="na">getRefreshToken</span><span class="p">());</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">isSuccess</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="mi">401</span><span class="p">).</span><span class="na">body</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ログアウト</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/logout&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">logout</span><span class="p">(</span><span class="nd">@RequestHeader</span><span class="p">(</span><span class="s">&quot;Authorization&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// JWTはステートレスなので、クライアント側でトークンを削除</span>
<span class="w">        </span><span class="c1">// 必要に応じてブラックリストに追加</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">().</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パスワード変更</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/password&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">changePassword</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">PasswordChangeRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@AuthenticationPrincipal</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">authService</span><span class="p">.</span><span class="na">changePassword</span><span class="p">(</span>
<span class="w">            </span><span class="n">userId</span><span class="p">,</span>
<span class="w">            </span><span class="n">request</span><span class="p">.</span><span class="na">getCurrentPassword</span><span class="p">(),</span>
<span class="w">            </span><span class="n">request</span><span class="p">.</span><span class="na">getNewPassword</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">().</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_15">認証サービス<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.application</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.dto.AuthResult</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.user.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.security.JwtTokenProvider</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">userRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">JwtTokenProvider</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">RefreshTokenRepository</span><span class="w"> </span><span class="n">refreshTokenRepository</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 認証処理</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">AuthResult</span><span class="w"> </span><span class="nf">authenticate</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">rawPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ユーザー検索</span>
<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">userOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userRepository</span><span class="p">.</span><span class="na">findByUserId</span><span class="p">(</span><span class="n">UserId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">userId</span><span class="p">));</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">userOpt</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AuthResult</span><span class="p">.</span><span class="na">failure</span><span class="p">(</span><span class="s">&quot;ユーザーIDまたはパスワードが正しくありません&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userOpt</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// ログイン可能かチェック</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">user</span><span class="p">.</span><span class="na">canLogin</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getStatus</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="na">LOCKED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">AuthResult</span><span class="p">.</span><span class="na">failure</span><span class="p">(</span><span class="s">&quot;アカウントがロックされています&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AuthResult</span><span class="p">.</span><span class="na">failure</span><span class="p">(</span><span class="s">&quot;アカウントが無効です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// パスワード検証</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">user</span><span class="p">.</span><span class="na">getPassword</span><span class="p">().</span><span class="na">matches</span><span class="p">(</span><span class="n">rawPassword</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ログイン失敗回数をカウント（将来的にロック機能を実装）</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AuthResult</span><span class="p">.</span><span class="na">failure</span><span class="p">(</span><span class="s">&quot;ユーザーIDまたはパスワードが正しくありません&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// JWTトークン生成</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">accessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">createToken</span><span class="p">(</span>
<span class="w">            </span><span class="n">user</span><span class="p">.</span><span class="na">getUserId</span><span class="p">().</span><span class="na">getValue</span><span class="p">(),</span>
<span class="w">            </span><span class="n">user</span><span class="p">.</span><span class="na">getRole</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// リフレッシュトークン生成</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">refreshToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">createRefreshToken</span><span class="p">(</span>
<span class="w">            </span><span class="n">user</span><span class="p">.</span><span class="na">getUserId</span><span class="p">().</span><span class="na">getValue</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="n">refreshTokenRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span>
<span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">RefreshToken</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getUserId</span><span class="p">(),</span><span class="w"> </span><span class="n">refreshToken</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">AuthResult</span><span class="p">.</span><span class="na">success</span><span class="p">(</span>
<span class="w">            </span><span class="n">user</span><span class="p">.</span><span class="na">getUserId</span><span class="p">().</span><span class="na">getValue</span><span class="p">(),</span>
<span class="w">            </span><span class="n">user</span><span class="p">.</span><span class="na">getRole</span><span class="p">(),</span>
<span class="w">            </span><span class="n">accessToken</span><span class="p">,</span>
<span class="w">            </span><span class="n">refreshToken</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * トークンリフレッシュ</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">AuthResult</span><span class="w"> </span><span class="nf">refreshToken</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">refreshToken</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">validateRefreshToken</span><span class="p">(</span><span class="n">refreshToken</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AuthResult</span><span class="p">.</span><span class="na">failure</span><span class="p">(</span><span class="s">&quot;リフレッシュトークンが無効です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">getUserIdFromRefreshToken</span><span class="p">(</span><span class="n">refreshToken</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// リフレッシュトークンがDBに存在するか確認</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">refreshTokenRepository</span><span class="p">.</span><span class="na">exists</span><span class="p">(</span><span class="n">UserId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">userId</span><span class="p">),</span><span class="w"> </span><span class="n">refreshToken</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AuthResult</span><span class="p">.</span><span class="na">failure</span><span class="p">(</span><span class="s">&quot;リフレッシュトークンが無効です&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// ユーザー取得</span>
<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userRepository</span><span class="p">.</span><span class="na">findByUserId</span><span class="p">(</span><span class="n">UserId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">userId</span><span class="p">))</span>
<span class="w">            </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;ユーザーが見つかりません&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// 新しいアクセストークン生成</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">newAccessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtTokenProvider</span><span class="p">.</span><span class="na">createToken</span><span class="p">(</span>
<span class="w">            </span><span class="n">user</span><span class="p">.</span><span class="na">getUserId</span><span class="p">().</span><span class="na">getValue</span><span class="p">(),</span>
<span class="w">            </span><span class="n">user</span><span class="p">.</span><span class="na">getRole</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">AuthResult</span><span class="p">.</span><span class="na">success</span><span class="p">(</span>
<span class="w">            </span><span class="n">userId</span><span class="p">,</span>
<span class="w">            </span><span class="n">user</span><span class="p">.</span><span class="na">getRole</span><span class="p">(),</span>
<span class="w">            </span><span class="n">newAccessToken</span><span class="p">,</span>
<span class="w">            </span><span class="n">refreshToken</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パスワード変更</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">changePassword</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">currentPassword</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">newPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userRepository</span><span class="p">.</span><span class="na">findByUserId</span><span class="p">(</span><span class="n">UserId</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">userId</span><span class="p">))</span>
<span class="w">            </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;ユーザーが見つかりません&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">user</span><span class="p">.</span><span class="na">getPassword</span><span class="p">().</span><span class="na">matches</span><span class="p">(</span><span class="n">currentPassword</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s">&quot;現在のパスワードが正しくありません&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">changePassword</span><span class="p">(</span><span class="n">newPassword</span><span class="p">);</span>
<span class="w">        </span><span class="n">userRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">updated</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="256">25.6 ドメインモデルの例外設計<a class="headerlink" href="#256" title="Permanent link">&para;</a></h2>
<p>ドメイン層では、専用の例外クラスを定義します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMT8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjIyM3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTI0NHB4O2hlaWdodDoyMjNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjQ0IDIyMyIgd2lkdGg9IjEyNDRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7JiMxMjQ4OTsmIzEyNTEzOyYjMTI0NTI7JiMxMjUzMTsmIzEyMzk4OyYjMjAzNjM7JiMyMjgwNjsmIzM4NTQyOyYjMjM2NTI7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjk5OTIiIHg9IjUyNC4xMzg5IiB5PSIyMi45OTUxIj4mIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MDsmIzEyNTQwOyYjMTI0ODk7JiMxMjUxMzsmIzEyNDUyOyYjMTI1MzE7JiMxMjM5ODsmIzIwMzYzOyYjMjI4MDY7JiMzODU0MjsmIzIzNjUyOzwvdGV4dD48L2c+PCEtLWNsYXNzIFJ1bnRpbWVFeGNlcHRpb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJSdW50aW1lRXhjZXB0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTYwLjI0OSIgeD0iNTAwLjgiIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iNTE1LjgiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik01MTguNzY4OCw2NS45Mzc1IFE1MTguMTkwNiw2Ni4yMzQ0IDUxNy41NSw2Ni4zNzUgUTUxNi45MDk0LDY2LjUzMTMgNTE2LjIwNjMsNjYuNTMxMyBRNTEzLjcwNjMsNjYuNTMxMyA1MTIuMzc4MSw2NC44OTA2IFE1MTEuMDY1Niw2My4yMzQ0IDUxMS4wNjU2LDYwLjEwOTQgUTUxMS4wNjU2LDU2Ljk4NDQgNTEyLjM3ODEsNTUuMzI4MSBRNTEzLjcwNjMsNTMuNjcxOSA1MTYuMjA2Myw1My42NzE5IFE1MTYuOTA5NCw1My42NzE5IDUxNy41NSw1My44MjgxIFE1MTguMjA2Myw1My45ODQ0IDUxOC43Njg4LDU0LjI4MTMgTDUxOC43Njg4LDU3IFE1MTguMTQzOCw1Ni40MjE5IDUxNy41NSw1Ni4xNTYzIFE1MTYuOTU2Myw1NS44NzUgNTE2LjMzMTMsNTUuODc1IFE1MTQuOTg3NSw1NS44NzUgNTE0LjMsNTYuOTUzMSBRNTEzLjYxMjUsNTguMDE1NiA1MTMuNjEyNSw2MC4xMDk0IFE1MTMuNjEyNSw2Mi4yMDMxIDUxNC4zLDYzLjI4MTMgUTUxNC45ODc1LDY0LjM0MzggNTE2LjMzMTMsNjQuMzQzOCBRNTE2Ljk1NjMsNjQuMzQzOCA1MTcuNTUsNjQuMDc4MSBRNTE4LjE0MzgsNjMuNzk2OSA1MTguNzY4OCw2My4yMTg4IEw1MTguNzY4OCw2NS45Mzc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI4LjI0OSIgeD0iNTI5LjgiIHk9IjY1LjE0MzYiPlJ1bnRpbWVFeGNlcHRpb248L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTAxLjgiIHgyPSI2NjAuMDQ5IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1MDEuOCIgeDI9IjY2MC4wNDkiIHkxPSI4NC4yOTY5IiB5Mj0iODQuMjk2OSIvPjwvZz48IS0tY2xhc3MgVXNlckV4Y2VwdGlvbi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IlVzZXJFeGNlcHRpb24iIGRhdGEtc291cmNlLWxpbmU9IjUiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI1MS44NDU3IiB4PSI3IiB5PSIxNTIuMjk2OSIvPjxlbGxpcHNlIGN4PSI3OC4xNDUiIGN5PSIxNjguMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNODEuMTEzOCwxNzMuOTM3NSBRODAuNTM1NiwxNzQuMjM0NCA3OS44OTUsMTc0LjM3NSBRNzkuMjU0NCwxNzQuNTMxMyA3OC41NTEzLDE3NC41MzEzIFE3Ni4wNTEzLDE3NC41MzEzIDc0LjcyMzEsMTcyLjg5MDYgUTczLjQxMDYsMTcxLjIzNDQgNzMuNDEwNiwxNjguMTA5NCBRNzMuNDEwNiwxNjQuOTg0NCA3NC43MjMxLDE2My4zMjgxIFE3Ni4wNTEzLDE2MS42NzE5IDc4LjU1MTMsMTYxLjY3MTkgUTc5LjI1NDQsMTYxLjY3MTkgNzkuODk1LDE2MS44MjgxIFE4MC41NTEzLDE2MS45ODQ0IDgxLjExMzgsMTYyLjI4MTMgTDgxLjExMzgsMTY1IFE4MC40ODg4LDE2NC40MjE5IDc5Ljg5NSwxNjQuMTU2MyBRNzkuMzAxMywxNjMuODc1IDc4LjY3NjMsMTYzLjg3NSBRNzcuMzMyNSwxNjMuODc1IDc2LjY0NSwxNjQuOTUzMSBRNzUuOTU3NSwxNjYuMDE1NiA3NS45NTc1LDE2OC4xMDk0IFE3NS45NTc1LDE3MC4yMDMxIDc2LjY0NSwxNzEuMjgxMyBRNzcuMzMyNSwxNzIuMzQzOCA3OC42NzYzLDE3Mi4zNDM4IFE3OS4zMDEzLDE3Mi4zNDM4IDc5Ljg5NSwxNzIuMDc4MSBRODAuNDg4OCwxNzEuNzk2OSA4MS4xMTM4LDE3MS4yMTg4IEw4MS4xMTM4LDE3My45Mzc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAxLjA1NTciIHg9Ijk4LjY0NSIgeT0iMTczLjE0MzYiPlVzZXJFeGNlcHRpb248L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjI1Ny44NDU3IiB5MT0iMTg0LjI5NjkiIHkyPSIxODQuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIyNTcuODQ1NyIgeTE9IjE5Mi4yOTY5IiB5Mj0iMTkyLjI5NjkiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBVQkxJQ19NRVRIT0QiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjIwNS45NDUzIiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjI1Ljg0NTciIHg9IjI3IiB5PSIyMDkuMjkyIj5Vc2VyRXhjZXB0aW9uKG1lc3NhZ2U6IFN0cmluZyk8L3RleHQ+PC9nPjwhLS1jbGFzcyBVc2VySWRFeGNlcHRpb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJVc2VySWRFeGNlcHRpb24iIGRhdGEtc291cmNlLWxpbmU9IjkiIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI2NC44NjEzIiB4PSIyOTMuNDkiIHk9IjE1Mi4yOTY5Ii8+PGVsbGlwc2UgY3g9IjM2NC42MzUiIGN5PSIxNjguMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzY3LjYwMzgsMTczLjkzNzUgUTM2Ny4wMjU2LDE3NC4yMzQ0IDM2Ni4zODUsMTc0LjM3NSBRMzY1Ljc0NDQsMTc0LjUzMTMgMzY1LjA0MTMsMTc0LjUzMTMgUTM2Mi41NDEzLDE3NC41MzEzIDM2MS4yMTMxLDE3Mi44OTA2IFEzNTkuOTAwNiwxNzEuMjM0NCAzNTkuOTAwNiwxNjguMTA5NCBRMzU5LjkwMDYsMTY0Ljk4NDQgMzYxLjIxMzEsMTYzLjMyODEgUTM2Mi41NDEzLDE2MS42NzE5IDM2NS4wNDEzLDE2MS42NzE5IFEzNjUuNzQ0NCwxNjEuNjcxOSAzNjYuMzg1LDE2MS44MjgxIFEzNjcuMDQxMywxNjEuOTg0NCAzNjcuNjAzOCwxNjIuMjgxMyBMMzY3LjYwMzgsMTY1IFEzNjYuOTc4OCwxNjQuNDIxOSAzNjYuMzg1LDE2NC4xNTYzIFEzNjUuNzkxMywxNjMuODc1IDM2NS4xNjYzLDE2My44NzUgUTM2My44MjI1LDE2My44NzUgMzYzLjEzNSwxNjQuOTUzMSBRMzYyLjQ0NzUsMTY2LjAxNTYgMzYyLjQ0NzUsMTY4LjEwOTQgUTM2Mi40NDc1LDE3MC4yMDMxIDM2My4xMzUsMTcxLjI4MTMgUTM2My44MjI1LDE3Mi4zNDM4IDM2NS4xNjYzLDE3Mi4zNDM4IFEzNjUuNzkxMywxNzIuMzQzOCAzNjYuMzg1LDE3Mi4wNzgxIFEzNjYuOTc4OCwxNzEuNzk2OSAzNjcuNjAzOCwxNzEuMjE4OCBMMzY3LjYwMzgsMTczLjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuMDcxMyIgeD0iMzg1LjEzNSIgeT0iMTczLjE0MzYiPlVzZXJJZEV4Y2VwdGlvbjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyOTQuNDkiIHgyPSI1NTcuMzUxMyIgeTE9IjE4NC4yOTY5IiB5Mj0iMTg0LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyOTQuNDkiIHgyPSI1NTcuMzUxMyIgeTE9IjE5Mi4yOTY5IiB5Mj0iMTkyLjI5NjkiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBVQkxJQ19NRVRIT0QiPjxlbGxpcHNlIGN4PSIzMDQuNDkiIGN5PSIyMDUuOTQ1MyIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIzOC44NjEzIiB4PSIzMTMuNDkiIHk9IjIwOS4yOTIiPlVzZXJJZEV4Y2VwdGlvbihtZXNzYWdlOiBTdHJpbmcpPC90ZXh0PjwvZz48IS0tY2xhc3MgUGFzc3dvcmRFeGNlcHRpb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJQYXNzd29yZEV4Y2VwdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI4Ni4yMDMxIiB4PSI1OTMuODIiIHk9IjE1Mi4yOTY5Ii8+PGVsbGlwc2UgY3g9IjY2NC45NjUiIGN5PSIxNjguMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNjY3LjkzMzgsMTczLjkzNzUgUTY2Ny4zNTU2LDE3NC4yMzQ0IDY2Ni43MTUsMTc0LjM3NSBRNjY2LjA3NDQsMTc0LjUzMTMgNjY1LjM3MTMsMTc0LjUzMTMgUTY2Mi44NzEzLDE3NC41MzEzIDY2MS41NDMxLDE3Mi44OTA2IFE2NjAuMjMwNiwxNzEuMjM0NCA2NjAuMjMwNiwxNjguMTA5NCBRNjYwLjIzMDYsMTY0Ljk4NDQgNjYxLjU0MzEsMTYzLjMyODEgUTY2Mi44NzEzLDE2MS42NzE5IDY2NS4zNzEzLDE2MS42NzE5IFE2NjYuMDc0NCwxNjEuNjcxOSA2NjYuNzE1LDE2MS44MjgxIFE2NjcuMzcxMywxNjEuOTg0NCA2NjcuOTMzOCwxNjIuMjgxMyBMNjY3LjkzMzgsMTY1IFE2NjcuMzA4OCwxNjQuNDIxOSA2NjYuNzE1LDE2NC4xNTYzIFE2NjYuMTIxMywxNjMuODc1IDY2NS40OTYzLDE2My44NzUgUTY2NC4xNTI1LDE2My44NzUgNjYzLjQ2NSwxNjQuOTUzMSBRNjYyLjc3NzUsMTY2LjAxNTYgNjYyLjc3NzUsMTY4LjEwOTQgUTY2Mi43Nzc1LDE3MC4yMDMxIDY2My40NjUsMTcxLjI4MTMgUTY2NC4xNTI1LDE3Mi4zNDM4IDY2NS40OTYzLDE3Mi4zNDM4IFE2NjYuMTIxMywxNzIuMzQzOCA2NjYuNzE1LDE3Mi4wNzgxIFE2NjcuMzA4OCwxNzEuNzk2OSA2NjcuOTMzOCwxNzEuMjE4OCBMNjY3LjkzMzgsMTczLjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzUuNDEzMSIgeD0iNjg1LjQ2NSIgeT0iMTczLjE0MzYiPlBhc3N3b3JkRXhjZXB0aW9uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjU5NC44MiIgeDI9Ijg3OS4wMjMxIiB5MT0iMTg0LjI5NjkiIHkyPSIxODQuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjU5NC44MiIgeDI9Ijg3OS4wMjMxIiB5MT0iMTkyLjI5NjkiIHkyPSIxOTIuMjk2OSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFVCTElDX01FVEhPRCI+PGVsbGlwc2UgY3g9IjYwNC44MiIgY3k9IjIwNS45NDUzIiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYwLjIwMzEiIHg9IjYxMy44MiIgeT0iMjA5LjI5MiI+UGFzc3dvcmRFeGNlcHRpb24obWVzc2FnZTogU3RyaW5nKTwvdGV4dD48L2c+PCEtLWNsYXNzIEF1dGhlbnRpY2F0aW9uRXhjZXB0aW9uLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQXV0aGVudGljYXRpb25FeGNlcHRpb24iIGRhdGEtc291cmNlLWxpbmU9IjE3IiBpZD0iZW50MDAwNiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIzMjIuNzA3IiB4PSI5MTQuNTciIHk9IjE1Mi4yOTY5Ii8+PGVsbGlwc2UgY3g9Ijk4NS43MTUiIGN5PSIxNjguMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNOTg4LjY4MzgsMTczLjkzNzUgUTk4OC4xMDU2LDE3NC4yMzQ0IDk4Ny40NjUsMTc0LjM3NSBROTg2LjgyNDQsMTc0LjUzMTMgOTg2LjEyMTMsMTc0LjUzMTMgUTk4My42MjEzLDE3NC41MzEzIDk4Mi4yOTMxLDE3Mi44OTA2IFE5ODAuOTgwNiwxNzEuMjM0NCA5ODAuOTgwNiwxNjguMTA5NCBROTgwLjk4MDYsMTY0Ljk4NDQgOTgyLjI5MzEsMTYzLjMyODEgUTk4My42MjEzLDE2MS42NzE5IDk4Ni4xMjEzLDE2MS42NzE5IFE5ODYuODI0NCwxNjEuNjcxOSA5ODcuNDY1LDE2MS44MjgxIFE5ODguMTIxMywxNjEuOTg0NCA5ODguNjgzOCwxNjIuMjgxMyBMOTg4LjY4MzgsMTY1IFE5ODguMDU4OCwxNjQuNDIxOSA5ODcuNDY1LDE2NC4xNTYzIFE5ODYuODcxMywxNjMuODc1IDk4Ni4yNDYzLDE2My44NzUgUTk4NC45MDI1LDE2My44NzUgOTg0LjIxNSwxNjQuOTUzMSBROTgzLjUyNzUsMTY2LjAxNTYgOTgzLjUyNzUsMTY4LjEwOTQgUTk4My41Mjc1LDE3MC4yMDMxIDk4NC4yMTUsMTcxLjI4MTMgUTk4NC45MDI1LDE3Mi4zNDM4IDk4Ni4yNDYzLDE3Mi4zNDM4IFE5ODYuODcxMywxNzIuMzQzOCA5ODcuNDY1LDE3Mi4wNzgxIFE5ODguMDU4OCwxNzEuNzk2OSA5ODguNjgzOCwxNzEuMjE4OCBMOTg4LjY4MzgsMTczLjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzEuOTE3IiB4PSIxMDA2LjIxNSIgeT0iMTczLjE0MzYiPkF1dGhlbnRpY2F0aW9uRXhjZXB0aW9uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjkxNS41NyIgeDI9IjEyMzYuMjc3IiB5MT0iMTg0LjI5NjkiIHkyPSIxODQuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjkxNS41NyIgeDI9IjEyMzYuMjc3IiB5MT0iMTkyLjI5NjkiIHkyPSIxOTIuMjk2OSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFVCTElDX01FVEhPRCI+PGVsbGlwc2UgY3g9IjkyNS41NyIgY3k9IjIwNS45NDUzIiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjk2LjcwNyIgeD0iOTM0LjU3IiB5PSIyMDkuMjkyIj5BdXRoZW50aWNhdGlvbkV4Y2VwdGlvbihtZXNzYWdlOiBTdHJpbmcpPC90ZXh0PjwvZz48IS0tcmV2ZXJzZSBsaW5rIFJ1bnRpbWVFeGNlcHRpb24gdG8gVXNlckV4Y2VwdGlvbi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAzIiBkYXRhLWxpbmstdHlwZT0iZXh0ZW5zaW9uIiBkYXRhLXNvdXJjZS1saW5lPSIyMSIgaWQ9ImxuazciPjxwYXRoIGNvZGVMaW5lPSIyMSIgZD0iTTQ4Mi44Njc2LDk0LjI4MjQgQzQxNS4xMDc2LDExMS41NTI0IDMzNC41NywxMzIuMDY2OSAyNTYuODQsMTUxLjg3NjkiIGZpbGw9Im5vbmUiIGlkPSJSdW50aW1lRXhjZXB0aW9uLWJhY2t0by1Vc2VyRXhjZXB0aW9uIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSI1MDAuMzEsODkuODM2OSw0ODEuMzg1OCw4OC40NjgzLDQ4NC4zNDk1LDEwMC4wOTY2LDUwMC4zMSw4OS44MzY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgUnVudGltZUV4Y2VwdGlvbiB0byBVc2VySWRFeGNlcHRpb24tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImV4dGVuc2lvbiIgZGF0YS1zb3VyY2UtbGluZT0iMjIiIGlkPSJsbms4Ij48cGF0aCBjb2RlTGluZT0iMjIiIGQ9Ik01MzQuNjg3NiwxMDMuMzUyNSBDNTExLjQ4NzYsMTIwLjQ0MjUgNDk0LjI0LDEzMy4xMzY5IDQ2OC43OSwxNTEuODc2OSIgZmlsbD0ibm9uZSIgaWQ9IlJ1bnRpbWVFeGNlcHRpb24tYmFja3RvLVVzZXJJZEV4Y2VwdGlvbiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iNTQ5LjE4LDkyLjY3NjksNTMxLjEyOSw5OC41MjE3LDUzOC4yNDYxLDEwOC4xODMzLDU0OS4xOCw5Mi42NzY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgUnVudGltZUV4Y2VwdGlvbiB0byBQYXNzd29yZEV4Y2VwdGlvbi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iZXh0ZW5zaW9uIiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSIyMyIgZD0iTTYyNy4zOTUyLDEwMy4zMDc5IEM2NTAuNzQ1MiwxMjAuMzk3OSA2NjguMTYsMTMzLjEzNjkgNjkzLjc4LDE1MS44NzY5IiBmaWxsPSJub25lIiBpZD0iUnVudGltZUV4Y2VwdGlvbi1iYWNrdG8tUGFzc3dvcmRFeGNlcHRpb24iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjYxMi44Nyw5Mi42NzY5LDYyMy44NTE1LDEwOC4xNDk3LDYzMC45Mzg5LDk4LjQ2NjIsNjEyLjg3LDkyLjY3NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLXJldmVyc2UgbGluayBSdW50aW1lRXhjZXB0aW9uIHRvIEF1dGhlbnRpY2F0aW9uRXhjZXB0aW9uLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJleHRlbnNpb24iIGRhdGEtc291cmNlLWxpbmU9IjI0IiBpZD0ibG5rMTAiPjxwYXRoIGNvZGVMaW5lPSIyNCIgZD0iTTY3OC44MTk3LDkxLjg3MTYgQzc1My44Mzk3LDEwOS4xNzE2IDg0OS43NywxMzEuMjk2OSA5MzkuMDYsMTUxLjg4NjkiIGZpbGw9Im5vbmUiIGlkPSJSdW50aW1lRXhjZXB0aW9uLWJhY2t0by1BdXRoZW50aWNhdGlvbkV4Y2VwdGlvbiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iNjYxLjI4LDg3LjgyNjksNjc3LjQ3MTQsOTcuNzE4Miw2ODAuMTY3OSw4Ni4wMjUxLDY2MS4yOCw4Ny44MjY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIEF5YWlvS2JMVURveXg3N3BkaVREc3ExYVMtVlp2ZU1GY3ZPeVJqeHlrNzdUYXR0VEp2VENVcGNoeC1kNjlMblNvSmM5blNLQUdRTHY5UGN2Z1F1TG9RYTU5UGR2VUozbnFFQks4aFlXR1pNTkRnZzhIY3ZnU041WVVnZ0xHZDE5S01QVWtZUE5CUjlFcG5IQ2xLWFlVN0c3MDhkb18yOHFfSFlZVTRubUIydDlJMEx3QVphSGYxM0w3MW5vTTRyMzNuYTVjbmZUTlRIR21BQzZvUlN1TDY3dTJPU3c3NnU2MDAwMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_16">例外の使い分け<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>例外クラス</th>
<th>用途</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>UserException</td>
<td>ユーザー全般のエラー</td>
<td>必須項目未入力、ユーザー不存在</td>
</tr>
<tr>
<td>UserIdException</td>
<td>ユーザーID形式エラー</td>
<td>形式不正（ACCで始まらない等）</td>
</tr>
<tr>
<td>PasswordException</td>
<td>パスワードポリシー違反</td>
<td>文字数不足、複雑性不足</td>
</tr>
<tr>
<td>AuthenticationException</td>
<td>認証失敗</td>
<td>パスワード不一致、アカウントロック</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="_17">まとめ<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h2>
<p>本章では、財務会計システムの認証・ユーザー管理機能について解説しました。</p>
<h3 id="_18">重要なポイント<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>ロールベースアクセス制御</strong>: 財務データの機密性を考慮し、4種類のロール（ADMIN、EXECUTIVE、MANAGER、ACCOUNTANT）と詳細な権限を定義しました。</p>
</li>
<li>
<p><strong>強力なパスワードポリシー</strong>: 財務システムにふさわしい強力なパスワードポリシー（8文字以上、大文字・小文字・数字・特殊文字を含む）を実装しました。</p>
</li>
<li>
<p><strong>JWT認証</strong>: ステートレスな認証方式を採用し、スケーラビリティと安全性を両立しています。リフレッシュトークンによるトークン更新も実装しています。</p>
</li>
<li>
<p><strong>Spring Security統合</strong>: エンドポイントごとに適切な権限チェックを設定し、仕訳承認や財務分析など機能ごとにアクセス制御を行っています。</p>
</li>
</ol>
<h3 id="_19">財務会計システム固有の考慮点<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>項目</th>
<th>対応</th>
</tr>
</thead>
<tbody>
<tr>
<td>職務分離</td>
<td>仕訳入力者と承認者の分離（Role設計）</td>
</tr>
<tr>
<td>監査対応</td>
<td>認証ログの記録（次章で解説）</td>
</tr>
<tr>
<td>データ保護</td>
<td>強力な認証とロールベースアクセス制御</td>
</tr>
<tr>
<td>セッション管理</td>
<td>ステートレスJWTによる安全な管理</td>
</tr>
</tbody>
</table>
<p>次章では、データダウンロード機能について解説します。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/case-study-accounting" target="_blank" rel="noopener" title="財務会計システム ケーススタディ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../assets/js/extra.js"></script>
      
    
  </body>
</html>