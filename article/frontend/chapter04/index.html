
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="財務会計システムの設計・開発ドキュメント">
      
      
        <meta name="author" content="Project Team">
      
      
      
        <link rel="prev" href="../chapter03/">
      
      
        <link rel="next" href="../chapter05/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第4章 - 財務会計システム ケーススタディ</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="財務会計システム ケーススタディ" class="md-header__button md-logo" aria-label="財務会計システム ケーススタディ" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            財務会計システム ケーススタディ
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第4章
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/case-study-accounting" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    case-study-accounting
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../requirements/requirements_definition/" class="md-tabs__link">
          
  
  
  要件定義

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../design/architecture_backend/" class="md-tabs__link">
          
  
  
  設計

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../development/release_plan/" class="md-tabs__link">
          
  
  
  開発

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../operation/dev_container/" class="md-tabs__link">
          
  
  
  運用

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89/" class="md-tabs__link">
          
  
  
  リファレンス

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../template/ADR/" class="md-tabs__link">
          
  
  
  テンプレート

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践ガイド

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="財務会計システム ケーススタディ" class="md-nav__button md-logo" aria-label="財務会計システム ケーススタディ" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    財務会計システム ケーススタディ
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/case-study-accounting" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    case-study-accounting
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    要件定義
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    要件定義
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/requirements_definition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/business_usecase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ビジネスユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/system_usecase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    システムユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../requirements/user_story/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ユーザーストーリー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    アーキテクチャ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    アーキテクチャ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/architecture_infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インフラストラクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    モデル設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    モデル設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/data-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    データモデル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/domain-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ドメインモデル
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/ui-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI 設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/test_strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    テスト戦略
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/non_functional/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    非機能要件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/operation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用要件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/tech_stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック選定
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    開発
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    開発
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/release_plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    リリース計画
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    イテレーション計画
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    イテレーション計画
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/iteration_plan-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    運用
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    運用
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/dev_container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    開発コンテナ構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/backend_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンド構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/backend_demo_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    バックエンドデモ環境
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド構築手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/frontend_demo_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    フロントエンドデモ環境
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/deploy_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    デモ環境デプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/third_party_service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    外部サービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operation/sonarqube_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SonarQube セットアップガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    リファレンス
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    リファレンス
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    開発ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%88%E3%81%84%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%A8%E3%81%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    よいソフトウェアとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%A8%E3%83%86%E3%82%B9%E3%83%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    コーディングとテストガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アーキテクチャ設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%87%E3%83%BC%E3%82%BF%E3%83%A2%E3%83%87%E3%83%AB%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    データモデル設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%83%A2%E3%83%87%E3%83%AB%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ドメインモデル設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/UI%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%86%E3%82%B9%E3%83%88%E6%88%A6%E7%95%A5%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    テスト戦略ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%9D%9E%E6%A9%9F%E8%83%BD%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    非機能要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E9%81%8B%E7%94%A8%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9%E4%BD%9C%E6%88%90%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ユースケース作成ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E3%83%BB%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%88%E7%94%BB%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    リリース・イテレーション計画ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    エクストリームプログラミング
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インフラ設計ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/Java%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Javaアプリケーション環境構築ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/TypeScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%82%AC%E3%82%A4%E3%83%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TypeScriptアプリケーション環境構築ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    テンプレート
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    テンプレート
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/ADR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%8C%E4%BA%86%E5%A0%B1%E5%91%8A%E6%9B%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イテレーション完了報告書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%82%A4%E3%83%B3%E3%82%BB%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%87%E3%83%83%E3%82%AD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    インセプションデッキ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E3%81%BE%E3%81%9A%E3%81%93%E3%82%8C%E3%82%92%E8%AA%AD%E3%82%82%E3%81%86%E3%83%AA%E3%82%B9%E3%83%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    まずこれを読もうリスト
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E5%AE%8C%E5%85%A8%E5%BD%A2%E5%BC%8F%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    完全形式のユースケース
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    要件定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../template/%E8%A8%AD%E8%A8%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践ガイド
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践ガイド
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    バックエンド編（Java版）
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    バックエンド編（Java版）
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter00/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" checked>
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    フロントエンド編（React版）
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    フロントエンド編（React版）
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter00/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第4章
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#41-container-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Container / View パターン
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 Container / View パターン">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#411" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1.1 パターンの概要
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#412-container" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1.2 Container コンポーネントの責務
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#413-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1.3 View コンポーネントの責務
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#414" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1.4 ディレクトリ構成
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 状態管理パターン
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 状態管理パターン">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.1 状態の分類
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-tanstack-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.2 サーバー状態管理（TanStack Query）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-react-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.3 クライアント状態管理（React Context）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#424-provider" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.4 Provider の構成
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 型安全性の確保
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 型安全性の確保">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431-orval" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.1 Orval による型定義の自動生成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432-union" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.2 Union 型による厳密な型定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#433-props" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.3 Props の型定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#434" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4 型ガード関数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 財務会計特有の考慮事項
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4 財務会計特有の考慮事項">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#441" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.1 金額の取り扱い
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#442" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.2 貸借表示
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#443" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3 貸借バランスの検証
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#444" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.4 会計期間の管理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#445" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5 権限による表示制御
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 コンポーネント設計指針
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5 コンポーネント設計指針">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#451" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.1 命名規則
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#452-props" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.2 Props 設計の原則
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#453" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.3 ファイル構成
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6 まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.6 まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        重要ポイント
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        次章の内容
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="4">第4章: アーキテクチャ設計<a class="headerlink" href="#4" title="Permanent link">&para;</a></h1>
<p>本章では、財務会計システムのフロントエンドアーキテクチャについて詳しく解説します。Container / View パターンを中心に、状態管理戦略、型安全性の確保、財務会計特有の UI 設計上の考慮事項を説明します。</p>
<h2 id="41-container-view">4.1 Container / View パターン<a class="headerlink" href="#41-container-view" title="Permanent link">&para;</a></h2>
<h3 id="411">4.1.1 パターンの概要<a class="headerlink" href="#411" title="Permanent link">&para;</a></h3>
<p>Container / View パターン（Presentational and Container Components パターンとも呼ばれる）は、コンポーネントを「データ取得・状態管理」と「表示」の2つの責務に分離するアーキテクチャパターンです。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQ0M3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6OTUxcHg7aGVpZ2h0OjQ0M3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDk1MSA0NDMiIHdpZHRoPSI5NTFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPkNvbnRhaW5lciAvIFZpZXcgJiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTAuOTYxNyIgeD0iMzczLjAxOTIiIHk9IjIyLjk5NTEiPkNvbnRhaW5lciAvIFZpZXcgJiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIENvbnRhaW5lcj8/Pz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iQ29udGFpbmVyLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfQ29udGFpbmVyLi4uLi4uIj48cGF0aCBkPSJNNDY5LjUsNDMuMjk2OSBMNjMxLjY2MzcsNDMuMjk2OSBBMy43NSwzLjc1IDAgMCAxIDYzNC4xNjM3LDQ1Ljc5NjkgTDY0MS4xNjM3LDY1LjU5MzggTDk0MS41LDY1LjU5MzggQTIuNSwyLjUgMCAwIDEgOTQ0LDY4LjA5MzggTDk0NCwyMzcuNTc2OSBBMi41LDIuNSAwIDAgMSA5NDEuNSwyNDAuMDc2OSBMNDY5LjUsMjQwLjA3NjkgQTIuNSwyLjUgMCAwIDEgNDY3LDIzNy41NzY5IEw0NjcsNDUuNzk2OSBBMi41LDIuNSAwIDAgMSA0NjkuNSw0My4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0NjciIHgyPSI2NDEuMTYzNyIgeTE9IjY1LjU5MzgiIHkyPSI2NS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2MS4xNjM3IiB4PSI0NzEiIHk9IjU4LjI5MiI+Q29udGFpbmVyJiM2NTI4ODsmIzEyNDY3OyYjMTI1MzE7JiMxMjQ4NjsmIzEyNDkwOyYjNjUyODk7PC90ZXh0PjwvZz48IS0tY2x1c3RlciBWaWV3Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9IlZpZXcuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMjEiIGRhdGEtdWlkPSJlbnQwMDA3IiBpZD0iY2x1c3Rlcl9WaWV3Li4uLi4iPjxwYXRoIGQ9Ik04LjUsMjg5LjA3NjkgTDExNy41NjIyLDI4OS4wNzY5IEEzLjc1LDMuNzUgMCAwIDEgMTIwLjA2MjIsMjkxLjU3NjkgTDEyNy4wNjIyLDMxMS4zNzM4IEw4OTEuNSwzMTEuMzczOCBBMi41LDIuNSAwIDAgMSA4OTQsMzEzLjg3MzggTDg5NCw0MzQuNDY2OSBBMi41LDIuNSAwIDAgMSA4OTEuNSw0MzYuOTY2OSBMOC41LDQzNi45NjY5IEEyLjUsMi41IDAgMCAxIDYsNDM0LjQ2NjkgTDYsMjkxLjU3NjkgQTIuNSwyLjUgMCAwIDEgOC41LDI4OS4wNzY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2IiB4Mj0iMTI3LjA2MjIiIHkxPSIzMTEuMzczOCIgeTI9IjMxMS4zNzM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC4wNjIyIiB4PSIxMCIgeT0iMzA0LjA3MiI+VmlldyYjNjUyODg7JiMxMjQ5OTsmIzEyNTE3OyYjMTI1NDA7JiM2NTI4OTs8L3RleHQ+PC9nPjwhLS1jbGFzcyBBY2NvdW50Q29udGFpbmVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkFjY291bnRDb250YWluZXIiIGRhdGEtc291cmNlLWxpbmU9IjQiIGRhdGEtdWlkPSJlbnQwMDAzIiBpZD0iZW50aXR5X0FjY291bnRDb250YWluZXIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTQ1Ljc4MTMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2NS4zMDI3IiB4PSI0ODMuMzUiIHk9Ijc4LjI5NjkiLz48ZWxsaXBzZSBjeD0iNTAyLjAwMjMiIGN5PSI5NC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik01MDQuOTcxLDk5LjkzNzUgUTUwNC4zOTI5LDEwMC4yMzQ0IDUwMy43NTIzLDEwMC4zNzUgUTUwMy4xMTE3LDEwMC41MzEzIDUwMi40MDg1LDEwMC41MzEzIFE0OTkuOTA4NSwxMDAuNTMxMyA0OTguNTgwNCw5OC44OTA2IFE0OTcuMjY3OSw5Ny4yMzQ0IDQ5Ny4yNjc5LDk0LjEwOTQgUTQ5Ny4yNjc5LDkwLjk4NDQgNDk4LjU4MDQsODkuMzI4MSBRNDk5LjkwODUsODcuNjcxOSA1MDIuNDA4NSw4Ny42NzE5IFE1MDMuMTExNyw4Ny42NzE5IDUwMy43NTIzLDg3LjgyODEgUTUwNC40MDg1LDg3Ljk4NDQgNTA0Ljk3MSw4OC4yODEzIEw1MDQuOTcxLDkxIFE1MDQuMzQ2LDkwLjQyMTkgNTAzLjc1MjMsOTAuMTU2MyBRNTAzLjE1ODUsODkuODc1IDUwMi41MzM1LDg5Ljg3NSBRNTAxLjE4OTgsODkuODc1IDUwMC41MDIzLDkwLjk1MzEgUTQ5OS44MTQ4LDkyLjAxNTYgNDk5LjgxNDgsOTQuMTA5NCBRNDk5LjgxNDgsOTYuMjAzMSA1MDAuNTAyMyw5Ny4yODEzIFE1MDEuMTg5OCw5OC4zNDM4IDUwMi41MzM1LDk4LjM0MzggUTUwMy4xNTg1LDk4LjM0MzggNTAzLjc1MjMsOTguMDc4MSBRNTA0LjM0Niw5Ny43OTY5IDUwNC45NzEsOTcuMjE4OCBMNTA0Ljk3MSw5OS45Mzc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1LjE4NjUiIHg9IjUxNi44MTM5IiB5PSI5OS4xNDM2Ij5BY2NvdW50Q29udGFpbmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ4NC4zNSIgeDI9IjY0Ny42NTI3IiB5MT0iMTEwLjI5NjkiIHkyPSIxMTAuMjk2OSIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjQ5MS4zNSIgeT0iMTIwLjk0NTMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MC42MTYyIiB4PSI1MDMuMzUiIHk9IjEyNy4yOTIiPm1vZGFsU3RhdGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDg0LjM1IiB4Mj0iNjQ3LjY1MjciIHkxPSIxMzQuNTkzOCIgeTI9IjEzNC41OTM4Ii8+PHJlY3QgZmlsbD0iI0YyNEQ1QyIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNDkxLjM1IiB5PSIxNDUuMjQyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNC43MjE3IiB4PSI1MDMuMzUiIHk9IjE1MS41ODg5Ij51c2VHZXRBY2NvdW50cygpPC90ZXh0PjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjQ5MS4zNSIgeT0iMTYxLjUzOTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzkuMzAyNyIgeD0iNTAzLjM1IiB5PSIxNjcuODg1NyI+dXNlQ3JlYXRlQWNjb3VudCgpPC90ZXh0PjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjQ5MS4zNSIgeT0iMTc3LjgzNTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDUuNDY0OCIgeD0iNTAzLjM1IiB5PSIxODQuMTgyNiI+aGFuZGxlQ3JlYXRlKCk8L3RleHQ+PHJlY3QgZmlsbD0iI0YyNEQ1QyIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNDkxLjM1IiB5PSIxOTQuMTMyOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS4zNDA4IiB4PSI1MDMuMzUiIHk9IjIwMC40Nzk1Ij5oYW5kbGVVcGRhdGUoKTwvdGV4dD48cmVjdCBmaWxsPSIjRjI0RDVDIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI0OTEuMzUiIHk9IjIxMC40Mjk3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjYzNzciIHg9IjUwMy4zNSIgeT0iMjE2Ljc3NjQiPmhhbmRsZURlbGV0ZSgpPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01ONCIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iZW50aXR5X0dNTjQiPjxwYXRoIGQ9Ik02ODMuODcsMTA4LjM1NjkgTDY4My44NywxNDcuMTg2OSBMNjQ4Ljk3LDE1MS4xODY5IEw2ODMuODcsMTU1LjE4NjkgTDY4My44NywxOTQuMDIwOSBBMCwwIDAgMCAwIDY4My44NywxOTQuMDIwOSBMOTI4LjEyOTksMTk0LjAyMDkgQTAsMCAwIDAgMCA5MjguMTI5OSwxOTQuMDIwOSBMOTI4LjEyOTksMTE4LjM1NjkgTDkxOC4xMjk5LDEwOC4zNTY5IEw2ODMuODcsMTA4LjM1NjkgQTAsMCAwIDAgMCA2ODMuODcsMTA4LjM1NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik05MTguMTI5OSwxMDguMzU2OSBMOTE4LjEyOTksMTE4LjM1NjkgTDkyOC4xMjk5LDExOC4zNTY5IEw5MTguMTI5OSwxMDguMzU2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAuMzc5OSIgeD0iNjg5Ljg3IiB5PSIxMjUuNDIzOCI+JiMzNjAxMjsmIzIxMjA5Ozo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjIzLjI1OTkiIHg9IjY4OS44NyIgeT0iMTQwLjU1NjYiPiYjMTI1Mzk7QVBJICYjMjE2Mjg7JiMxMjQwMzsmIzIwOTg2OyYjMTIzNzU7JiM2NTI4ODtPcnZhbCAmIzI5OTgzOyYjMjUxMDQ7IGhvb2tzJiM2NTI4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iNjg5Ljg3IiB5PSIxNTUuNjg5NCI+JiMxMjUzOTsmIzI5MzY2OyYjMjQ5MDc7JiMzMTY0OTsmIzI5NzAyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDMuMDAwMiIgeD0iNjg5Ljg3IiB5PSIxNzAuODIyMiI+JiMxMjUzOTsmIzEyNDUyOyYjMTI1MDU7JiMxMjUzMTsmIzEyNDg4OyYjMTI0OTU7JiMxMjUzMTsmIzEyNDg5OyYjMTI1MjI7JiMxMjUzMTsmIzEyNDY0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuMDAwMSIgeD0iNjg5Ljg3IiB5PSIxODUuOTU1Ij4mIzEyNTM5OyYjMTI0OTk7JiMxMjQ3MjsmIzEyNDkzOyYjMTI0NzM7JiMxMjUyNTsmIzEyNDcyOyYjMTI0ODM7JiMxMjQ2Mzs8L3RleHQ+PC9nPjwhLS1jbGFzcyBBY2NvdW50Q29sbGVjdGlvbi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJBY2NvdW50Q29sbGVjdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMjIiIGRhdGEtdWlkPSJlbnQwMDA4IiBpZD0iZW50aXR5X0FjY291bnRDb2xsZWN0aW9uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9Ijk2Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIyNC40ODE0IiB4PSIyMS43NiIgeT0iMzI0LjA3NjkiLz48ZWxsaXBzZSBjeD0iNjYuNzQwNSIgY3k9IjM0MC4wNzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik02OS43MDkyLDM0NS43MTc1IFE2OS4xMzExLDM0Ni4wMTQ0IDY4LjQ5MDUsMzQ2LjE1NSBRNjcuODQ5OCwzNDYuMzExMyA2Ny4xNDY3LDM0Ni4zMTEzIFE2NC42NDY3LDM0Ni4zMTEzIDYzLjMxODYsMzQ0LjY3MDYgUTYyLjAwNjEsMzQzLjAxNDQgNjIuMDA2MSwzMzkuODg5NCBRNjIuMDA2MSwzMzYuNzY0NCA2My4zMTg2LDMzNS4xMDgxIFE2NC42NDY3LDMzMy40NTE5IDY3LjE0NjcsMzMzLjQ1MTkgUTY3Ljg0OTgsMzMzLjQ1MTkgNjguNDkwNSwzMzMuNjA4MSBRNjkuMTQ2NywzMzMuNzY0NCA2OS43MDkyLDMzNC4wNjEzIEw2OS43MDkyLDMzNi43OCBRNjkuMDg0MiwzMzYuMjAxOSA2OC40OTA1LDMzNS45MzYzIFE2Ny44OTY3LDMzNS42NTUgNjcuMjcxNywzMzUuNjU1IFE2NS45MjgsMzM1LjY1NSA2NS4yNDA1LDMzNi43MzMxIFE2NC41NTMsMzM3Ljc5NTYgNjQuNTUzLDMzOS44ODk0IFE2NC41NTMsMzQxLjk4MzEgNjUuMjQwNSwzNDMuMDYxMyBRNjUuOTI4LDM0NC4xMjM4IDY3LjI3MTcsMzQ0LjEyMzggUTY3Ljg5NjcsMzQ0LjEyMzggNjguNDkwNSwzNDMuODU4MSBRNjkuMDg0MiwzNDMuNTc2OSA2OS43MDkyLDM0Mi45OTg4IEw2OS43MDkyLDM0NS43MTc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI2LjAyMDUiIHg9Ijg3LjI0MDUiIHk9IjM0NC45MjM2Ij5BY2NvdW50Q29sbGVjdGlvbjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMi43NiIgeDI9IjI0NS4yNDE0IiB5MT0iMzU2LjA3NjkiIHkyPSIzNTYuMDc2OSIvPjxlbGxpcHNlIGN4PSIzMi43NiIgY3k9IjM2OS43MjUzIiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzkuOTMxNiIgeD0iNDEuNzYiIHk9IjM3My4wNzIiPmFjY291bnRzOiBBY2NvdW50W108L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjIuNzYiIHgyPSIyNDUuMjQxNCIgeTE9IjM4MC4zNzM4IiB5Mj0iMzgwLjM3MzgiLz48ZWxsaXBzZSBjeD0iMzIuNzYiIGN5PSIzOTQuMDIyMiIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk4LjQ4MTQiIHg9IjQxLjc2IiB5PSIzOTcuMzY4OSI+b25TZWxlY3Q6IChhY2NvdW50KSA9Jmd0OyB2b2lkPC90ZXh0PjxlbGxpcHNlIGN4PSIzMi43NiIgY3k9IjQxMC4zMTkxIiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDYuMzQzOCIgeD0iNDEuNzYiIHk9IjQxMy42NjU3Ij5vbkNyZWF0ZTogKCkgPSZndDsgdm9pZDwvdGV4dD48L2c+PCEtLWNsYXNzIEFjY291bnRTaW5nbGUtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iQWNjb3VudFNpbmdsZSIgZGF0YS1zb3VyY2UtbGluZT0iMjgiIGRhdGEtdWlkPSJlbnQwMDA5IiBpZD0iZW50aXR5X0FjY291bnRTaW5nbGUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iOTYuODkwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTcxLjUxNjYiIHg9IjQ4MC4yNCIgeT0iMzI0LjA3NjkiLz48ZWxsaXBzZSBjeD0iNTEzLjEwNzMiIGN5PSIzNDAuMDc2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNTE2LjA3NiwzNDUuNzE3NSBRNTE1LjQ5NzksMzQ2LjAxNDQgNTE0Ljg1NzMsMzQ2LjE1NSBRNTE0LjIxNjcsMzQ2LjMxMTMgNTEzLjUxMzUsMzQ2LjMxMTMgUTUxMS4wMTM1LDM0Ni4zMTEzIDUwOS42ODU0LDM0NC42NzA2IFE1MDguMzcyOSwzNDMuMDE0NCA1MDguMzcyOSwzMzkuODg5NCBRNTA4LjM3MjksMzM2Ljc2NDQgNTA5LjY4NTQsMzM1LjEwODEgUTUxMS4wMTM1LDMzMy40NTE5IDUxMy41MTM1LDMzMy40NTE5IFE1MTQuMjE2NywzMzMuNDUxOSA1MTQuODU3MywzMzMuNjA4MSBRNTE1LjUxMzUsMzMzLjc2NDQgNTE2LjA3NiwzMzQuMDYxMyBMNTE2LjA3NiwzMzYuNzggUTUxNS40NTEsMzM2LjIwMTkgNTE0Ljg1NzMsMzM1LjkzNjMgUTUxNC4yNjM1LDMzNS42NTUgNTEzLjYzODUsMzM1LjY1NSBRNTEyLjI5NDgsMzM1LjY1NSA1MTEuNjA3MywzMzYuNzMzMSBRNTEwLjkxOTgsMzM3Ljc5NTYgNTEwLjkxOTgsMzM5Ljg4OTQgUTUxMC45MTk4LDM0MS45ODMxIDUxMS42MDczLDM0My4wNjEzIFE1MTIuMjk0OCwzNDQuMTIzOCA1MTMuNjM4NSwzNDQuMTIzOCBRNTE0LjI2MzUsMzQ0LjEyMzggNTE0Ljg1NzMsMzQzLjg1ODEgUTUxNS40NTEsMzQzLjU3NjkgNTE2LjA3NiwzNDIuOTk4OCBMNTE2LjA3NiwzNDUuNzE3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk5LjgxMTUiIHg9IjUzMS4wNzc4IiB5PSIzNDQuOTIzNiI+QWNjb3VudFNpbmdsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI0ODEuMjQiIHgyPSI2NTAuNzU2NiIgeTE9IjM1Ni4wNzY5IiB5Mj0iMzU2LjA3NjkiLz48ZWxsaXBzZSBjeD0iNDkxLjI0IiBjeT0iMzY5LjcyNTMiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMS43MTM5IiB4PSI1MDAuMjQiIHk9IjM3My4wNzIiPmFjY291bnQ6IEFjY291bnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDgxLjI0IiB4Mj0iNjUwLjc1NjYiIHkxPSIzODAuMzczOCIgeTI9IjM4MC4zNzM4Ii8+PGVsbGlwc2UgY3g9IjQ5MS4yNCIgY3k9IjM5NC4wMjIyIiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjYuNjI4OSIgeD0iNTAwLjI0IiB5PSIzOTcuMzY4OSI+b25FZGl0OiAoKSA9Jmd0OyB2b2lkPC90ZXh0PjxlbGxpcHNlIGN4PSI0OTEuMjQiIGN5PSI0MTAuMzE5MSIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ1LjUxNjYiIHg9IjUwMC4yNCIgeT0iNDEzLjY2NTciPm9uRGVsZXRlOiAoKSA9Jmd0OyB2b2lkPC90ZXh0PjwvZz48IS0tY2xhc3MgQWNjb3VudEVkaXRNb2RhbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJBY2NvdW50RWRpdE1vZGFsIiBkYXRhLXNvdXJjZS1saW5lPSIzNCIgZGF0YS11aWQ9ImVudDAwMTAiIGlkPSJlbnRpdHlfQWNjb3VudEVkaXRNb2RhbCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI5Ni44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTEuNDE2IiB4PSI2ODYuMjkiIHk9IjMyNC4wNzY5Ii8+PGVsbGlwc2UgY3g9IjcxNi4zNzk1IiBjeT0iMzQwLjA3NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTcxOS4zNDgzLDM0NS43MTc1IFE3MTguNzcwMSwzNDYuMDE0NCA3MTguMTI5NSwzNDYuMTU1IFE3MTcuNDg4OSwzNDYuMzExMyA3MTYuNzg1OCwzNDYuMzExMyBRNzE0LjI4NTgsMzQ2LjMxMTMgNzEyLjk1NzYsMzQ0LjY3MDYgUTcxMS42NDUxLDM0My4wMTQ0IDcxMS42NDUxLDMzOS44ODk0IFE3MTEuNjQ1MSwzMzYuNzY0NCA3MTIuOTU3NiwzMzUuMTA4MSBRNzE0LjI4NTgsMzMzLjQ1MTkgNzE2Ljc4NTgsMzMzLjQ1MTkgUTcxNy40ODg5LDMzMy40NTE5IDcxOC4xMjk1LDMzMy42MDgxIFE3MTguNzg1OCwzMzMuNzY0NCA3MTkuMzQ4MywzMzQuMDYxMyBMNzE5LjM0ODMsMzM2Ljc4IFE3MTguNzIzMywzMzYuMjAxOSA3MTguMTI5NSwzMzUuOTM2MyBRNzE3LjUzNTgsMzM1LjY1NSA3MTYuOTEwOCwzMzUuNjU1IFE3MTUuNTY3LDMzNS42NTUgNzE0Ljg3OTUsMzM2LjczMzEgUTcxNC4xOTIsMzM3Ljc5NTYgNzE0LjE5MiwzMzkuODg5NCBRNzE0LjE5MiwzNDEuOTgzMSA3MTQuODc5NSwzNDMuMDYxMyBRNzE1LjU2NywzNDQuMTIzOCA3MTYuOTEwOCwzNDQuMTIzOCBRNzE3LjUzNTgsMzQ0LjEyMzggNzE4LjEyOTUsMzQzLjg1ODEgUTcxOC43MjMzLDM0My41NzY5IDcxOS4zNDgzLDM0Mi45OTg4IEw3MTkuMzQ4MywzNDUuNzE3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS44ODM4IiB4PSI3MzMuNzMyNyIgeT0iMzQ0LjkyMzYiPkFjY291bnRFZGl0TW9kYWw8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjg3LjI5IiB4Mj0iODc2LjcwNiIgeTE9IjM1Ni4wNzY5IiB5Mj0iMzU2LjA3NjkiLz48ZWxsaXBzZSBjeD0iNjk3LjI5IiBjeT0iMzY5LjcyNTMiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyOS4xNDQ1IiB4PSI3MDYuMjkiIHk9IjM3My4wNzIiPmFjY291bnQ/OiBBY2NvdW50PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjY4Ny4yOSIgeDI9Ijg3Ni43MDYiIHkxPSIzODAuMzczOCIgeTI9IjM4MC4zNzM4Ii8+PGVsbGlwc2UgY3g9IjY5Ny4yOSIgY3k9IjM5NC4wMjIyIiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjUuNDE2IiB4PSI3MDYuMjkiIHk9IjM5Ny4zNjg5Ij5vblNhdmU6IChkYXRhKSA9Jmd0OyB2b2lkPC90ZXh0PjxlbGxpcHNlIGN4PSI2OTcuMjkiIGN5PSI0MTAuMzE5MSIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ2Ljk0NTMiIHg9IjcwNi4yOSIgeT0iNDEzLjY2NTciPm9uQ2FuY2VsOiAoKSA9Jmd0OyB2b2lkPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OMTEiIGRhdGEtc291cmNlLWxpbmU9IjQxIiBkYXRhLXVpZD0iZW50MDAxMiIgaWQ9ImVudGl0eV9HTU4xMSI+PHBhdGggZD0iTTI4MSwzMjkuNjg2OSBMMjgxLDM2OC41MTY5IEwyNDYuNzEsMzcyLjUxNjkgTDI4MSwzNzYuNTE2OSBMMjgxLDQxNS4zNTA5IEEwLDAgMCAwIDAgMjgxLDQxNS4zNTA5IEw0NDUuMDAwMiw0MTUuMzUwOSBBMCwwIDAgMCAwIDQ0NS4wMDAyLDQxNS4zNTA5IEw0NDUuMDAwMiwzMzkuNjg2OSBMNDM1LjAwMDIsMzI5LjY4NjkgTDI4MSwzMjkuNjg2OSBBMCwwIDAgMCAwIDI4MSwzMjkuNjg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQzNS4wMDAyLDMyOS42ODY5IEw0MzUuMDAwMiwzMzkuNjg2OSBMNDQ1LjAwMDIsMzM5LjY4NjkgTDQzNS4wMDAyLDMyOS42ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMC4zNzk5IiB4PSIyODciIHk9IjM0Ni43NTM4Ij4mIzM2MDEyOyYjMjEyMDk7OjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIyODciIHk9IjM2MS44ODY2Ij4mIzEyNTM5OyYjMzQ5MjA7JiMzMTAzNDsmIzEyNTI1OyYjMTI0NzI7JiMxMjQ4MzsmIzEyNDYzOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTguMjk1IiB4PSIyODciIHk9IjM3Ny4wMTk0Ij4mIzEyNTM5O1Byb3BzICYjMTIzOTg7JiMxMjQxNTsmIzEyMzk1OyYjMjAzODE7JiMyMzM4NDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQzLjAwMDIiIHg9IjI4NyIgeT0iMzkyLjE1MjIiPiYjMTI1Mzk7JiMzMjAyMDsmIzMxODgzOyYjMTIzOTQ7JiMxMjQ2NzsmIzEyNTMxOyYjMTI1MDk7JiMxMjU0MDsmIzEyNDkzOyYjMTI1MzE7JiMxMjQ4ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iMjg3IiB5PSI0MDcuMjg1Ij4mIzEyNTM5OyYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTIzNjQ7JiMyMzQ4MTsmIzI2MTMxOzwvdGV4dD48L2c+PCEtLWxpbmsgQWNjb3VudENvbnRhaW5lciB0byBBY2NvdW50Q29sbGVjdGlvbi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJBY2NvdW50Q29udGFpbmVyIiBkYXRhLWVudGl0eS0yPSJBY2NvdW50Q29sbGVjdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iNDkiIGRhdGEtdWlkPSJsbmsxNCIgaWQ9ImxpbmtfQWNjb3VudENvbnRhaW5lcl9BY2NvdW50Q29sbGVjdGlvbiI+PHBhdGggY29kZUxpbmU9IjQ5IiBkPSJNNDgzLjExLDE4Mi4wMzY5IEM0MjAuOTQsMjA1LjcwNjkgMzM0LjYsMjQxLjMyNjkgMjYzLDI4MS4wNzY5IEMyNDAuNTIsMjkzLjU1NjkgMjIyLjA0OTUsMzA1LjU4OTMgMjAxLjQ3OTUsMzIwLjIxOTMiIGZpbGw9Im5vbmUiIGlkPSJBY2NvdW50Q29udGFpbmVyLXRvLUFjY291bnRDb2xsZWN0aW9uIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTYuNTksMzIzLjY5NjksMjA2LjI0MjUsMzIxLjc0MDIsMjAwLjY2NDUsMzIwLjc5ODksMjAxLjYwNTgsMzE1LjIyMDksMTk2LjU5LDMyMy42OTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzYuNTc1MiIgeD0iMzExLjcxIiB5PSIyNjkuMTQzOCI+cHJvcHM8L3RleHQ+PC9nPjwhLS1saW5rIEFjY291bnRDb250YWluZXIgdG8gQWNjb3VudFNpbmdsZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJBY2NvdW50Q29udGFpbmVyIiBkYXRhLWVudGl0eS0yPSJBY2NvdW50U2luZ2xlIiBkYXRhLXNvdXJjZS1saW5lPSI1MCIgZGF0YS11aWQ9ImxuazE1IiBpZD0ibGlua19BY2NvdW50Q29udGFpbmVyX0FjY291bnRTaW5nbGUiPjxwYXRoIGNvZGVMaW5lPSI1MCIgZD0iTTU2NiwyMjQuMzA2OSBDNTY2LDI1Ny4wMTY5IDU2NiwyODguODA2OSA1NjYsMzE3Ljg5NjkiIGZpbGw9Im5vbmUiIGlkPSJBY2NvdW50Q29udGFpbmVyLXRvLUFjY291bnRTaW5nbGUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU2NiwzMjMuODk2OSw1NzAsMzE0Ljg5NjksNTY2LDMxOC44OTY5LDU2MiwzMTQuODk2OSw1NjYsMzIzLjg5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNi41NzUyIiB4PSI1NjciIHk9IjI2OS4xNDM4Ij5wcm9wczwvdGV4dD48L2c+PCEtLWxpbmsgQWNjb3VudENvbnRhaW5lciB0byBBY2NvdW50RWRpdE1vZGFsLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9IkFjY291bnRDb250YWluZXIiIGRhdGEtZW50aXR5LTI9IkFjY291bnRFZGl0TW9kYWwiIGRhdGEtc291cmNlLWxpbmU9IjUxIiBkYXRhLXVpZD0ibG5rMTYiIGlkPSJsaW5rX0FjY291bnRDb250YWluZXJfQWNjb3VudEVkaXRNb2RhbCI+PHBhdGggY29kZUxpbmU9IjUxIiBkPSJNNjM3LjAzLDIyNC4zMDY5IEM2NjkuMjQsMjU3LjAxNjkgNzAyLjIzOTgsMjkwLjUzMiA3MzAuODg5OCwzMTkuNjIyIiBmaWxsPSJub25lIiBpZD0iQWNjb3VudENvbnRhaW5lci10by1BY2NvdW50RWRpdE1vZGFsIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3MzUuMSwzMjMuODk2OSw3MzEuNjM0NiwzMTQuNjc3OCw3MzEuNTkxNSwzMjAuMzM0NSw3MjUuOTM0OCwzMjAuMjkxNCw3MzUuMSwzMjMuODk2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM2LjU3NTIiIHg9IjY4MS40OCIgeT0iMjY5LjE0MzgiPnByb3BzPC90ZXh0PjwvZz48IS0tU1JDPVtaTERGSW5qMTdCdEZmX1pYSUljWHpxMGpPYWxmR0lnNHpiOXc2N1Fkb1U5czlrb0V3SzV3czFzUUhiRWZlZzBVZjBXQXVmek9KMmRMWGxmWFZqc2lEeHoyUHNPdDlnak1VZmp6eHlzUnR4bXRBcHRmQ3ZXTU41QUZpbTBVbVlrRmxHVEtnblhWZUVnWHdYOUlmeXVTaEo4T2t6UFR6TGVPVHBNOWdlYmd3UWd0RTBPQm5GNWY2Q0FLdXVYdkJlVVUyd0c0eW81eG5jSEVYVUNKNkpHVEMyZlBaYmdtSGhkaHZfVzh5QkJrNWU0ZHA2U3Z5NHd1ckF6OHBQQ0ZYMGw5OEYyZ0RHZFl4UXJIb0VOZktUQlVBWERLbHdQY2RxRW9zaUVlY3Rtd25zWDNOLWI1cUEwLWZFalYtd3FMZzBhbjUtZ0I2TXN3ekFGX2lQcnNUakFMZmxkNlUxVkxiaHItMnpLTmtyWDRUTTBNeUpVaEs2aU9fcUlyWkY0UGdjRXhMWFlWNENQVEM0RmdNT1V2Y2luRGY3Z0pzakVmdHZzZHhwRDdVZTlodlc3R0ZDaG9XN196SGdFMkx2WEhiTTR5NXFwMGVxYmUyQy1yUjFRaVBlVW1kZ0RtSmlOWkxWcWFIaXd1Rmk5UUY3S3pNSjBtTzVSN2xSdmN0dW9mUWpKd1NUNnhHWGw2SDdURFJ5bkRrU0Z5Y194X0E3a0dxc1pSYnBseHdVdnZlR2NEcFdRWTdXOTY3T21rQzNoeXl0aXhFVHdxWE56VkpxX1I2MXFDTmxjc19IVU1peWdwV2Zrc3NYUDZkdkZFTU56cGhMM2poUC1XTDlneWV5YW9yQ3E4enlocEdsdjdFaW11TF95NV0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="412-container">4.1.2 Container コンポーネントの責務<a class="headerlink" href="#412-container" title="Permanent link">&para;</a></h3>
<p>Container コンポーネントは以下の責務を担います。</p>
<table>
<thead>
<tr>
<th>責務</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>データ取得</td>
<td>Orval 生成の React Query hooks を使用した API 呼び出し</td>
</tr>
<tr>
<td>状態管理</td>
<td>モーダル開閉、選択状態などのローカル状態管理</td>
</tr>
<tr>
<td>イベントハンドリング</td>
<td>ユーザー操作に対する処理の実装</td>
</tr>
<tr>
<td>エラーハンドリング</td>
<td>API エラーの処理と表示の制御</td>
</tr>
<tr>
<td>ローディング状態</td>
<td>読み込み中の状態管理と表示の制御</td>
</tr>
</tbody>
</table>
<p><strong>Container コンポーネントの例</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/components/master/account/AccountContainer.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="p">,</span><span class="w"> </span><span class="nx">useCallback</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useQueryClient</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">useGetAccounts</span><span class="p">,</span>
<span class="w">  </span><span class="nx">useCreateAccount</span><span class="p">,</span>
<span class="w">  </span><span class="nx">useUpdateAccount</span><span class="p">,</span>
<span class="w">  </span><span class="nx">useDeleteAccount</span><span class="p">,</span>
<span class="w">  </span><span class="nx">getGetAccountsQueryKey</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/generated/account/account&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountRequest</span><span class="p">,</span><span class="w"> </span><span class="nx">AccountResponse</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/model&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountCollection</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/views/master/account/AccountCollection&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountSingle</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/views/master/account/AccountSingle&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountEditModal</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/views/master/account/AccountEditModal&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Loading</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/views/common/Loading&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ErrorMessage</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/views/common/ErrorMessage&#39;</span><span class="p">;</span>

<span class="kr">type</span><span class="w"> </span><span class="nx">ModalMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;closed&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;create&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;edit&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AccountContainer</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">queryClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQueryClient</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// API 呼び出し（Orval 生成 hooks）</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">accounts</span><span class="p">,</span><span class="w"> </span><span class="nx">isLoading</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">,</span><span class="w"> </span><span class="nx">refetch</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useGetAccounts</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">createMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCreateAccount</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useUpdateAccount</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">deleteMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDeleteAccount</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// ローカル状態</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">modalMode</span><span class="p">,</span><span class="w"> </span><span class="nx">setModalMode</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="nx">ModalMode</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;closed&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">selectedAccount</span><span class="p">,</span><span class="w"> </span><span class="nx">setSelectedAccount</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nx">useState</span><span class="o">&lt;</span><span class="nx">AccountResponse</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// イベントハンドラー</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleSelect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCallback</span><span class="p">((</span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setSelectedAccount</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[]);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleCreateClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCallback</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setSelectedAccount</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setModalMode</span><span class="p">(</span><span class="s1">&#39;create&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[]);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleEditClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCallback</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setModalMode</span><span class="p">(</span><span class="s1">&#39;edit&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[]);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleModalClose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCallback</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setModalMode</span><span class="p">(</span><span class="s1">&#39;closed&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[]);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleSave</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCallback</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountRequest</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">onSuccess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">({</span>
<span class="w">          </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="kt">getGetAccountsQueryKey</span><span class="p">(),</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">        </span><span class="nx">setModalMode</span><span class="p">(</span><span class="s1">&#39;closed&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">};</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">modalMode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;create&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">createMutation</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">onSuccess</span><span class="w"> </span><span class="p">});</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">modalMode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;edit&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">selectedAccount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">updateMutation</span><span class="p">.</span><span class="nx">mutate</span><span class="p">(</span>
<span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">accountCode</span><span class="o">:</span><span class="w"> </span><span class="kt">selectedAccount.accountCode</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">onSuccess</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">[</span><span class="nx">modalMode</span><span class="p">,</span><span class="w"> </span><span class="nx">selectedAccount</span><span class="p">,</span><span class="w"> </span><span class="nx">createMutation</span><span class="p">,</span><span class="w"> </span><span class="nx">updateMutation</span><span class="p">,</span><span class="w"> </span><span class="nx">queryClient</span><span class="p">]</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleDelete</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCallback</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">accountCode</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">confirm</span><span class="p">(</span><span class="s1">&#39;この勘定科目を削除しますか？&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">deleteMutation</span><span class="p">.</span><span class="nx">mutate</span><span class="p">(</span>
<span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">accountCode</span><span class="w"> </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">onSuccess</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">({</span>
<span class="w">                </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="kt">getGetAccountsQueryKey</span><span class="p">(),</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">              </span><span class="nx">setSelectedAccount</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">[</span><span class="nx">deleteMutation</span><span class="p">,</span><span class="w"> </span><span class="nx">queryClient</span><span class="p">]</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ローディング状態</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Loading</span><span class="w"> </span><span class="nx">message</span><span class="o">=</span><span class="s2">&quot;勘定科目を読み込み中...&quot;</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// エラー状態</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">ErrorMessage</span><span class="w"> </span><span class="nx">error</span><span class="o">=</span><span class="p">{</span><span class="nx">error</span><span class="p">}</span><span class="w"> </span><span class="nx">onRetry</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">refetch</span><span class="p">()}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 正常時のレンダリング</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-container&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-list&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">AccountCollection</span>
<span class="w">          </span><span class="nx">accounts</span><span class="o">=</span><span class="p">{</span><span class="nx">accounts</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="p">[]}</span>
<span class="w">          </span><span class="nx">selectedAccountCode</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedAccount</span><span class="o">?</span><span class="p">.</span><span class="nx">accountCode</span><span class="p">}</span>
<span class="w">          </span><span class="nx">onSelect</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSelect</span><span class="p">}</span>
<span class="w">          </span><span class="nx">onCreate</span><span class="o">=</span><span class="p">{</span><span class="nx">handleCreateClick</span><span class="p">}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="nx">selectedAccount</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-detail&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">AccountSingle</span>
<span class="w">            </span><span class="nx">account</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedAccount</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onEdit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleEditClick</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onDelete</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">handleDelete</span><span class="p">(</span><span class="nx">selectedAccount</span><span class="p">.</span><span class="nx">accountCode</span><span class="p">)}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="p">)}</span>

<span class="w">      </span><span class="p">{</span><span class="nx">modalMode</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;closed&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">AccountEditModal</span>
<span class="w">          </span><span class="nx">account</span><span class="o">=</span><span class="p">{</span><span class="nx">modalMode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;edit&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">selectedAccount</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">undefined</span><span class="p">}</span>
<span class="w">          </span><span class="nx">onSave</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSave</span><span class="p">}</span>
<span class="w">          </span><span class="nx">onCancel</span><span class="o">=</span><span class="p">{</span><span class="nx">handleModalClose</span><span class="p">}</span>
<span class="w">          </span><span class="nx">isSubmitting</span><span class="o">=</span><span class="p">{</span>
<span class="w">            </span><span class="nx">createMutation</span><span class="p">.</span><span class="nx">isPending</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">updateMutation</span><span class="p">.</span><span class="nx">isPending</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="413-view">4.1.3 View コンポーネントの責務<a class="headerlink" href="#413-view" title="Permanent link">&para;</a></h3>
<p>View コンポーネントは以下の特徴を持ちます。</p>
<table>
<thead>
<tr>
<th>特徴</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>純粋な関数</td>
<td>Props のみに依存し、副作用を持たない</td>
</tr>
<tr>
<td>テスト容易性</td>
<td>Props を渡すだけでテスト可能</td>
</tr>
<tr>
<td>再利用性</td>
<td>異なる Container から利用可能</td>
</tr>
<tr>
<td>表示に専念</td>
<td>データの加工・整形のみ担当</td>
</tr>
</tbody>
</table>
<p><strong>View コンポーネントの例（一覧表示）</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/views/master/account/AccountCollection.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountResponse</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/model&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;./AccountCollection.css&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Props</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">accounts</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">[];</span>
<span class="w">  </span><span class="nx">selectedAccountCode?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onSelect</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onCreate</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AccountCollection</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">accounts</span><span class="p">,</span>
<span class="w">  </span><span class="nx">selectedAccountCode</span><span class="p">,</span>
<span class="w">  </span><span class="nx">onSelect</span><span class="p">,</span>
<span class="w">  </span><span class="nx">onCreate</span><span class="p">,</span>
<span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// BS/PL でグループ化（表示ロジック）</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">bsAccounts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">accounts</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">a</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">bsplType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">plAccounts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">accounts</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">a</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">bsplType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;P&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-collection&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-collection__header&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">勘定科目一覧</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span>
<span class="w">          </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-collection__create-button&quot;</span>
<span class="w">          </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onCreate</span><span class="p">}</span>
<span class="w">        </span><span class="o">&gt;</span>
<span class="w">          </span><span class="nx">新規作成</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-collection__tabs&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">section</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-collection__section&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">貸借対照表科目</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">AccountList</span>
<span class="w">            </span><span class="nx">accounts</span><span class="o">=</span><span class="p">{</span><span class="nx">bsAccounts</span><span class="p">}</span>
<span class="w">            </span><span class="nx">selectedAccountCode</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedAccountCode</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onSelect</span><span class="o">=</span><span class="p">{</span><span class="nx">onSelect</span><span class="p">}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/section&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">section</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-collection__section&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">損益計算書科目</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">AccountList</span>
<span class="w">            </span><span class="nx">accounts</span><span class="o">=</span><span class="p">{</span><span class="nx">plAccounts</span><span class="p">}</span>
<span class="w">            </span><span class="nx">selectedAccountCode</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedAccountCode</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onSelect</span><span class="o">=</span><span class="p">{</span><span class="nx">onSelect</span><span class="p">}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/section&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// 内部コンポーネント</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">AccountList</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="p">{</span>
<span class="w">  </span><span class="nx">accounts</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">[];</span>
<span class="w">  </span><span class="nx">selectedAccountCode?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onSelect</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="p">}</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">accounts</span><span class="p">,</span><span class="w"> </span><span class="nx">selectedAccountCode</span><span class="p">,</span><span class="w"> </span><span class="nx">onSelect</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">ul</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-list&quot;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">account</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">li</span>
<span class="w">        </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountCode</span><span class="p">}</span>
<span class="w">        </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`account-list__item </span><span class="si">${</span>
<span class="w">          </span><span class="nx">account</span><span class="p">.</span><span class="nx">accountCode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">selectedAccountCode</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;is-selected&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="w">        </span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
<span class="w">        </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">onSelect</span><span class="p">(</span><span class="nx">account</span><span class="p">)}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-list__code&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountCode</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-list__name&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountName</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-list__type&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">elementType</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/li&gt;</span>
<span class="w">    </span><span class="p">))}</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/ul&gt;</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>View コンポーネントの例（詳細表示）</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/views/master/account/AccountSingle.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountResponse</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/model&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;./AccountSingle.css&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Props</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onEdit</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onDelete</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AccountSingle</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">account</span><span class="p">,</span>
<span class="w">  </span><span class="nx">onEdit</span><span class="p">,</span>
<span class="w">  </span><span class="nx">onDelete</span><span class="p">,</span>
<span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__header&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountName</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__actions&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onEdit</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">編集</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onDelete</span><span class="p">}</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;is-danger&quot;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">削除</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">dl</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__details&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__row&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">勘定科目コード</span><span class="o">&lt;</span><span class="err">/dt&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountCode</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/dd&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__row&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">勘定科目名</span><span class="o">&lt;</span><span class="err">/dt&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountName</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/dd&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountAbbr</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__row&quot;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">略称</span><span class="o">&lt;</span><span class="err">/dt&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountAbbr</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/dd&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">        </span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountKana</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__row&quot;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">カナ</span><span class="o">&lt;</span><span class="err">/dt&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">accountKana</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/dd&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__row&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">BS</span><span class="o">/</span><span class="nx">PL</span><span class="w"> </span><span class="nx">区分</span><span class="o">&lt;</span><span class="err">/dt&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">bsplType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;貸借対照表&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;損益計算書&#39;</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/dd&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__row&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">貸借区分</span><span class="o">&lt;</span><span class="err">/dt&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">debitCreditType</span><span class="p">}</span><span class="nx">方</span><span class="o">&lt;</span><span class="err">/dd&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__row&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">要素区分</span><span class="o">&lt;</span><span class="err">/dt&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">elementType</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/dd&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-single__row&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;</span><span class="nx">表示順</span><span class="o">&lt;</span><span class="err">/dt&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">dd</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">account</span><span class="p">.</span><span class="nx">displayOrder</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/dd&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/dl&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>View コンポーネントの例（編集モーダル）</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/views/master/account/AccountEditModal.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="p">,</span><span class="w"> </span><span class="nx">useEffect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Modal</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-modal&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountRequest</span><span class="p">,</span><span class="w"> </span><span class="nx">AccountResponse</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/model&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;./AccountEditModal.css&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Props</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">account?</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onSave</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountRequest</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onCancel</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isSubmitting</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">initialFormData</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">accountCode</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">accountName</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">bsplType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">debitCreditType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;借&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;資産&#39;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AccountEditModal</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">account</span><span class="p">,</span>
<span class="w">  </span><span class="nx">onSave</span><span class="p">,</span>
<span class="w">  </span><span class="nx">onCancel</span><span class="p">,</span>
<span class="w">  </span><span class="nx">isSubmitting</span><span class="p">,</span>
<span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isEditMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!!</span><span class="nx">account</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">formData</span><span class="p">,</span><span class="w"> </span><span class="nx">setFormData</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="nx">AccountRequest</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">initialFormData</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// 編集モードの場合、初期値を設定</span>
<span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">account</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setFormData</span><span class="p">({</span>
<span class="w">        </span><span class="nx">accountCode</span><span class="o">:</span><span class="w"> </span><span class="kt">account.accountCode</span><span class="p">,</span>
<span class="w">        </span><span class="nx">accountName</span><span class="o">:</span><span class="w"> </span><span class="kt">account.accountName</span><span class="p">,</span>
<span class="w">        </span><span class="nx">accountAbbr</span><span class="o">:</span><span class="w"> </span><span class="kt">account.accountAbbr</span><span class="p">,</span>
<span class="w">        </span><span class="nx">accountKana</span><span class="o">:</span><span class="w"> </span><span class="kt">account.accountKana</span><span class="p">,</span>
<span class="w">        </span><span class="nx">bsplType</span><span class="o">:</span><span class="w"> </span><span class="kt">account.bsplType</span><span class="p">,</span>
<span class="w">        </span><span class="nx">debitCreditType</span><span class="o">:</span><span class="w"> </span><span class="kt">account.debitCreditType</span><span class="p">,</span>
<span class="w">        </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="kt">account.elementType</span><span class="p">,</span>
<span class="w">        </span><span class="nx">displayOrder</span><span class="o">:</span><span class="w"> </span><span class="kt">account.displayOrder</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">account</span><span class="p">]);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="nx">e</span><span class="o">:</span><span class="w"> </span><span class="kt">React.ChangeEvent</span><span class="o">&lt;</span><span class="nx">HTMLInputElement</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">HTMLSelectElement</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>
<span class="w">    </span><span class="nx">setFormData</span><span class="p">((</span><span class="nx">prev</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="p">...</span><span class="nx">prev</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="p">}));</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FormEvent</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="nx">onSave</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Modal</span>
<span class="w">      </span><span class="nx">isOpen</span>
<span class="w">      </span><span class="nx">onRequestClose</span><span class="o">=</span><span class="p">{</span><span class="nx">onCancel</span><span class="p">}</span>
<span class="w">      </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;account-edit-modal&quot;</span>
<span class="w">      </span><span class="nx">overlayClassName</span><span class="o">=</span><span class="s2">&quot;modal-overlay&quot;</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">form</span><span class="w"> </span><span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">isEditMode</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;勘定科目編集&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;勘定科目登録&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="nx">htmlFor</span><span class="o">=</span><span class="s2">&quot;accountCode&quot;</span><span class="o">&gt;</span><span class="nx">勘定科目コード</span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">input</span>
<span class="w">            </span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;accountCode&quot;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s2">&quot;accountCode&quot;</span>
<span class="w">            </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">.</span><span class="nx">accountCode</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span>
<span class="w">            </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isEditMode</span><span class="p">}</span>
<span class="w">            </span><span class="nx">required</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="nx">htmlFor</span><span class="o">=</span><span class="s2">&quot;accountName&quot;</span><span class="o">&gt;</span><span class="nx">勘定科目名</span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">input</span>
<span class="w">            </span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;accountName&quot;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s2">&quot;accountName&quot;</span>
<span class="w">            </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">.</span><span class="nx">accountName</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span>
<span class="w">            </span><span class="nx">required</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="nx">htmlFor</span><span class="o">=</span><span class="s2">&quot;bsplType&quot;</span><span class="o">&gt;</span><span class="nx">BS</span><span class="o">/</span><span class="nx">PL</span><span class="w"> </span><span class="nx">区分</span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">select</span>
<span class="w">            </span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;bsplType&quot;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s2">&quot;bsplType&quot;</span>
<span class="w">            </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">.</span><span class="nx">bsplType</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;B&quot;</span><span class="o">&gt;</span><span class="nx">貸借対照表</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;P&quot;</span><span class="o">&gt;</span><span class="nx">損益計算書</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/select&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="nx">htmlFor</span><span class="o">=</span><span class="s2">&quot;debitCreditType&quot;</span><span class="o">&gt;</span><span class="nx">貸借区分</span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">select</span>
<span class="w">            </span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;debitCreditType&quot;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s2">&quot;debitCreditType&quot;</span>
<span class="w">            </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">.</span><span class="nx">debitCreditType</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;借&quot;</span><span class="o">&gt;</span><span class="nx">借方</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;貸&quot;</span><span class="o">&gt;</span><span class="nx">貸方</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/select&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">label</span><span class="w"> </span><span class="nx">htmlFor</span><span class="o">=</span><span class="s2">&quot;elementType&quot;</span><span class="o">&gt;</span><span class="nx">要素区分</span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">select</span>
<span class="w">            </span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;elementType&quot;</span>
<span class="w">            </span><span class="nx">name</span><span class="o">=</span><span class="s2">&quot;elementType&quot;</span>
<span class="w">            </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">.</span><span class="nx">elementType</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;資産&quot;</span><span class="o">&gt;</span><span class="nx">資産</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;負債&quot;</span><span class="o">&gt;</span><span class="nx">負債</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;純資産&quot;</span><span class="o">&gt;</span><span class="nx">純資産</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;収益&quot;</span><span class="o">&gt;</span><span class="nx">収益</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">option</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;費用&quot;</span><span class="o">&gt;</span><span class="nx">費用</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/select&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-actions&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onCancel</span><span class="p">}</span><span class="w"> </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">キャンセル</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span><span class="w"> </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">isSubmitting</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;保存中...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;保存&#39;</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/form&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Modal&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="414">4.1.4 ディレクトリ構成<a class="headerlink" href="#414" title="Permanent link">&para;</a></h3>
<p>Container と View を明確に分離したディレクトリ構成を示します。</p>
<div class="highlight"><pre><span></span><code>src/
├── components/          # Container コンポーネント
│   ├── master/
│   │   ├── account/
│   │   │   └── AccountContainer.tsx
│   │   ├── accountingPeriod/
│   │   │   └── AccountingPeriodContainer.tsx
│   │   └── user/
│   │       └── UserContainer.tsx
│   ├── journal/
│   │   ├── entry/
│   │   │   └── JournalEntryContainer.tsx
│   │   └── list/
│   │       └── JournalListContainer.tsx
│   └── statement/
│       ├── balanceSheet/
│       │   └── BalanceSheetContainer.tsx
│       └── profitLoss/
│           └── ProfitLossContainer.tsx
│
└── views/               # View コンポーネント
    ├── master/
    │   ├── account/
    │   │   ├── AccountCollection.tsx
    │   │   ├── AccountSingle.tsx
    │   │   └── AccountEditModal.tsx
    │   └── ...
    ├── journal/
    │   ├── entry/
    │   │   ├── JournalEntryForm.tsx
    │   │   └── JournalDetailForm.tsx
    │   └── ...
    ├── statement/
    │   └── ...
    └── common/
        ├── Loading.tsx
        ├── ErrorMessage.tsx
        ├── MoneyDisplay.tsx
        └── DateDisplay.tsx
</code></pre></div>
<hr />
<h2 id="42">4.2 状態管理パターン<a class="headerlink" href="#42" title="Permanent link">&para;</a></h2>
<h3 id="421">4.2.1 状態の分類<a class="headerlink" href="#421" title="Permanent link">&para;</a></h3>
<p>フロントエンドの状態を以下の3種類に分類し、それぞれ適切な管理方法を選択します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjUxNHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTE5NnB4O2hlaWdodDo1MTRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMTk2IDUxNCIgd2lkdGg9IjExOTZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjkzNjY7JiMyNDkwNzsmIzMxNjQ5OyYjMjk3MDI7JiMxMjM5ODsmIzM2MDEyOyYjMjEyMDk7JiMyMDk5ODsmIzI1Mjg1OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSI1MjguMjUwNCIgeT0iMjIuOTk1MSI+JiMyOTM2NjsmIzI0OTA3OyYjMzE2NDk7JiMyOTcwMjsmIzEyMzk4OyYjMzYwMTI7JiMyMTIwOTsmIzIwOTk4OyYjMjUyODU7PC90ZXh0PjwvZz48IS0tY2x1c3RlciBzZXJ2ZXItLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9InNlcnZlciIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJjbHVzdGVyX3NlcnZlciI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMTEuNzEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI0MzUiIHg9IjciIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTgyLjUwMDIiIHk9IjU5LjI5MiI+JiMxMjQ2OTsmIzEyNTQwOyYjMTI0OTY7JiMxMjU0MDsmIzI5MzY2OyYjMjQ5MDc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzcuODYwNCIgeD0iMTU1LjU2OTgiIHk9Ijc1LjU4ODkiPihUYW5TdGFjayBRdWVyeSk8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGNsaWVudC0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iY2xpZW50IiBkYXRhLXNvdXJjZS1saW5lPSIxMSIgZGF0YS11aWQ9ImVudDAwMDgiIGlkPSJjbHVzdGVyX2NsaWVudCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMTEuNzEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyODIiIHg9IjY4MCIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iNzY1LjAwMDIiIHk9IjU5LjI5MiI+JiMxMjQ2MzsmIzEyNTIxOyYjMTI0NTI7JiMxMjQ1MDsmIzEyNTMxOyYjMTI0ODg7JiMyOTM2NjsmIzI0OTA3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI0LjE1NDMiIHg9Ijc1OC45MjI5IiB5PSI3NS41ODg5Ij4oUmVhY3QgQ29udGV4dCk8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGxvY2FsLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJsb2NhbCIgZGF0YS1zb3VyY2UtbGluZT0iMTciIGRhdGEtdWlkPSJlbnQwMDEyIiBpZD0iY2x1c3Rlcl9sb2NhbCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMTEuNzEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIzMTAiIHg9IjE0IiB5PSIyOTYuMDA2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxMjcuMDAwMiIgeT0iMzExLjAwMiI+JiMxMjUyNTsmIzEyNTQwOyYjMTI0NTk7JiMxMjUyMzsmIzI5MzY2OyYjMjQ5MDc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My4wMDIiIHg9IjEyNy40OTkiIHk9IjMyNy4yOTg5Ij4odXNlU3RhdGUpPC90ZXh0PjwvZz48IS0tZW50aXR5IGFjY291bnQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iYWNjb3VudCIgZGF0YS1zb3VyY2UtbGluZT0iNCIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfYWNjb3VudCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTcuOTk5NiIgeD0iMzEiIHk9IjEwMy4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iNDEiIHk9IjExOS4yOTIiPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjwvZz48IS0tZW50aXR5IGpvdXJuYWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iam91cm5hbCIgZGF0YS1zb3VyY2UtbGluZT0iNSIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfam91cm5hbCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4OS45OTk3IiB4PSIxODQiIHk9IjEwMy4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTk0IiB5PSIxMTkuMjkyIj4mIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjwvZz48IS0tZW50aXR5IGJhbGFuY2UtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iYmFsYW5jZSIgZGF0YS1zb3VyY2UtbGluZT0iNiIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJlbnRpdHlfYmFsYW5jZSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4OS45OTk3IiB4PSIzMDkiIHk9IjEwMy4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMzE5IiB5PSIxMTkuMjkyIj4mIzI3NTMxOyYjMzk2NDA7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjwvZz48IS0tZW50aXR5IGNhY2hlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImNhY2hlIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImVudGl0eV9jYWNoZSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTcuOTk5NiIgeD0iMzEiIHk9IjIwOS43MDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iNDEiIHk9IjIyNS43MDIiPiYjMTI0NjE7JiMxMjUxNTsmIzEyNDgzOyYjMTI0NzE7JiMxMjUxNzsmIzMxNjQ5OyYjMjk3MDI7PC90ZXh0PjwvZz48IS0tZW50aXR5IHJlZmV0Y2gtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0icmVmZXRjaCIgZGF0YS1zb3VyY2UtbGluZT0iOCIgZGF0YS11aWQ9ImVudDAwMDciIGlkPSJlbnRpdHlfcmVmZXRjaCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDMuOTk5NiIgeD0iMTg0IiB5PSIyMDkuNzA2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE5NCIgeT0iMjI1LjcwMiI+JiMyMDg3NzsmIzIxNDYyOyYjMjQ0NzE7JiMxMjUzOTsmIzI2MzU2OyYjMjYwMzI7PC90ZXh0PjwvZz48IS0tZW50aXR5IGF1dGgtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iYXV0aCIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGRhdGEtdWlkPSJlbnQwMDA5IiBpZD0iZW50aXR5X2F1dGgiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iNzA0IiB5PSIxMDMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjcxNCIgeT0iMTE5LjI5MiI+JiMzNTQ2OTsmIzM1Mzg4OyYjMjQ3NzM7JiMyMjU3Nzs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgcGVyaW9kLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InBlcmlvZCIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGRhdGEtdWlkPSJlbnQwMDEwIiBpZD0iZW50aXR5X3BlcmlvZCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDMuOTk5NiIgeD0iODE1IiB5PSIxMDMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjgyNSIgeT0iMTE5LjI5MiI+JiMyMDI1MDsmIzM1MzM2OyYjMjYzOTk7JiMzODI5MTsmIzM2OTg0OyYjMjUyNDY7PC90ZXh0PjwvZz48IS0tZW50aXR5IHRoZW1lLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InRoZW1lIiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgZGF0YS11aWQ9ImVudDAwMTEiIGlkPSJlbnRpdHlfdGhlbWUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODkuOTk5NyIgeD0iNzA0IiB5PSIyMDkuNzA2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjcxNCIgeT0iMjI1LjcwMiI+JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MTA7JiMzNTM3MzsmIzIzNDUwOzwvdGV4dD48L2c+PCEtLWVudGl0eSBmb3JtLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImZvcm0iIGRhdGEtc291cmNlLWxpbmU9IjE4IiBkYXRhLXVpZD0iZW50MDAxMyIgaWQ9ImVudGl0eV9mb3JtIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMy45OTk2IiB4PSIzOCIgeT0iMzU1LjAwNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSI0OCIgeT0iMzcxLjAwMiI+JiMxMjUwMTsmIzEyNDU3OyYjMTI1NDA7JiMxMjUxMjsmIzIwODM3OyYjMjExNDc7PC90ZXh0PjwvZz48IS0tZW50aXR5IG1vZGFsLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Im1vZGFsIiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgZGF0YS11aWQ9ImVudDAwMTQiIGlkPSJlbnRpdHlfbW9kYWwiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAzLjk5OTYiIHg9IjE3NyIgeT0iMzU1LjAwNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxODciIHk9IjM3MS4wMDIiPiYjMTI1MTQ7JiMxMjU0MDsmIzEyNDgwOyYjMTI1MjM7JiMzODI4MzsmIzM4MjgxOzwvdGV4dD48L2c+PCEtLWVudGl0eSBzZWxlY3Rpb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ic2VsZWN0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgZGF0YS11aWQ9ImVudDAwMTUiIGlkPSJlbnRpdHlfc2VsZWN0aW9uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYxLjk5OTgiIHg9IjU5IiB5PSI0NjEuNDE2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjY5IiB5PSI0NzcuNDEyIj4mIzM2OTg0OyYjMjUyNDY7JiMzNDg5Mjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xNiIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGRhdGEtdWlkPSJlbnQwMDE3IiBpZD0iZW50aXR5X0dNTjE2Ij48cGF0aCBkPSJNNDY2LDE4NS41ODY5IEw0NjYsMjU2LjExODEgTDY1Ni4wMDAyLDI1Ni4xMTgxIEw2NTYuMDAwMiwxOTUuNTg2OSBMNjQ2LjAwMDIsMTg1LjU4NjkgTDQ2NiwxODUuNTg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTY0Ni4wMDAyLDE4NS41ODY5IEw2NDYuMDAwMiwxOTUuNTg2OSBMNjU2LjAwMDIsMTk1LjU4NjkgTDY0Ni4wMDAyLDE4NS41ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAuMzc5OSIgeD0iNDcyIiB5PSIyMDIuNjUzOCI+JiMyOTMwNTsmIzI0NTAwOzo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY5LjAwMDIiIHg9IjQ3MiIgeT0iMjE3Ljc4NjYiPiYjMTI1Mzk7JiMxMjQ2OTsmIzEyNTQwOyYjMTI0OTY7JiMxMjU0MDsmIzEyMzY0OyYjMjUxNTI7JiMyNjM3NzsmIzEyMzc3OyYjMTI0Mjc7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjQ3MiIgeT0iMjMyLjkxOTQiPiYjMTI1Mzk7JiMzODc1MDsmIzIxNTE2OyYjMjYzOTk7JiMxMjM5MTsmIzIxNDYyOyYjMjQ0NzE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSI0NzIiIHk9IjI0OC4wNTIyIj4mIzEyNTM5OyYjMTI0NjE7JiMxMjUxNTsmIzEyNDgzOyYjMTI0NzE7JiMxMjUxNzsmIzEyMzY0OyYjMjQ1MTc7JiMzNTIwMTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xOSIgZGF0YS1zb3VyY2UtbGluZT0iMzEiIGRhdGEtdWlkPSJlbnQwMDIwIiBpZD0iZW50aXR5X0dNTjE5Ij48cGF0aCBkPSJNOTg2LjUsMTg1LjU4NjkgTDk4Ni41LDI1Ni4xMTgxIEwxMTg5LjUwMDIsMjU2LjExODEgTDExODkuNTAwMiwxOTUuNTg2OSBMMTE3OS41MDAyLDE4NS41ODY5IEw5ODYuNSwxODUuNTg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTExNzkuNTAwMiwxODUuNTg2OSBMMTE3OS41MDAyLDE5NS41ODY5IEwxMTg5LjUwMDIsMTk1LjU4NjkgTDExNzkuNTAwMiwxODUuNTg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwLjM3OTkiIHg9Ijk5Mi41IiB5PSIyMDIuNjUzOCI+JiMyOTMwNTsmIzI0NTAwOzo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjAwMDEiIHg9Ijk5Mi41IiB5PSIyMTcuNzg2NiI+JiMxMjUzOTsmIzEyNDUwOyYjMTI1MDM7JiMxMjUyMjsmIzIwODQwOyYjMjAzMDc7JiMxMjM5MTsmIzIwODQ5OyYjMjYzNzc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Mi4wMDAyIiB4PSI5OTIuNSIgeT0iMjMyLjkxOTQiPiYjMTI1Mzk7JiMzNTA3OTsmIzI1OTY4OyYjMTI0Njc7JiMxMjUzMTsmIzEyNTA5OyYjMTI1NDA7JiMxMjQ5MzsmIzEyNTMxOyYjMTI0ODg7JiMxMjM2MzsmIzEyNDI1OyYjMjE0NDI7JiMyOTAzMTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU2LjAwMDIiIHg9Ijk5Mi41IiB5PSIyNDguMDUyMiI+JiMxMjUzOTsmIzI3NzA0OyYjMzIxNTQ7JiMyMTI3MDsmIzEyMzY0OyYjMjQ1MTc7JiMzNTIwMTsmIzEyMzk0OyYjMjI1ODA7JiMyMTUxMjsmIzEyMzU0OyYjMTI0MjY7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OMjIiIGRhdGEtc291cmNlLWxpbmU9IjM4IiBkYXRhLXVpZD0iZW50MDAyMyIgaWQ9ImVudGl0eV9HTU4yMiI+PHBhdGggZD0iTTM0OCw0MzcuMzA2OSBMMzQ4LDUwNy44MzgxIEw1MTIuMDAwMiw1MDcuODM4MSBMNTEyLjAwMDIsNDQ3LjMwNjkgTDUwMi4wMDAyLDQzNy4zMDY5IEwzNDgsNDM3LjMwNjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik01MDIuMDAwMiw0MzcuMzA2OSBMNTAyLjAwMDIsNDQ3LjMwNjkgTDUxMi4wMDAyLDQ0Ny4zMDY5IEw1MDIuMDAwMiw0MzcuMzA2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwLjM3OTkiIHg9IjM1NCIgeT0iNDU0LjM3MzgiPiYjMjkzMDU7JiMyNDUwMDs6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSIzNTQiIHk9IjQ2OS41MDY2Ij4mIzEyNTM5OyYjMjEzMzY7JiMxOTk2ODsmIzEyNDY3OyYjMTI1MzE7JiMxMjUwOTsmIzEyNTQwOyYjMTI0OTM7JiMxMjUzMTsmIzEyNDg4OyYjMjA4Njk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjM1NCIgeT0iNDg0LjYzOTQiPiYjMTI1Mzk7JiMxOTk2ODsmIzI2MTc4OyYjMzAzNDA7JiMxMjM5NDsmIzI5MzY2OyYjMjQ5MDc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExOC4yOTUiIHg9IjM1NCIgeT0iNDk5Ljc3MjIiPiYjMTI1Mzk7UHJvcHMgJiMxMjM5MTsmIzIzMzc2OyYjMTIzOTU7JiMyODE5MzsmIzEyMzc3OzwvdGV4dD48L2c+PCEtLWxpbmsgc2VydmVyIHRvIEdNTjE2LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InNlcnZlciIgZGF0YS1lbnRpdHktMj0iR01OMTYiIGRhdGEtc291cmNlLWxpbmU9IjI0IiBkYXRhLXVpZD0ibG5rMTgiIGlkPSJsaW5rX3NlcnZlcl9HTU4xNiI+PHBhdGggZD0iTTQ0Mi4wNTE0LDEyMi4wNjEzIEM0NDIuMTI4NSwxMjIuMTI0NiA0NDIuMjA2LDEyMi4xODg0IDQ0Mi4yODQsMTIyLjI1MjUgQzQ0Mi41OTYxLDEyMi41MDkxIDQ0Mi45MTU4LDEyMi43NzIgNDQzLjI0MywxMjMuMDQwOSBDNDQ4LjQ3NzIsMTI3LjM0NDQgNDU1LjYxMTksMTMzLjIxMDYgNDYzLjc5ODgsMTM5Ljk0MTkgQzQ4MC4xNzI1LDE1My40MDQ0IDUwMC43NTUsMTcwLjMyNjkgNTE4Ljc2LDE4NS4xMjY5IiBmaWxsPSJub25lIiBpZD0ic2VydmVyLUdNTjE2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjwhLS1saW5rIGNsaWVudCB0byBHTU4xOS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJjbGllbnQiIGRhdGEtZW50aXR5LTI9IkdNTjE5IiBkYXRhLXNvdXJjZS1saW5lPSIzMSIgZGF0YS11aWQ9ImxuazIxIiBpZD0ibGlua19jbGllbnRfR01OMTkiPjxwYXRoIGQ9Ik05NjIuMDE0NSwxMjEuNjg1OSBDOTYyLjA5MzgsMTIxLjc0NzYgOTYyLjE3MzYsMTIxLjgwOTggOTYyLjI1MzgsMTIxLjg3MjQgQzk2Mi40MTQ0LDEyMS45OTc1IDk2Mi41NzcsMTIyLjEyNDIgOTYyLjc0MTYsMTIyLjI1MjUgQzk2My4wNzA5LDEyMi41MDkxIDk2My40MDgyLDEyMi43NzIgOTYzLjc1MzMsMTIzLjA0MDkgQzk2OS4yNzUzLDEyNy4zNDQ0IDk3Ni44MDMxLDEzMy4yMTA2IDk4NS40NDEzLDEzOS45NDE5IEMxMDAyLjcxNzUsMTUzLjQwNDQgMTAyNC40MzUsMTcwLjMyNjkgMTA0My40MywxODUuMTI2OSIgZmlsbD0ibm9uZSIgaWQ9ImNsaWVudC1HTU4xOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjwvZz48IS0tbGluayBsb2NhbCB0byBHTU4yMi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJsb2NhbCIgZGF0YS1lbnRpdHktMj0iR01OMjIiIGRhdGEtc291cmNlLWxpbmU9IjM4IiBkYXRhLXVpZD0ibG5rMjQiIGlkPSJsaW5rX2xvY2FsX0dNTjIyIj48cGF0aCBkPSJNMzI0LjA3NywzNzQuNTUwNCBDMzI0LjE0OTUsMzc0LjYxNjggMzI0LjIyMjUsMzc0LjY4MzcgMzI0LjI5NTksMzc0Ljc1MDkgQzMyOC45OTQ0LDM3OS4wNTQ0IDMzNS4zOTg4LDM4NC45MjA2IDM0Mi43NDc1LDM5MS42NTE5IEMzNTcuNDQ1LDQwNS4xMTQ0IDM3NS45Miw0MjIuMDM2OSAzOTIuMDgsNDM2LjgzNjkiIGZpbGw9Im5vbmUiIGlkPSJsb2NhbC1HTU4yMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjwvZz48IS0tU1JDPVtUUEJUU2o5MDY4UkZTbktQWmxHTUZGSzZfM2xxOTByUkdLRXM0blA3bnQ2NngxZlEyNG5uRWMxQk1tZ3JqSEc0Z1NNQXF6ZlVwRFZUWEJqbWl3NlBLbE00MF9SOWp5X3hsS2tvbjQ5d0szYUpkWC1Da2E2ejFFdWVfRndMLXJqeWhJSHlKekNTUDFCM1ZZNm41RDBWbTJ3MHJVTGxfQ3JwLXp1cG10dkEzRkVMX2hZMGRCVnRLeGdIcl9GOFVPcVNfUHJjNmF2UUp0NV9hdXpRbVQ3N083aTRSM01RR1F5S1E5V2NCalhhcGJzVkR5QlV3SUJuNFhTU3N4M2NYMVp2aXk3YzhoNWFNOFBqZVphMVQwWmlDcDA2ejJVbW1wWUt1YXAzcERuR2w1Slp3cXItIC1HZE9rVFlVWUVQTzhHdlFIaUpDUUVfbG5GdTZ4MVplMFQxek9EOWxCR2RfMTFhY3FIelljdzB0OUN2a01iYmFhb0h4c0EtNWxHbDFGRHV2WUlDTklFT2N4cUtoeEFzOWRSclBTc0ZjSmFNYmhPV0x2NkhuLVlPRkF3Y1RqeUZVSzJ2SDBJSTNTa1lrOTFrZ2RHbzAzSEF6R1h4OVJXWUFwSW5pNmJPWTFnbTF6NVpEeGQzbGE1VXM1UklDZExuMnhBbFplWG12UV9ncFBiYUhFUG5FLWVZam1zdnJOaGliWFJCT1pqbmlKOTItWDBkMUVIcWxwdi00NWZIX3lTbDkwcXRrX1ZQaDBoU2dvYU1uS21QdDJ3WVY1MW5uaXpxc2hyVmJiaTB6WWFrQmxyeGVNR3hXTHJ4dW5UTUdkVFFaa195b1k4alBEOTAxdkhGZVN3enRfTmlaY2stVEk4ZGVCM25PNU9xbnE1RkwtQXVvaFNOalctaTNCVkRyNmRYNzRJaDZxLTJpblFsREgwQlNGa3pDVTVzWTU2WmJfcXdnYWpqQWxCUHZGSXQteXJmVXlZOTI3ZWlqNmhHLW80bFllZ0RfN3BidTlRejcyT1ByUzBUWXNmTVJKRXh6MG0wMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>状態の種類</th>
<th>管理方法</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>サーバー状態</td>
<td>TanStack Query（Orval 生成）</td>
<td>勘定科目一覧、仕訳データ、残高データ</td>
</tr>
<tr>
<td>クライアント状態</td>
<td>React Context</td>
<td>認証情報、会計期間選択、UI テーマ</td>
</tr>
<tr>
<td>ローカル状態</td>
<td>useState / useReducer</td>
<td>フォーム入力、モーダル開閉、選択行</td>
</tr>
</tbody>
</table>
<h3 id="422-tanstack-query">4.2.2 サーバー状態管理（TanStack Query）<a class="headerlink" href="#422-tanstack-query" title="Permanent link">&para;</a></h3>
<p>サーバー状態は TanStack Query（React Query）で管理します。Orval で自動生成された hooks を使用します。</p>
<p><strong>特徴</strong>:
- 自動キャッシュ
- バックグラウンド再取得
- 楽観的更新
- エラー・ローディング状態管理</p>
<p><strong>queryClient の設定</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/queryClient.ts</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">QueryClient</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">queryClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">QueryClient</span><span class="p">({</span>
<span class="w">  </span><span class="nx">defaultOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">queries</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// キャッシュの鮮度（この時間内は再取得しない）</span>
<span class="w">      </span><span class="nx">staleTime</span><span class="o">:</span><span class="w"> </span><span class="kt">5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 5分</span>

<span class="w">      </span><span class="c1">// キャッシュの保持時間</span>
<span class="w">      </span><span class="nx">gcTime</span><span class="o">:</span><span class="w"> </span><span class="kt">30</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 30分</span>

<span class="w">      </span><span class="c1">// エラー時のリトライ回数</span>
<span class="w">      </span><span class="nx">retry</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// ウィンドウフォーカス時の再取得を無効化</span>
<span class="w">      </span><span class="nx">refetchOnWindowFocus</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// マウント時の再取得を無効化</span>
<span class="w">      </span><span class="nx">refetchOnMount</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">mutations</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// ミューテーションのリトライは無効</span>
<span class="w">      </span><span class="nx">retry</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>
</code></pre></div>
<p><strong>マスタデータ用の設定オーバーライド</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// マスタデータは長めにキャッシュ</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">accounts</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useGetAccounts</span><span class="p">({</span>
<span class="w">  </span><span class="nx">staleTime</span><span class="o">:</span><span class="w"> </span><span class="kt">10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 10分</span>
<span class="p">});</span>

<span class="c1">// 頻繁に更新されるデータは短めに</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">journals</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useGetJournalEntries</span><span class="p">({</span>
<span class="w">  </span><span class="nx">staleTime</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 1分</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="423-react-context">4.2.3 クライアント状態管理（React Context）<a class="headerlink" href="#423-react-context" title="Permanent link">&para;</a></h3>
<p>アプリケーション全体で共有が必要な状態は React Context で管理します。</p>
<p><strong>AuthProvider の実装</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/providers/AuthProvider.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createContext</span><span class="p">,</span><span class="w"> </span><span class="nx">useContext</span><span class="p">,</span><span class="w"> </span><span class="nx">useState</span><span class="p">,</span><span class="w"> </span><span class="nx">useEffect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">roles</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">AuthContextType</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="kt">User</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isAuthenticated</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isLoading</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="nx">login</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">token</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="kt">User</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">logout</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">hasRole</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">AuthContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="o">&lt;</span><span class="nx">AuthContextType</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AuthProvider</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="p">{</span><span class="w"> </span><span class="nx">children</span><span class="o">:</span><span class="w"> </span><span class="kt">React.ReactNode</span><span class="w"> </span><span class="p">}</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">children</span><span class="p">,</span>
<span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">user</span><span class="p">,</span><span class="w"> </span><span class="nx">setUser</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="nx">User</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isLoading</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsLoading</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// 初回マウント時にトークンを確認</span>
<span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;accessToken&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">savedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">token</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">savedUser</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setUser</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">savedUser</span><span class="p">));</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="s1">&#39;accessToken&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[]);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">token</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="kt">User</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;accessToken&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">token</span><span class="p">);</span>
<span class="w">    </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">user</span><span class="p">));</span>
<span class="w">    </span><span class="nx">setUser</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">logout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="s1">&#39;accessToken&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setUser</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">hasRole</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">user</span><span class="o">?</span><span class="p">.</span><span class="nx">roles</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">role</span><span class="p">)</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">AuthContext</span><span class="p">.</span><span class="nx">Provider</span>
<span class="w">      </span><span class="nx">value</span><span class="o">=</span><span class="p">{{</span>
<span class="w">        </span><span class="nx">user</span><span class="p">,</span>
<span class="w">        </span><span class="nx">isAuthenticated</span><span class="o">:</span><span class="w"> </span><span class="o">!!</span><span class="nx">user</span><span class="p">,</span>
<span class="w">        </span><span class="nx">isLoading</span><span class="p">,</span>
<span class="w">        </span><span class="nx">login</span><span class="p">,</span>
<span class="w">        </span><span class="nx">logout</span><span class="p">,</span>
<span class="w">        </span><span class="nx">hasRole</span><span class="p">,</span>
<span class="w">      </span><span class="p">}}</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">children</span><span class="p">}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/AuthContext.Provider&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useAuth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">AuthContext</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">context</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;useAuth must be used within an AuthProvider&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">context</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>会計期間 Provider の実装</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/providers/AccountingPeriodProvider.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createContext</span><span class="p">,</span><span class="w"> </span><span class="nx">useContext</span><span class="p">,</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">AccountingPeriod</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">startDate</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">endDate</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">year</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">month?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">AccountingPeriodContextType</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">currentPeriod</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountingPeriod</span><span class="p">;</span>
<span class="w">  </span><span class="nx">setPeriod</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">period</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountingPeriod</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isMonthly</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="nx">setIsMonthly</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">monthly</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">AccountingPeriodContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="o">&lt;</span>
<span class="w">  </span><span class="nx">AccountingPeriodContextType</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span>
<span class="o">&gt;</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">AccountingPeriodProvider</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="p">{</span>
<span class="w">  </span><span class="nx">children</span><span class="o">:</span><span class="w"> </span><span class="kt">React.ReactNode</span><span class="p">;</span>
<span class="p">}</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">children</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">currentPeriod</span><span class="p">,</span><span class="w"> </span><span class="nx">setCurrentPeriod</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="nx">AccountingPeriod</span><span class="o">&gt;</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">year</span><span class="o">:</span><span class="w"> </span><span class="kt">now.getFullYear</span><span class="p">(),</span>
<span class="w">      </span><span class="nx">startDate</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">now</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()</span><span class="si">}</span><span class="sb">-04-01`</span><span class="p">,</span>
<span class="w">      </span><span class="nx">endDate</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">now</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="si">}</span><span class="sb">-03-31`</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">});</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isMonthly</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsMonthly</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">AccountingPeriodContext</span><span class="p">.</span><span class="nx">Provider</span>
<span class="w">      </span><span class="nx">value</span><span class="o">=</span><span class="p">{{</span>
<span class="w">        </span><span class="nx">currentPeriod</span><span class="p">,</span>
<span class="w">        </span><span class="nx">setPeriod</span><span class="o">:</span><span class="w"> </span><span class="kt">setCurrentPeriod</span><span class="p">,</span>
<span class="w">        </span><span class="nx">isMonthly</span><span class="p">,</span>
<span class="w">        </span><span class="nx">setIsMonthly</span><span class="p">,</span>
<span class="w">      </span><span class="p">}}</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">children</span><span class="p">}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/AccountingPeriodContext.Provider&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useAccountingPeriod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">AccountingPeriodContext</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">context</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span>
<span class="w">      </span><span class="s1">&#39;useAccountingPeriod must be used within AccountingPeriodProvider&#39;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">context</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="424-provider">4.2.4 Provider の構成<a class="headerlink" href="#424-provider" title="Permanent link">&para;</a></h3>
<p><strong>App.tsx での Provider 構成</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/App.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">QueryClientProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ReactQueryDevtools</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query-devtools&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">queryClient</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./queryClient&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AuthProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./providers/AuthProvider&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountingPeriodProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./providers/AccountingPeriodProvider&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">RouteConfig</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./RouteConfig&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">App</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">QueryClientProvider</span><span class="w"> </span><span class="nx">client</span><span class="o">=</span><span class="p">{</span><span class="nx">queryClient</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">AuthProvider</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">AccountingPeriodProvider</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">RouteConfig</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/AccountingPeriodProvider&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/AuthProvider&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">ReactQueryDevtools</span><span class="w"> </span><span class="nx">initialIsOpen</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/QueryClientProvider&gt;</span>
<span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="43">4.3 型安全性の確保<a class="headerlink" href="#43" title="Permanent link">&para;</a></h2>
<h3 id="431-orval">4.3.1 Orval による型定義の自動生成<a class="headerlink" href="#431-orval" title="Permanent link">&para;</a></h3>
<p>Orval はバックエンドの DTO と完全に一致した TypeScript の型定義を生成します。これにより、フロントエンド・バックエンド間の型の不整合を防ぎます。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9Ijk5NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzkwcHg7aGVpZ2h0Ojk5NHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM5MCA5OTQiIHdpZHRoPSIzOTBweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjI0MTE7JiMyMzQzMzsmIzIwODQwOyYjMjQ2MTU7JiMxMjM5ODsmIzIwNDQ1OyYjMzUzODg7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTM5LjM5NSIgeT0iMjIuOTk1MSI+JiMyMjQxMTsmIzIzNDMzOyYjMjA4NDA7JiMyNDYxNTsmIzEyMzk4OyYjMjA0NDU7JiMzNTM4ODs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGJhY2tlbmQtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9ImJhY2tlbmQiIGRhdGEtc291cmNlLWxpbmU9IjMiIGRhdGEtdWlkPSJlbnQwMDAyIiBpZD0iY2x1c3Rlcl9iYWNrZW5kIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIyOS4wOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjIzOCIgeD0iMzEiIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM0LjkiIHg9IjgyLjU1IiB5PSI1OS4yOTIiPiYjMTI0OTY7JiMxMjQ4MzsmIzEyNDYzOyYjMTI0NTY7JiMxMjUzMTsmIzEyNDg5OyAoSmF2YSk8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIHNwZWMtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9InNwZWMiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImNsdXN0ZXJfc3BlYyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyNjAuMDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyNjIiIHg9IjciIHk9IjMzOC4zNzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMC41NjM0IiB4PSI4Ny43MTgzIiB5PSIzNTMuMzcyIj5PcGVuQVBJICYjMjAxODE7JiMyNzA5Njs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIG9wZW5hcGktLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Im9wZW5hcGkiIGRhdGEtc291cmNlLWxpbmU9IjI3IiBkYXRhLXVpZD0iZW50MDAwOCIgaWQ9ImNsdXN0ZXJfb3BlbmFwaSI+PHBhdGggZD0iTTQxLjUsMzg5LjM3NjkgTDEwNS44NjkxLDM4OS4zNzY5IEEzLjc1LDMuNzUgMCAwIDEgMTA4LjM2OTEsMzkxLjg3NjkgTDExNS4zNjkxLDQxMS42NzM4IEwyMjYuNSw0MTEuNjczOCBBMi41LDIuNSAwIDAgMSAyMjksNDE0LjE3MzggTDIyOSw1NjMuOTU2OSBBMi41LDIuNSAwIDAgMSAyMjYuNSw1NjYuNDU2OSBMNDEuNSw1NjYuNDU2OSBBMi41LDIuNSAwIDAgMSAzOSw1NjMuOTU2OSBMMzksMzkxLjg3NjkgQTIuNSwyLjUgMCAwIDEgNDEuNSwzODkuMzc2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzkiIHgyPSIxMTUuMzY5MSIgeTE9IjQxMS42NzM4IiB5Mj0iNDExLjY3MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjMuMzY5MSIgeD0iNDMiIHk9IjQwNC4zNzIiPm9wZW5hcGk8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGZyb250ZW5kLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJmcm9udGVuZCIgZGF0YS1zb3VyY2UtbGluZT0iMjYiIGRhdGEtdWlkPSJlbnQwMDA2IiBpZD0iY2x1c3Rlcl9mcm9udGVuZCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMjkuMDciIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyNTgiIHg9IjExIiB5PSI2NjMuNDU2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDAuNjYxNyIgeD0iMzkuNjY5MiIgeT0iNjc4LjQ1MiI+JiMxMjUwMTsmIzEyNTI1OyYjMTI1MzE7JiMxMjQ4ODsmIzEyNDU2OyYjMTI1MzE7JiMxMjQ4OTsgKFR5cGVTY3JpcHQpPC90ZXh0PjwvZz48IS0tY2xhc3MgQWNjb3VudFJlc3BvbnNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkFjY291bnRSZXNwb25zZSIgZGF0YS1zb3VyY2UtbGluZT0iNCIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfQWNjb3VudFJlc3BvbnNlIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE2Mi4wNzgxIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNzAuNzQ0MSIgeD0iNTQuNjMiIHk9Ijg3LjI5NjkiLz48ZWxsaXBzZSBjeD0iNzUuOTc3IiBjeT0iMTAzLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTc4Ljk0NTgsMTA4LjkzNzUgUTc4LjM2NzYsMTA5LjIzNDQgNzcuNzI3LDEwOS4zNzUgUTc3LjA4NjQsMTA5LjUzMTMgNzYuMzgzMywxMDkuNTMxMyBRNzMuODgzMywxMDkuNTMxMyA3Mi41NTUxLDEwNy44OTA2IFE3MS4yNDI2LDEwNi4yMzQ0IDcxLjI0MjYsMTAzLjEwOTQgUTcxLjI0MjYsOTkuOTg0NCA3Mi41NTUxLDk4LjMyODEgUTczLjg4MzMsOTYuNjcxOSA3Ni4zODMzLDk2LjY3MTkgUTc3LjA4NjQsOTYuNjcxOSA3Ny43MjcsOTYuODI4MSBRNzguMzgzMyw5Ni45ODQ0IDc4Ljk0NTgsOTcuMjgxMyBMNzguOTQ1OCwxMDAgUTc4LjMyMDgsOTkuNDIxOSA3Ny43MjcsOTkuMTU2MyBRNzcuMTMzMyw5OC44NzUgNzYuNTA4Myw5OC44NzUgUTc1LjE2NDUsOTguODc1IDc0LjQ3Nyw5OS45NTMxIFE3My43ODk1LDEwMS4wMTU2IDczLjc4OTUsMTAzLjEwOTQgUTczLjc4OTUsMTA1LjIwMzEgNzQuNDc3LDEwNi4yODEzIFE3NS4xNjQ1LDEwNy4zNDM4IDc2LjUwODMsMTA3LjM0MzggUTc3LjEzMzMsMTA3LjM0MzggNzcuNzI3LDEwNy4wNzgxIFE3OC4zMjA4LDEwNi43OTY5IDc4Ljk0NTgsMTA2LjIxODggTDc4Ljk0NTgsMTA4LjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjQuNjM5NiIgeD0iOTEuMzg3NSIgeT0iMTA4LjE0MzYiPkFjY291bnRSZXNwb25zZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NS42MyIgeDI9IjIyNC4zNzQxIiB5MT0iMTE5LjI5NjkiIHkyPSIxMTkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNy44NDY3IiB4PSI2MC42MyIgeT0iMTM2LjI5MiI+U3RyaW5nIGFjY291bnRDb2RlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4zMDg2IiB4PSI2MC42MyIgeT0iMTUyLjU4ODkiPlN0cmluZyBhY2NvdW50TmFtZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuNTI1NCIgeD0iNjAuNjMiIHk9IjE2OC44ODU3Ij5TdHJpbmcgYnNwbFR5cGU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU4Ljc0NDEiIHg9IjYwLjYzIiB5PSIxODUuMTgyNiI+U3RyaW5nIGRlYml0Q3JlZGl0VHlwZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzguMjk3OSIgeD0iNjAuNjMiIHk9IjIwMS40Nzk1Ij5TdHJpbmcgZWxlbWVudFR5cGU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ0LjU1MjciIHg9IjYwLjYzIiB5PSIyMTcuNzc2NCI+SW50ZWdlciBkaXNwbGF5T3JkZXI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODkuODUxNiIgeD0iNjAuNjMiIHk9IjIzNC4wNzMyIj5Mb25nIHZlcnNpb248L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTUuNjMiIHgyPSIyMjQuMzc0MSIgeTE9IjI0MS4zNzUiIHkyPSIyNDEuMzc1Ii8+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJ5YW1sIiBkYXRhLXNvdXJjZS1saW5lPSIxNiIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJlbnRpdHlfeWFtbCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMjYuMDc4MSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU4LjQzMjYiIHg9IjU0Ljc4IiB5PSI0MjQuMzc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0LjM5MTYiIHg9IjExNi44MDA1IiB5PSI0MzkuMzcyIj55YW1sPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjU1Ljc4IiB4Mj0iMjEyLjIxMjYiIHkxPSI0NDQuNjczOCIgeTI9IjQ0NC42NzM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI5LjM1NjQiIHg9IjYwLjc4IiB5PSI0NjEuNjY4OSI+QWNjb3VudFJlc3BvbnNlOjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My41ODMiIHg9IjYwLjc4IiB5PSI0NzcuOTY1NyI+dHlwZTogb2JqZWN0PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc2LjQ2NjgiIHg9IjYwLjc4IiB5PSI0OTQuMjYyNiI+cHJvcGVydGllczo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQwLjk3MDciIHg9IjYwLjc4IiB5PSI1MTAuNTU5NSI+YWNjb3VudENvZGU6IHN0cmluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDYuNDMyNiIgeD0iNjAuNzgiIHk9IjUyNi44NTY0Ij5hY2NvdW50TmFtZTogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjYwLjc4IiB5PSI1NDMuMTUzMiI+Li4uPC90ZXh0PjwvZz48IS0tY2xhc3MgQWNjb3VudFJlc3BvbnNlX1RTLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkFjY291bnRSZXNwb25zZV9UUyIgZGF0YS1zb3VyY2UtbGluZT0iMjciIGRhdGEtdWlkPSJlbnQwMDA3IiBpZD0iZW50aXR5X0FjY291bnRSZXNwb25zZV9UUyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNjIuMDc4MSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTkwLjY5MTMiIHg9IjM0LjY1IiB5PSI3MDYuNDU2OSIvPjxlbGxpcHNlIGN4PSI1My45NzU5IiBjeT0iNzIyLjQ1NjkiIGZpbGw9IiNCNEE3RTUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQ5Ljg5NzgsNzE4LjIyMjUgTDQ5Ljg5NzgsNzE2LjA2NjMgTDU3LjI4ODQsNzE2LjA2NjMgTDU3LjI4ODQsNzE4LjIyMjUgTDU0LjgxOTcsNzE4LjIyMjUgTDU0LjgxOTcsNzI2LjMwMDYgTDU3LjI4ODQsNzI2LjMwMDYgTDU3LjI4ODQsNzI4LjQ1NjkgTDQ5Ljg5NzgsNzI4LjQ1NjkgTDQ5Ljg5NzgsNzI2LjMwMDYgTDUyLjM2NjUsNzI2LjMwMDYgTDUyLjM2NjUsNzE4LjIyMjUgTDQ5Ljg5NzgsNzE4LjIyMjUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0OS4wNzgxIiB4PSI2OC45MzcyIiB5PSI3MjcuMzAzNiI+QWNjb3VudFJlc3BvbnNlX1RTPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjM1LjY1IiB4Mj0iMjI0LjM0MTMiIHkxPSI3MzguNDU2OSIgeTI9IjczOC40NTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQwLjk3MDciIHg9IjQwLjY1IiB5PSI3NTUuNDUyIj5hY2NvdW50Q29kZTogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0Ni40MzI2IiB4PSI0MC42NSIgeT0iNzcxLjc0ODkiPmFjY291bnROYW1lOiBzdHJpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE5LjUxOTUiIHg9IjQwLjY1IiB5PSI3ODguMDQ1NyI+YnNwbFR5cGU6ICdCJyB8ICdQJzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzguNjkxMyIgeD0iNDAuNjUiIHk9IjgwNC4zNDI2Ij5kZWJpdENyZWRpdFR5cGU6ICcmIzIwNTExOycgfCAnJiMzNjAyNDsnPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MS40MjE5IiB4PSI0MC42NSIgeT0iODIwLjYzOTUiPmVsZW1lbnRUeXBlOiBzdHJpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjU0ODgiIHg9IjQwLjY1IiB5PSI4MzYuOTM2NCI+ZGlzcGxheU9yZGVyOiBudW1iZXI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE1LjA4MyIgeD0iNDAuNjUiIHk9Ijg1My4yMzMyIj52ZXJzaW9uOiBudW1iZXI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzUuNjUiIHgyPSIyMjQuMzQxMyIgeTE9Ijg2MC41MzUiIHkyPSI4NjAuNTM1Ii8+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xMSIgZGF0YS1zb3VyY2UtbGluZT0iNDIiIGRhdGEtdWlkPSJlbnQwMDEyIiBpZD0iZW50aXR5X0dNTjExIj48cGF0aCBkPSJNMTc0LjY0LDk0Ny41MjY5IEwxNzQuNjQsOTg3Ljc5MjUgTDM0Ny4zNjE4LDk4Ny43OTI1IEwzNDcuMzYxOCw5NTcuNTI2OSBMMzM3LjM2MTgsOTQ3LjUyNjkgTDE3NC42NCw5NDcuNTI2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTMzNy4zNjE4LDk0Ny41MjY5IEwzMzcuMzYxOCw5NTcuNTI2OSBMMzQ3LjM2MTgsOTU3LjUyNjkgTDMzNy4zNjE4LDk0Ny41MjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUxLjcyMTgiIHg9IjE4MC42NCIgeT0iOTY0LjU5MzgiPlR5cGVTY3JpcHQgJiMxMjQ2NzsmIzEyNTMxOyYjMTI0OTc7JiMxMjQ1MjsmIzEyNTIxOyYjMTIzNjQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4wMDAxIiB4PSIxODAuNjQiIHk9Ijk3OS43MjY2Ij4mIzIyNDExOyYjMTIzOTg7JiMxOTk4MTsmIzI1OTcyOyYjMjE1MTI7JiMxMjQzNDsmIzI2OTA4OyYjMjA5ODY7PC90ZXh0PjwvZz48IS0tbGluayBiYWNrZW5kIHRvIHNwZWMtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iYmFja2VuZCIgZGF0YS1lbnRpdHktMj0ic3BlYyIgZGF0YS1zb3VyY2UtbGluZT0iMzgiIGRhdGEtdWlkPSJsbms5IiBpZD0ibGlua19iYWNrZW5kX3NwZWMiPjxwYXRoIGNvZGVMaW5lPSIzOCIgZD0iTTI2MSwyNzMuOTk2MyBDMjYxLDI3NS4xNTA4IDI2MSwyNzYuMzA5NSAyNjEsMjc3LjQ3MjMgQzI2MSwyNzkuNzk3OSAyNjEsMjgyLjEzOTYgMjYxLDI4NC40OTUyIEMyNjEsMjg5LjIwNjMgMjYxLDI5My45NzI4IDI2MSwyOTguNzc2MiBDMjYxLDMwOC4zODMgMjYxLDMxOC4xMzc1IDI2MSwzMjcuODkxOSBDMjYxLDMzMC4zMzA1IDI2MSwzMzIuNzY5MSAyNjEsMzM1LjIwNTMgQzI2MSwzMzUuODE0NCAyNjEsMzM2LjQyMzMgMjYxLDMzNy4wMzIxIEMyNjEsMzM3LjMzNjQgMjYxLDMzMS42NDA4IDI2MSwzMzEuOTQ1IiBmaWxsPSJub25lIiBpZD0iYmFja2VuZC10by1zcGVjIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjEsMzM3Ljk0NSwyNjUsMzI4Ljk0NSwyNjEsMzMyLjk0NSwyNTcsMzI4Ljk0NSwyNjEsMzM3Ljk0NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC43ODk2IiB4PSIyNjIiIHk9IjMxMC40NDM4Ij5zcHJpbmdkb2Mtb3BlbmFwaTwvdGV4dD48L2c+PCEtLWxpbmsgc3BlYyB0byBmcm9udGVuZC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJzcGVjIiBkYXRhLWVudGl0eS0yPSJmcm9udGVuZCIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGRhdGEtdWlkPSJsbmsxMCIgaWQ9Imxpbmtfc3BlY19mcm9udGVuZCI+PHBhdGggY29kZUxpbmU9IjM5IiBkPSJNMjYxLDYwMC4wMDEyIEMyNjEsNjAxLjExNDYgMjYxLDYwMi4yMzExIDI2MSw2MDMuMzUwMiBDMjYxLDYwNS41ODg1IDI2MSw2MDcuODM3NyAyNjEsNjEwLjA5NTUgQzI2MSw2MTkuMTI2OCAyNjEsNjI4LjI5NjkgMjYxLDYzNy40NjY5IEMyNjEsNjQyLjA1MTkgMjYxLDY0Ni42MzY5IDI2MSw2NTEuMjA0NSBDMjYxLDY1My40ODgzIDI2MSw2NTUuNzY3NyAyNjEsNjU4LjA0MDcgQzI2MSw2NTkuMTc3MSAyNjEsNjYwLjMxMiAyNjEsNjYxLjQ0NDkgQzI2MSw2NjIuMDExNCAyNjEsNjU2LjU3NzQgMjYxLDY1Ny4xNDI5IiBmaWxsPSJub25lIiBpZD0ic3BlYy10by1mcm9udGVuZCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjYxLDY2My4xNDI5LDI2NSw2NTQuMTQyOSwyNjEsNjU4LjE0MjksMjU3LDY1NC4xNDI5LDI2MSw2NjMuMTQyOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0Ljg0ODYiIHg9IjI2MiIgeT0iNjM1LjUyMzgiPk9ydmFsPC90ZXh0PjwvZz48IS0tbGluayBmcm9udGVuZCB0byBHTU4xMS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJmcm9udGVuZCIgZGF0YS1lbnRpdHktMj0iR01OMTEiIGRhdGEtc291cmNlLWxpbmU9IjQyIiBkYXRhLXVpZD0ibG5rMTMiIGlkPSJsaW5rX2Zyb250ZW5kX0dNTjExIj48cGF0aCBkPSJNMjYxLDg5Mi43NTQ1IEMyNjEsODkzLjI4OTQgMjYxLDg5My44MjM1IDI2MSw4OTQuMzU2OSBDMjYxLDg5NS40MjM1IDI2MSw4OTYuNDg2OCAyNjEsODk3LjU0NjEgQzI2MSw4OTkuNjY0NyAyNjEsOTAxLjc2NzUgMjYxLDkwMy44NDkyIEMyNjEsOTIwLjUwMzEgMjYxLDkzNS44MTE5IDI2MSw5NDcuMTQ2OSIgZmlsbD0ibm9uZSIgaWQ9ImZyb250ZW5kLUdNTjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjwhLS1TUkM9W1pQQkZRekgwNUNWbHlyU3lVZWFVVGwtMDc4SlFLcU5TdWxPa2F5ZFJQSklQNk1RYzJxaWhqMWo0WW1mTE1GM1dacWtYd3k0QWplVEkxVi1PUVBSLTZSdWFSR3BoSE5COVZEeXRCLV94Y1VVYnBuM0Fwd19CcXlGb25NQXZWbjhFSmd6LVZ4ZlVfNkJDZWwxU1pTY201ZWdaSzFIWHpadEM1ZzR1MnlLWHQ3ZDA5X3BrNmQwNzJIVkZLQU1tb3FKNmRPRHI4VklFeWVfSDZRcVNhWnhxTGdlbnlBUW1lTERTYUh4bmw5S0lQeEJqZ01kRkFJUklSclhDZlVfQWM2NkVnZjRzYlNTbk1hV2JWU2tkMHZrWVBHeXJrSVBlZFRJQUZRVWRjc1hXS0FybFJTQkxwX2RvdjRDVG1uYUtEQWpFZGY4REQxY3VhVnFmcHBESUxwQjVwRERfT3NaQ3A1WW9Nb19IblFtSkNXUE5weWV3QUxranQtX19Dcktldmc3dUxYRC1ySzVUUEhtQUF1cmxXOC1pZmkwclNLYWxUaUc1aGI5X2lac2F5bHlFU3lpeVhrWC0xN2lHUktMaVhKa0xvbHFsVFY3d25xTjRFbHBSRGJ0LUNRWVRGQTV4a0JjMnpibzdsanNQTmt6VTB2dndjQWY3Z2FObFhac2gydk1aM0hwM200dnVuZlpJN1k3SHRraVN6QVdyaUItZThDcEVRZTNsbWttdTU1XzNtSGo2Y3J1ai1DTlJ2Vm95RjJCNHh2Vjc3eWtOYndwZ05STnkwbTAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="432-union">4.3.2 Union 型による厳密な型定義<a class="headerlink" href="#432-union" title="Permanent link">&para;</a></h3>
<p>OpenAPI の enum は TypeScript の Union 型として生成されます。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 自動生成された型（src/api/model/accountResponse.ts）</span>
<span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AccountResponse</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">accountCode</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">accountName</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// enum は Union 型として生成</span>
<span class="w">  </span><span class="nx">bsplType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;P&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="nx">debitCreditType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;借&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;貸&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;資産&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;負債&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;純資産&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;収益&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;費用&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="nx">displayOrder</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>これにより、コンパイル時に不正な値を検出できます。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// コンパイルエラー：&#39;X&#39; は型 &#39;&quot;B&quot; | &quot;P&quot;&#39; に割り当てられません</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="w">  </span><span class="nx">bsplType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// エラー！</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="433-props">4.3.3 Props の型定義<a class="headerlink" href="#433-props" title="Permanent link">&para;</a></h3>
<p>View コンポーネントの Props は API の型を活用して定義します。</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountResponse</span><span class="p">,</span><span class="w"> </span><span class="nx">AccountRequest</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/model&#39;</span><span class="p">;</span>

<span class="c1">// 一覧表示用 Props</span>
<span class="kd">interface</span><span class="w"> </span><span class="nx">AccountCollectionProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">accounts</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">[];</span>
<span class="w">  </span><span class="nx">selectedAccountCode?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onSelect</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onCreate</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 詳細表示用 Props</span>
<span class="kd">interface</span><span class="w"> </span><span class="nx">AccountSingleProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onEdit</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onDelete</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 編集モーダル用 Props</span>
<span class="kd">interface</span><span class="w"> </span><span class="nx">AccountEditModalProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">account?</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">;</span><span class="w">  </span><span class="c1">// undefined の場合は新規作成</span>
<span class="w">  </span><span class="nx">onSave</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountRequest</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onCancel</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isSubmitting</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="434">4.3.4 型ガード関数<a class="headerlink" href="#434" title="Permanent link">&para;</a></h3>
<p>実行時の型チェックが必要な場合は、型ガード関数を使用します。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/utils/typeGuards.ts</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountResponse</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/model&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">isAccountResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">obj</span><span class="o">:</span><span class="w"> </span><span class="kt">unknown</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="nx">is</span><span class="w"> </span><span class="nx">AccountResponse</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">unknown</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ow">typeof</span><span class="w"> </span><span class="nx">account</span><span class="p">.</span><span class="nx">accountCode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="ow">typeof</span><span class="w"> </span><span class="nx">account</span><span class="p">.</span><span class="nx">accountName</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="p">(</span><span class="nx">account</span><span class="p">.</span><span class="nx">bsplType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">account</span><span class="p">.</span><span class="nx">bsplType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;P&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="p">(</span><span class="nx">account</span><span class="p">.</span><span class="nx">debitCreditType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;借&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">account</span><span class="p">.</span><span class="nx">debitCreditType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;貸&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// 使用例</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">handleData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">unknown</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isAccountResponse</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// data は AccountResponse 型として扱われる</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">accountName</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<hr />
<h2 id="44">4.4 財務会計特有の考慮事項<a class="headerlink" href="#44" title="Permanent link">&para;</a></h2>
<h3 id="441">4.4.1 金額の取り扱い<a class="headerlink" href="#441" title="Permanent link">&para;</a></h3>
<p>金額計算には精度が重要です。JavaScript の浮動小数点演算ではなく、decimal.js を使用します。</p>
<p><strong>金額ユーティリティ</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/utils/money.ts</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Decimal</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;decimal.js&#39;</span><span class="p">;</span>

<span class="c1">// 金額の型定義</span>
<span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">Money</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="kt">Decimal</span><span class="p">;</span>
<span class="w">  </span><span class="nx">currency</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// 金額を生成</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">createMoney</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span>
<span class="w">  </span><span class="nx">currency</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;JPY&#39;</span>
<span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">Money</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="kt">new</span><span class="w"> </span><span class="nx">Decimal</span><span class="p">(</span><span class="nx">amount</span><span class="p">),</span>
<span class="w">  </span><span class="nx">currency</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">// 金額の加算</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">addMoney</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="kt">Money</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="kt">Money</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">Money</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">currency</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">currency</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;通貨が異なります&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="kt">a.amount.plus</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">amount</span><span class="p">),</span>
<span class="w">    </span><span class="nx">currency</span><span class="o">:</span><span class="w"> </span><span class="kt">a.currency</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="c1">// 金額の減算</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">subtractMoney</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="kt">Money</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="kt">Money</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">Money</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">currency</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">currency</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;通貨が異なります&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="kt">a.amount.minus</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">amount</span><span class="p">),</span>
<span class="w">    </span><span class="nx">currency</span><span class="o">:</span><span class="w"> </span><span class="kt">a.currency</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="c1">// 金額のフォーマット（3桁カンマ）</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">formatMoney</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">money</span><span class="o">:</span><span class="w"> </span><span class="kt">Money</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formatted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">money</span><span class="p">.</span><span class="nx">amount</span>
<span class="w">    </span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\B(?=(\d{3})+(?!\d))/g</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">money</span><span class="p">.</span><span class="nx">currency</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;JPY&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="sb">`¥</span><span class="si">${</span><span class="nx">formatted</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">money</span><span class="p">.</span><span class="nx">currency</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">formatted</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// 金額の比較</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">compareMoney</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="kt">Money</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="kt">Money</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">amount</span><span class="p">.</span><span class="nx">comparedTo</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">amount</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// ゼロ判定</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">isZero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">money</span><span class="o">:</span><span class="w"> </span><span class="kt">Money</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">money</span><span class="p">.</span><span class="nx">amount</span><span class="p">.</span><span class="nx">isZero</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>金額表示コンポーネント</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/views/common/MoneyDisplay.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Decimal</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;decimal.js&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;./MoneyDisplay.css&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Props</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">showSign?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="nx">colorBySign?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="nx">className?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">MoneyDisplay</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">amount</span><span class="p">,</span>
<span class="w">  </span><span class="nx">showSign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nx">colorBySign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nx">className</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">decimal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Decimal</span><span class="p">(</span><span class="nx">amount</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">isNegative</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">decimal</span><span class="p">.</span><span class="nx">isNegative</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">absValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">decimal</span><span class="p">.</span><span class="nx">abs</span><span class="p">().</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// 3桁カンマ区切り</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">formatted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">absValue</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\B(?=(\d{3})+(?!\d))/g</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// 符号の決定</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">sign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">showSign</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">sign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">isNegative</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;+&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isNegative</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">sign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// CSSクラスの決定</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">colorClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">colorBySign</span>
<span class="w">    </span><span class="o">?</span><span class="w"> </span><span class="nx">isNegative</span>
<span class="w">      </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;is-negative&#39;</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;is-positive&#39;</span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`money-display </span><span class="si">${</span><span class="nx">colorClass</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">className</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">sign</span><span class="p">}</span><span class="err">¥</span><span class="p">{</span><span class="nx">formatted</span><span class="p">}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="442">4.4.2 貸借表示<a class="headerlink" href="#442" title="Permanent link">&para;</a></h3>
<p>複式簿記では、借方（デビット）と貸方（クレジット）を明確に区別して表示します。</p>
<p><strong>仕訳明細表示コンポーネント</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/views/journal/JournalDetailView.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JournalDetailResponse</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/model&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">MoneyDisplay</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/views/common/MoneyDisplay&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;./JournalDetailView.css&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Props</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">details</span><span class="o">:</span><span class="w"> </span><span class="kt">JournalDetailResponse</span><span class="p">[];</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">JournalDetailView</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">details</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 借方・貸方の合計を計算</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">totalDebit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">details</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">sum</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">debitAmount</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mf">0</span><span class="p">),</span>
<span class="w">    </span><span class="mf">0</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">totalCredit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">details</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">sum</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">creditAmount</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mf">0</span><span class="p">),</span>
<span class="w">    </span><span class="mf">0</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">table</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;journal-detail-table&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">thead</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;</span><span class="nx">勘定科目</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">th</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;amount-column&quot;</span><span class="o">&gt;</span><span class="nx">借方金額</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">th</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;amount-column&quot;</span><span class="o">&gt;</span><span class="nx">貸方金額</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;</span><span class="nx">摘要</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/tr&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/thead&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">tbody</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">details</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">detail</span><span class="p">,</span><span class="w"> </span><span class="nx">index</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">tr</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">detail</span><span class="p">.</span><span class="nx">accountName</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/td&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">td</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;amount-column&quot;</span><span class="o">&gt;</span>
<span class="w">              </span><span class="p">{</span><span class="nx">detail</span><span class="p">.</span><span class="nx">debitAmount</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">MoneyDisplay</span><span class="w"> </span><span class="nx">amount</span><span class="o">=</span><span class="p">{</span><span class="nx">detail</span><span class="p">.</span><span class="nx">debitAmount</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">              </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;&#39;</span>
<span class="w">              </span><span class="p">)}</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/td&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">td</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;amount-column&quot;</span><span class="o">&gt;</span>
<span class="w">              </span><span class="p">{</span><span class="nx">detail</span><span class="p">.</span><span class="nx">creditAmount</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">MoneyDisplay</span><span class="w"> </span><span class="nx">amount</span><span class="o">=</span><span class="p">{</span><span class="nx">detail</span><span class="p">.</span><span class="nx">creditAmount</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">              </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;&#39;</span>
<span class="w">              </span><span class="p">)}</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/td&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">detail</span><span class="p">.</span><span class="nx">description</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/td&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/tr&gt;</span>
<span class="w">        </span><span class="p">))}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/tbody&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">tfoot</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">tr</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;total-row&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">合計</span><span class="o">&lt;</span><span class="err">/td&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">td</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;amount-column&quot;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">MoneyDisplay</span><span class="w"> </span><span class="nx">amount</span><span class="o">=</span><span class="p">{</span><span class="nx">totalDebit</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/td&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">td</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;amount-column&quot;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">MoneyDisplay</span><span class="w"> </span><span class="nx">amount</span><span class="o">=</span><span class="p">{</span><span class="nx">totalCredit</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/td&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;&lt;</span><span class="err">/td&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/tr&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/tfoot&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/table&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="443">4.4.3 貸借バランスの検証<a class="headerlink" href="#443" title="Permanent link">&para;</a></h3>
<p>仕訳入力時には、借方合計と貸方合計が一致することを検証します。</p>
<p><strong>貸借バランス検証フック</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/hooks/useBalanceValidation.ts</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useMemo</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Decimal</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;decimal.js&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">JournalDetail</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">debitAmount?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">creditAmount?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">BalanceValidationResult</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">totalDebit</span><span class="o">:</span><span class="w"> </span><span class="kt">Decimal</span><span class="p">;</span>
<span class="w">  </span><span class="nx">totalCredit</span><span class="o">:</span><span class="w"> </span><span class="kt">Decimal</span><span class="p">;</span>
<span class="w">  </span><span class="nx">difference</span><span class="o">:</span><span class="w"> </span><span class="kt">Decimal</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isBalanced</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useBalanceValidation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="nx">details</span><span class="o">:</span><span class="w"> </span><span class="kt">JournalDetail</span><span class="p">[]</span>
<span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">BalanceValidationResult</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">useMemo</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">totalDebit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">details</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span><span class="p">.</span><span class="nx">plus</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">Decimal</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">debitAmount</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mf">0</span><span class="p">));</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Decimal</span><span class="p">(</span><span class="mf">0</span><span class="p">));</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">totalCredit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">details</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span><span class="p">.</span><span class="nx">plus</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">Decimal</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">creditAmount</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mf">0</span><span class="p">));</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Decimal</span><span class="p">(</span><span class="mf">0</span><span class="p">));</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">totalDebit</span><span class="p">.</span><span class="nx">minus</span><span class="p">(</span><span class="nx">totalCredit</span><span class="p">).</span><span class="nx">abs</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">isBalanced</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">difference</span><span class="p">.</span><span class="nx">isZero</span><span class="p">();</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">totalDebit</span><span class="p">,</span>
<span class="w">      </span><span class="nx">totalCredit</span><span class="p">,</span>
<span class="w">      </span><span class="nx">difference</span><span class="p">,</span>
<span class="w">      </span><span class="nx">isBalanced</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">details</span><span class="p">]);</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>使用例</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/components/journal/entry/JournalEntryContainer.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useBalanceValidation</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/hooks/useBalanceValidation&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">JournalEntryContainer</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">details</span><span class="p">,</span><span class="w"> </span><span class="nx">setDetails</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="nx">JournalDetail</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">([]);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">isBalanced</span><span class="p">,</span><span class="w"> </span><span class="nx">totalDebit</span><span class="p">,</span><span class="w"> </span><span class="nx">totalCredit</span><span class="p">,</span><span class="w"> </span><span class="nx">difference</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nx">useBalanceValidation</span><span class="p">(</span><span class="nx">details</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isBalanced</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">alert</span><span class="p">(</span><span class="sb">`貸借が一致しません。差額: ¥</span><span class="si">${</span><span class="nx">difference</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// 保存処理</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">JournalEntryForm</span>
<span class="w">      </span><span class="nx">details</span><span class="o">=</span><span class="p">{</span><span class="nx">details</span><span class="p">}</span>
<span class="w">      </span><span class="nx">onDetailsChange</span><span class="o">=</span><span class="p">{</span><span class="nx">setDetails</span><span class="p">}</span>
<span class="w">      </span><span class="nx">totalDebit</span><span class="o">=</span><span class="p">{</span><span class="nx">totalDebit</span><span class="p">.</span><span class="nx">toNumber</span><span class="p">()}</span>
<span class="w">      </span><span class="nx">totalCredit</span><span class="o">=</span><span class="p">{</span><span class="nx">totalCredit</span><span class="p">.</span><span class="nx">toNumber</span><span class="p">()}</span>
<span class="w">      </span><span class="nx">isBalanced</span><span class="o">=</span><span class="p">{</span><span class="nx">isBalanced</span><span class="p">}</span>
<span class="w">      </span><span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}</span>
<span class="w">    </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="444">4.4.4 会計期間の管理<a class="headerlink" href="#444" title="Permanent link">&para;</a></h3>
<p>財務会計では、会計期間（決算期）の概念が重要です。</p>
<p><strong>会計期間の型定義</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/types/accountingPeriod.ts</span>
<span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AccountingPeriod</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">year</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">startDate</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">endDate</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isClosed</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">FiscalMonth</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">year</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">month</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">startDate</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">endDate</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isClosed</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>会計期間セレクタコンポーネント</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/views/common/PeriodSelector.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useAccountingPeriod</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/providers/AccountingPeriodProvider&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;./PeriodSelector.css&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">PeriodSelector</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">currentPeriod</span><span class="p">,</span><span class="w"> </span><span class="nx">setPeriod</span><span class="p">,</span><span class="w"> </span><span class="nx">isMonthly</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsMonthly</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nx">useAccountingPeriod</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;period-selector&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;period-selector__type&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">label</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">input</span>
<span class="w">            </span><span class="kr">type</span><span class="o">=</span><span class="s2">&quot;radio&quot;</span>
<span class="w">            </span><span class="nx">checked</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">isMonthly</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setIsMonthly</span><span class="p">(</span><span class="kc">false</span><span class="p">)}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="nx">年次</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">label</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">input</span>
<span class="w">            </span><span class="kr">type</span><span class="o">=</span><span class="s2">&quot;radio&quot;</span>
<span class="w">            </span><span class="nx">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">isMonthly</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setIsMonthly</span><span class="p">(</span><span class="kc">true</span><span class="p">)}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="nx">月次</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/label&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;period-selector__period&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">currentPeriod</span><span class="p">.</span><span class="nx">year</span><span class="p">}</span><span class="nx">年度</span>
<span class="w">          </span><span class="p">{</span><span class="nx">isMonthly</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">currentPeriod</span><span class="p">.</span><span class="nx">month</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="sb">` </span><span class="si">${</span><span class="nx">currentPeriod</span><span class="p">.</span><span class="nx">month</span><span class="si">}</span><span class="sb">月`</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;period-selector__range&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">({</span><span class="nx">currentPeriod</span><span class="p">.</span><span class="nx">startDate</span><span class="p">}</span><span class="w"> </span><span class="err">〜</span><span class="w"> </span><span class="p">{</span><span class="nx">currentPeriod</span><span class="p">.</span><span class="nx">endDate</span><span class="p">})</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="445">4.4.5 権限による表示制御<a class="headerlink" href="#445" title="Permanent link">&para;</a></h3>
<p>財務会計システムでは、ロールに基づいた表示制御が必要です。</p>
<p><strong>権限チェックフック</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/hooks/usePermission.ts</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useAuth</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/providers/AuthProvider&#39;</span><span class="p">;</span>

<span class="kr">type</span><span class="w"> </span><span class="nx">Permission</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;account:read&#39;</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;account:write&#39;</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;journal:read&#39;</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;journal:write&#39;</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;journal:approve&#39;</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;statement:read&#39;</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;closing:execute&#39;</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;admin:all&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">rolePermissions</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">Permission</span><span class="p">[]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">accountant</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s1">&#39;account:read&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;account:write&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;journal:read&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;journal:write&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;statement:read&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nx">manager</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s1">&#39;account:read&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;journal:read&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;journal:approve&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;statement:read&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;closing:execute&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nx">auditor</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;account:read&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;journal:read&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;statement:read&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">admin</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;admin:all&#39;</span><span class="p">],</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">usePermission</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">user</span><span class="p">,</span><span class="w"> </span><span class="nx">hasRole</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useAuth</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">hasPermission</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">permission</span><span class="o">:</span><span class="w"> </span><span class="kt">Permission</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">user</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 管理者は全権限を持つ</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">hasRole</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// ユーザーの全ロールの権限をチェック</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">roles</span><span class="p">.</span><span class="nx">some</span><span class="p">((</span><span class="nx">role</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rolePermissions</span><span class="p">[</span><span class="nx">role</span><span class="p">];</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">permissions</span><span class="o">?</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">permission</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">hasPermission</span><span class="w"> </span><span class="p">};</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>権限ガードコンポーネント</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// src/components/common/PermissionGuard.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">usePermission</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/hooks/usePermission&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Props</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">permission</span><span class="o">:</span><span class="w"> </span><span class="kt">Permission</span><span class="p">;</span>
<span class="w">  </span><span class="nx">children</span><span class="o">:</span><span class="w"> </span><span class="kt">React.ReactNode</span><span class="p">;</span>
<span class="w">  </span><span class="nx">fallback?</span><span class="o">:</span><span class="w"> </span><span class="kt">React.ReactNode</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">PermissionGuard</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">permission</span><span class="p">,</span>
<span class="w">  </span><span class="nx">children</span><span class="p">,</span>
<span class="w">  </span><span class="nx">fallback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">hasPermission</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">usePermission</span><span class="p">();</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">hasPermission</span><span class="p">(</span><span class="nx">permission</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="p">{</span><span class="nx">fallback</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/&gt;;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/&gt;;</span>
<span class="p">};</span>

<span class="c1">// 使用例</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">JournalActions</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">PermissionGuard</span><span class="w"> </span><span class="nx">permission</span><span class="o">=</span><span class="s2">&quot;journal:write&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span><span class="o">&gt;</span><span class="nx">編集</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/PermissionGuard&gt;</span>

<span class="w">    </span><span class="o">&lt;</span><span class="nx">PermissionGuard</span><span class="w"> </span><span class="nx">permission</span><span class="o">=</span><span class="s2">&quot;journal:approve&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span><span class="o">&gt;</span><span class="nx">承認</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/PermissionGuard&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="45">4.5 コンポーネント設計指針<a class="headerlink" href="#45" title="Permanent link">&para;</a></h2>
<h3 id="451">4.5.1 命名規則<a class="headerlink" href="#451" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>種類</th>
<th>命名規則</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container</td>
<td><code>〇〇Container</code></td>
<td><code>AccountContainer</code></td>
</tr>
<tr>
<td>一覧 View</td>
<td><code>〇〇Collection</code></td>
<td><code>AccountCollection</code></td>
</tr>
<tr>
<td>詳細 View</td>
<td><code>〇〇Single</code></td>
<td><code>AccountSingle</code></td>
</tr>
<tr>
<td>編集モーダル</td>
<td><code>〇〇EditModal</code></td>
<td><code>AccountEditModal</code></td>
</tr>
<tr>
<td>検索モーダル</td>
<td><code>〇〇SearchModal</code></td>
<td><code>JournalSearchModal</code></td>
</tr>
<tr>
<td>フォーム</td>
<td><code>〇〇Form</code></td>
<td><code>JournalEntryForm</code></td>
</tr>
</tbody>
</table>
<h3 id="452-props">4.5.2 Props 設計の原則<a class="headerlink" href="#452-props" title="Permanent link">&para;</a></h3>
<p><strong>1. コールバック Props の命名</strong>:
- <code>on〇〇</code>: イベントハンドラー（例: <code>onSelect</code>, <code>onCreate</code>, <code>onCancel</code>）
- <code>is〇〇</code>: boolean 状態（例: <code>isLoading</code>, <code>isSubmitting</code>, <code>isSelected</code>）</p>
<p><strong>2. データ Props と関数 Props の分離</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 良い例: データと関数を明確に分離</span>
<span class="kd">interface</span><span class="w"> </span><span class="nx">AccountCollectionProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// データ Props</span>
<span class="w">  </span><span class="nx">accounts</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">[];</span>
<span class="w">  </span><span class="nx">selectedAccountCode?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// 関数 Props</span>
<span class="w">  </span><span class="nx">onSelect</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">onCreate</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>3. 必須/オプショナルの明確化</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">interface</span><span class="w"> </span><span class="nx">AccountEditModalProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">account?</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountResponse</span><span class="p">;</span><span class="w">        </span><span class="c1">// オプショナル（新規作成時は undefined）</span>
<span class="w">  </span><span class="nx">onSave</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">AccountRequest</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span><span class="w">  </span><span class="c1">// 必須</span>
<span class="w">  </span><span class="nx">onCancel</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span><span class="w">             </span><span class="c1">// 必須</span>
<span class="w">  </span><span class="nx">isSubmitting</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span><span class="w">            </span><span class="c1">// 必須</span>
<span class="w">  </span><span class="nx">errors?</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="o">&gt;</span><span class="p">;</span><span class="w">  </span><span class="c1">// オプショナル</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="453">4.5.3 ファイル構成<a class="headerlink" href="#453" title="Permanent link">&para;</a></h3>
<p>各コンポーネントは以下のファイル構成とします。</p>
<div class="highlight"><pre><span></span><code>src/views/master/account/
├── AccountCollection.tsx      # コンポーネント
├── AccountCollection.css      # スタイル
├── AccountCollection.test.tsx # テスト
└── index.ts                   # エクスポート
</code></pre></div>
<p><strong>index.ts</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountCollection</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./AccountCollection&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AccountCollectionProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./AccountCollection&#39;</span><span class="p">;</span>
</code></pre></div>
<hr />
<h2 id="46">4.6 まとめ<a class="headerlink" href="#46" title="Permanent link">&para;</a></h2>
<p>本章では、財務会計システムのフロントエンドアーキテクチャについて解説しました。</p>
<h3 id="_1">重要ポイント<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Container / View パターン</strong>: データ取得と表示の責務を明確に分離</li>
<li><strong>状態管理の使い分け</strong>: サーバー状態（TanStack Query）、クライアント状態（Context）、ローカル状態（useState）の適切な選択</li>
<li><strong>型安全性</strong>: Orval 生成の型定義を活用し、コンパイル時に型エラーを検出</li>
<li><strong>財務会計特有の考慮</strong>: 金額計算の精度、貸借バランス検証、権限制御</li>
</ol>
<h3 id="_2">次章の内容<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>第5章では、アプリケーション基盤として、ルーティング設定、認証ガード、共通レイアウトの実装について解説します。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/case-study-accounting" target="_blank" rel="noopener" title="財務会計システム ケーススタディ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../assets/js/extra.js"></script>
      
    
  </body>
</html>