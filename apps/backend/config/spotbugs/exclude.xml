<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!-- テストコードは除外 -->
    <Match>
        <Source name="~.*Test\.java"/>
    </Match>
    <Match>
        <Source name="~.*Tests\.java"/>
    </Match>

    <!-- Spring の設定クラスの警告を除外 -->
    <Match>
        <Class name="~.*Config"/>
        <Bug pattern="EI_EXPOSE_REP"/>
    </Match>
    <Match>
        <Class name="~.*Config"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <!-- Spring DI のコンストラクタインジェクションパターン (Service, Repository, Controller) -->
    <Match>
        <Class name="~.*Service"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>
    <Match>
        <Class name="~.*RepositoryImpl"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>
    <Match>
        <Class name="~.*Controller"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <!-- JwtService のコンストラクタ例外スローを許可 (初期化時の設定検証) -->
    <Match>
        <Class name="com.example.accounting.infrastructure.security.JwtService"/>
        <Bug pattern="CT_CONSTRUCTOR_THROW"/>
    </Match>

    <!-- Record クラスのコンストラクタ警告を除外 -->
    <Match>
        <Bug pattern="EI_EXPOSE_REP"/>
        <Class name="~.*Properties"/>
    </Match>

    <!-- Record クラスの getter 警告を除外 -->
    <Match>
        <Bug pattern="EI_EXPOSE_REP"/>
        <Class name="~.*Response"/>
    </Match>
    <Match>
        <Bug pattern="EI_EXPOSE_REP2"/>
        <Class name="~.*Response"/>
    </Match>

    <!-- Lombok 生成コードの警告を除外 -->
    <Match>
        <Bug pattern="EI_EXPOSE_REP"/>
        <Annotation name="lombok.Data"/>
    </Match>
    <Match>
        <Bug pattern="EI_EXPOSE_REP2"/>
        <Annotation name="lombok.Data"/>
    </Match>
    <Match>
        <Bug pattern="EI_EXPOSE_REP"/>
        <Annotation name="lombok.Getter"/>
    </Match>
    <Match>
        <Bug pattern="EI_EXPOSE_REP2"/>
        <Annotation name="lombok.Setter"/>
    </Match>
</FindBugsFilter>
