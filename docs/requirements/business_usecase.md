# ビジネスユースケース - 財務会計システム

## 概要

本ドキュメントは、財務会計システムのビジネスユースケースを定義します。
ビジネスユースケースは、企業レベルでの業務プロセスを表現し、システムユースケースの上位に位置します。

## アクター・目的リスト

| アクター | 目的 | レベル | 優先度 | 頻度 |
|---------|------|--------|--------|------|
| 経理担当者 | 日々の取引を仕訳として記録する | ☁️ | 高 | 毎日 |
| 経理担当者 | 元帳・残高を照会する | 🌊 | 高 | 毎日 |
| 経理責任者 | 仕訳を承認・確定する | 🌊 | 高 | 毎日 |
| 経理責任者 | 勘定科目を管理する | 🌊 | 中 | 随時 |
| 経理責任者 | 月次・年次決算を行う | ☁️ | 高 | 月次/年次 |
| 経営者 | 財務状況を把握する | ☁️ | 高 | 随時 |
| 経営者 | 経営判断のための指標を確認する | 🌊 | 高 | 随時 |
| システム管理者 | ユーザーを管理する | 🌊 | 中 | 随時 |
| システム管理者 | 監査ログを確認する | 🌊 | 中 | 随時 |

---

## BUC-001: 🏢日常経理業務を行う☁️

**使用時のコンテキスト**: 経理部門が日々の取引を財務会計システムに記録し、適切な承認プロセスを経て元帳に反映する業務

**スコープ**: 企業（経理部門）

**レベル**: 要約

**主アクター**: 経理担当者

**利害関係者と利益**:
- 経理担当者: 取引を正確かつ効率的に記録したい
- 経理責任者: 仕訳の正当性を確認し、内部統制を維持したい
- 経営者: 正確な財務データに基づいて経営判断したい
- 税務署: 適正な会計処理が行われていることを確認したい
- 監査法人: 会計記録の証跡を確認したい

**事前条件**:
- ユーザーがシステムにログインしている
- 必要な勘定科目がマスタに登録されている
- 会計期間が設定されている

**最低保証**: 入力されたデータは監査ログに記録される

**成功時保証**: 取引が正確に記録され、元帳に反映される

**トリガー**: 取引（売上、仕入、経費等）が発生した

**主成功シナリオ**:
1. 経理担当者が取引内容を確認し、証憑書類を準備する
2. 経理担当者が仕訳を入力する
3. システムが貸借一致を検証する
4. 経理担当者が仕訳の承認を申請する
5. 経理責任者が仕訳内容を確認する
6. 経理責任者が仕訳を承認する
7. 経理責任者が仕訳を確定する
8. システムが元帳に転記する
9. 経理担当者が残高を確認する

**拡張**:
- 2a. 定型取引の場合:
    - 2a1. 経理担当者が自動仕訳設定を選択する
    - 2a2. システムが仕訳を自動生成する
- 3a. 貸借が一致しない場合:
    - 3a1. システムがエラーを表示する
    - 3a2. 経理担当者が金額を修正する
- 6a. 仕訳に問題がある場合:
    - 6a1. 経理責任者が差し戻し理由を入力する
    - 6a2. 経理責任者が仕訳を差し戻す
    - 6a3. 経理担当者が仕訳を修正する（ステップ2へ）

**関連情報**:
- 関連システムユースケース: UC-JNL-001〜UC-JNL-010, UC-LDG-001〜UC-LDG-003

---

## BUC-002: 🏢月次決算を行う☁️

**使用時のコンテキスト**: 月末に経理部門が当月の財務データを締め、試算表を作成して経営層に報告する業務

**スコープ**: 企業（経理部門）

**レベル**: 要約

**主アクター**: 経理責任者

**利害関係者と利益**:
- 経理責任者: 月次の財務状況を正確に把握し、報告したい
- 経営者: タイムリーに財務状況を把握し、経営判断に活かしたい
- 管理会計担当: 部門別・プロジェクト別の収支を確認したい

**事前条件**:
- 当月の全ての仕訳が入力されている
- 前月までの月次締めが完了している

**最低保証**: 締め処理の実行状況が記録される

**成功時保証**: 当月の財務データが確定し、試算表が生成される

**トリガー**: 月末（営業日の最終日）が到来した

**主成功シナリオ**:
1. 経理責任者が当月の仕訳一覧を確認する
2. 経理責任者が未承認・未確定の仕訳を処理する
3. 経理責任者が決算整理仕訳を入力する
4. 経理責任者が月次締め処理を実行する
5. システムが残高の整合性を検証する
6. システムが試算表を生成する
7. 経理責任者が試算表の内容を確認する
8. 経営者が財務状況を確認する

**拡張**:
- 2a. 未処理の仕訳がある場合:
    - 2a1. 経理責任者が担当者に処理を指示する
    - 2a2. 担当者が仕訳を処理する
- 5a. 残高に不整合がある場合:
    - 5a1. システムがエラーを表示する
    - 5a2. 経理責任者が原因を調査する
    - 5a3. 経理責任者が調整仕訳を入力する（ステップ4へ）

**関連情報**:
- 関連システムユースケース: UC-LDG-004〜UC-LDG-005, UC-FS-001〜UC-FS-002

---

## BUC-003: 🏢年次決算を行う☁️

**使用時のコンテキスト**: 決算期末に経理部門が年間の財務データを締め、財務諸表を作成する業務

**スコープ**: 企業（経理部門）

**レベル**: 要約

**主アクター**: 経理責任者

**利害関係者と利益**:
- 経理責任者: 適正な財務諸表を作成し、法定開示義務を果たしたい
- 経営者: 経営成績と財政状態を正確に把握したい
- 株主: 投資判断のための財務情報を得たい
- 税務署: 適正な税務申告が行われることを確認したい
- 監査法人: 財務諸表の適正性を監査したい

**事前条件**:
- 当期の全ての月次締めが完了している
- 決算整理事項が把握されている

**最低保証**: 決算処理の実行状況が記録される

**成功時保証**: 財務諸表（貸借対照表、損益計算書）が生成される

**トリガー**: 決算期末が到来した

**主成功シナリオ**:
1. 経理責任者が最終月の月次締めを完了する
2. 経理責任者が決算整理仕訳（減価償却、引当金等）を入力する
3. 経理責任者が年次締め処理を実行する
4. システムが貸借対照表を生成する
5. システムが損益計算書を生成する
6. 経理責任者が財務諸表の内容を確認する
7. 経営者が財務諸表を承認する
8. 経理責任者が財務諸表を出力する

**拡張**:
- 6a. 財務諸表に問題がある場合:
    - 6a1. 経理責任者が原因を調査する
    - 6a2. 経理責任者が修正仕訳を入力する
    - 6a3. 経理責任者が年次締めを再実行する（ステップ3へ）

**関連情報**:
- 関連システムユースケース: UC-FS-001〜UC-FS-003

---

## BUC-004: 🏢財務分析を行う☁️

**使用時のコンテキスト**: 経営者が財務データに基づいて経営判断を行うために、各種財務指標を確認する業務

**スコープ**: 企業（経営層）

**レベル**: 要約

**主アクター**: 経営者

**利害関係者と利益**:
- 経営者: 客観的な指標に基づいて経営判断を行いたい
- 取締役会: 経営状況を把握し、監督責任を果たしたい
- 株主: 企業価値の向上を確認したい
- 金融機関: 融資判断のための財務情報を得たい

**事前条件**:
- 分析対象期間の財務データが確定している
- ユーザーが財務諸表の閲覧権限を持っている

**最低保証**: なし

**成功時保証**: 財務指標が算出され、分析レポートが表示される

**トリガー**: 経営者が財務分析を要求した

**主成功シナリオ**:
1. 経営者が分析対象期間を指定する
2. システムが財務諸表データを取得する
3. システムが各種財務指標を算出する
4. システムが分析レポートを表示する
5. 経営者が指標の推移を確認する
6. 経営者が業界平均との比較を確認する

**拡張**:
- 4a. グラフ表示が必要な場合:
    - 4a1. 経営者がグラフ形式を選択する
    - 4a2. システムがグラフを描画する

**関連情報**:
- 関連システムユースケース: UC-FS-003
- 主要指標: ROE、ROA、流動比率、自己資本比率、売上高利益率

---

## BUC-005: 🏢マスタデータを管理する☁️

**使用時のコンテキスト**: 経理責任者がシステムの基盤となるマスタデータ（勘定科目、自動仕訳設定等）を管理する業務

**スコープ**: 企業（経理部門）

**レベル**: 要約

**主アクター**: 経理責任者

**利害関係者と利益**:
- 経理責任者: 適切な勘定科目体系を維持し、効率的な仕訳入力を実現したい
- 経理担当者: 適切な勘定科目を選択して正確な仕訳を入力したい
- 監査法人: 勘定科目体系の妥当性を確認したい

**事前条件**:
- ユーザーがマスタ管理権限を持っている
- システムにログインしている

**最低保証**: マスタ変更の履歴が監査ログに記録される

**成功時保証**: マスタデータが適切に更新される

**トリガー**: 新しい勘定科目の追加や設定変更が必要になった

**主成功シナリオ**:
1. 経理責任者が変更対象のマスタを選択する
2. 経理責任者がマスタデータを登録/編集する
3. システムがデータの整合性を検証する
4. システムがマスタデータを保存する
5. システムが変更履歴を記録する

**拡張**:
- 2a. 勘定科目を登録する場合:
    - 2a1. 経理責任者が科目コード、科目名、種別を入力する
    - 2a2. システムが科目コードの一意性を検証する
- 2b. 勘定科目構成を設定する場合:
    - 2b1. 経理責任者が親子関係を設定する
    - 2b2. システムが循環参照がないことを検証する
- 2c. 自動仕訳設定を登録する場合:
    - 2c1. 経理責任者が借方科目、貸方科目、デフォルト金額を設定する
- 3a. 整合性エラーがある場合:
    - 3a1. システムがエラーを表示する
    - 3a2. 経理責任者が入力内容を修正する（ステップ2へ）

**関連情報**:
- 関連システムユースケース: UC-MST-001〜UC-MST-008

---

## BUC-006: 🏢システムを管理する☁️

**使用時のコンテキスト**: システム管理者がユーザー管理や監査ログの確認など、システム全体の管理業務を行う

**スコープ**: 企業（情報システム部門）

**レベル**: 要約

**主アクター**: システム管理者

**利害関係者と利益**:
- システム管理者: システムを安定稼働させ、セキュリティを維持したい
- 経理部門: 必要な権限でシステムを利用したい
- 監査法人: アクセス制御と監査証跡を確認したい
- コンプライアンス担当: 内部統制の有効性を確認したい

**事前条件**:
- ユーザーがシステム管理者権限を持っている
- システムにログインしている

**最低保証**: 管理操作の履歴が監査ログに記録される

**成功時保証**: システム管理タスクが完了する

**トリガー**: ユーザー管理や監査が必要になった

**主成功シナリオ**:
1. システム管理者が管理対象を選択する
2. システム管理者が管理操作を実行する
3. システムが操作結果を表示する
4. システムが操作履歴を記録する

**拡張**:
- 1a. ユーザー管理の場合:
    - 1a1. システム管理者がユーザー一覧を表示する
    - 1a2. システム管理者がユーザーの登録/編集/削除を行う
    - 1a3. システム管理者がロールを割り当てる
- 1b. 監査ログ確認の場合:
    - 1b1. システム管理者が検索条件を指定する
    - 1b2. システムが監査ログを表示する
    - 1b3. システム管理者がログをダウンロードする

**関連情報**:
- 関連システムユースケース: UC-AUTH-001〜UC-AUTH-006, UC-SYS-001〜UC-SYS-002

---

## トレーサビリティマトリクス

| BUC ID | ビジネスユースケース | 関連システムユースケース |
|--------|---------------------|------------------------|
| BUC-001 | 日常経理業務を行う | UC-JNL-001〜010, UC-LDG-001〜003 |
| BUC-002 | 月次決算を行う | UC-LDG-004〜005, UC-FS-001〜002 |
| BUC-003 | 年次決算を行う | UC-FS-001〜003 |
| BUC-004 | 財務分析を行う | UC-FS-003 |
| BUC-005 | マスタデータを管理する | UC-MST-001〜008 |
| BUC-006 | システムを管理する | UC-AUTH-001〜006, UC-SYS-001〜002 |
